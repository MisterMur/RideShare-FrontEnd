{"ast":null,"code":"import _toConsumableArray from \"/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/src/Components/ChatBox.js\";\nimport React, { Component, Fragment } from 'react';\n\nvar ChatBox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatBox, _Component);\n\n  function ChatBox(props) {\n    var _this;\n\n    _classCallCheck(this, ChatBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatBox).call(this, props));\n\n    _this.renderMessages = function () {\n      return _this.state.messages.map(function (message) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"incoming_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 19\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"incoming_msg_img\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        }, \" \", React.createElement(\"img\", {\n          src: \"https://ptetutorials.com/images/user-profile.png\",\n          alt: \"sunil\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        }), \" \"), React.createElement(\"div\", {\n          class: \"received_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          class: \"received_withd_msg\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        }, message.content), React.createElement(\"span\", {\n          class: \"time_date\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }, \"  \", _this.props.currentsers.find(function (user) {\n          return user.id == message.user_id;\n        }).name, \"   |  \", message.created_at, \"  \")))));\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.props.closeChat();\n    };\n\n    _this.handleInput = function (e) {\n      _this.setState({\n        formInput: e.target.value\n      });\n    };\n\n    _this.handleMessageSubmit = function () {\n      fetch('http://localhost:3000/api/v1/messages', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        },\n        body: JSON.stringify({\n          forum_id: _this.state.currentChat.id,\n          user_id: _this.state.currentUser,\n          content: _this.state.formInput\n        })\n      }).then(function (r) {\n        return r.json();\n      }).then(function (r) {\n        return _this.addNewMessage(r);\n      });\n    };\n\n    _this.addNewMessage = function (r) {\n      var copy = [].concat(_toConsumableArray(_this.state.messages), [r]);\n\n      _this.setState({\n        messages: copy\n      });\n\n      _this.setState({\n        formInput: ''\n      });\n    };\n\n    _this.state = {\n      formInput: '',\n      currentUser: _this.props.currentUser,\n      currentChat: _this.props.currentChat,\n      messages: _this.props.currentChat.messages\n    };\n    return _this;\n  }\n\n  _createClass(ChatBox, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        class: \" text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Messaging\"), React.createElement(\"div\", {\n        class: \"messaging\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"inbox_msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.handleClose();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Close Chat\"), React.createElement(\"div\", {\n        class: \"headind_srch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"mesgs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"msg_history\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.renderMessages()), React.createElement(\"div\", {\n        class: \"type_msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input_msg_write\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        class: \"write_msg\",\n        placeholder: \"Type a message\",\n        value: this.state.formInput,\n        onChange: function onChange(e) {\n          return _this2.handleInput(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        class: \"msg_send_btn\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.handleMessageSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fa fa-paper-plane-o\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })))))), React.createElement(\"p\", {\n        class: \"text-center top_spac\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \" Design by \", React.createElement(\"a\", {\n        target: \"_blank\",\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Sunil Rajput\")))));\n    }\n  }]);\n\n  return ChatBox;\n}(Component);\n\nexport default ChatBox; // <div class=\"container\">\n// <h3 class=\" text-center\">Messaging</h3>\n// <div class=\"messaging\">\n//       <div class=\"inbox_msg\">\n//         <div class=\"inbox_people\">\n//           <div class=\"headind_srch\">\n//           </div>\n//         </div>\n//         <div class=\"mesgs\">\n//           <div class=\"msg_history\">\n//             <div class=\"incoming_msg\">\n//               <div class=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> </div>\n//               <div class=\"received_msg\">\n//                 <div class=\"received_withd_msg\">\n//                   <p>Test which is a new approach to have all\n//                     solutions</p>\n//                   <span class=\"time_date\"> 11:01 AM    |    June 9</span></div>\n//               </div>\n//             </div>\n//           </div>\n//           <div class=\"type_msg\">\n//             <div class=\"input_msg_write\">\n//               <input type=\"text\" class=\"write_msg\" placeholder=\"Type a message\" />\n//               <button class=\"msg_send_btn\" type=\"button\"><i class=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//       <p class=\"text-center top_spac\"> Design by <a target=\"_blank\" href=\"#\">Sunil Rajput</a></p>\n//     </div></div>","map":{"version":3,"sources":["/Users/flatironschool/Development/mod4/RideShare/RideShare-FrontEnd/src/Components/ChatBox.js"],"names":["React","Component","Fragment","ChatBox","props","renderMessages","state","messages","map","message","content","currentsers","find","user","id","user_id","name","created_at","handleClose","closeChat","handleInput","e","setState","formInput","target","value","handleMessageSubmit","fetch","method","headers","Accept","body","JSON","stringify","forum_id","currentChat","currentUser","then","r","json","addNewMessage","copy"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react'\n\nclass ChatBox extends Component{\n\n  constructor(props){\n    super(props)\n    this.state = {\n      formInput: '',\n      currentUser: this.props.currentUser,\n      currentChat: this.props.currentChat,\n      messages: this.props.currentChat.messages\n    }\n  }\n\n  renderMessages = () => {\n    return this.state.messages.map(message => {\n      return (\n        <div>\n        <div class=\"incoming_msg\">\n          <div class=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> </div>\n          <div class=\"received_msg\">\n            <div class=\"received_withd_msg\">\n              <p>\n              {message.content}\n              </p>\n              <span class=\"time_date\">  {this.props.currentsers.find(user => user.id == message.user_id).name}   |  {message.created_at}  </span></div>\n          </div>\n        </div>\n        </div>\n      )\n    })\n\n  }\n\n  handleClose = () => {\n    this.props.closeChat()\n  }\n\n  handleInput = (e) => {\n    this.setState({formInput: e.target.value})\n  }\n\n  handleMessageSubmit = () => {\n    fetch('http://localhost:3000/api/v1/messages',\n      {method:\n        \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        },\n        body: JSON.stringify({\n          forum_id: this.state.currentChat.id,\n          user_id: this.state.currentUser,\n          content: this.state.formInput\n        })\n      }\n    )\n    .then(r => r.json())\n    .then(r => this.addNewMessage(r))\n  }\n\n  addNewMessage = (r) => {\n    let copy = [...this.state.messages, r]\n    this.setState({messages: copy})\n    this.setState({formInput: ''})\n  }\n\n  render(){\n    return (\n      <Fragment>\n      <div class=\"container\">\n      <h3 class=\" text-center\">Messaging</h3>\n      <div class=\"messaging\">\n            <div class=\"inbox_msg\">\n              <div >\n              <button onClick={() => this.handleClose()}>Close Chat</button>\n                <div class=\"headind_srch\">\n                </div>\n              </div>\n              <div class=\"mesgs\">\n                <div class=\"msg_history\">\n                {this.renderMessages()}\n                </div>\n                <div class=\"type_msg\">\n                  <div class=\"input_msg_write\">\n                    <input type=\"text\" class=\"write_msg\" placeholder=\"Type a message\" value={this.state.formInput} onChange={(e) => this.handleInput(e)}/>\n                    <button class=\"msg_send_btn\" type=\"button\" onClick={() => this.handleMessageSubmit()}><i class=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <p class=\"text-center top_spac\"> Design by <a target=\"_blank\" href=\"#\">Sunil Rajput</a></p>\n          </div></div>\n      </Fragment>\n    )\n  }\n}\n\nexport default ChatBox\n\n// <div class=\"container\">\n// <h3 class=\" text-center\">Messaging</h3>\n// <div class=\"messaging\">\n//       <div class=\"inbox_msg\">\n//         <div class=\"inbox_people\">\n//           <div class=\"headind_srch\">\n//           </div>\n//         </div>\n//         <div class=\"mesgs\">\n//           <div class=\"msg_history\">\n//             <div class=\"incoming_msg\">\n//               <div class=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> </div>\n//               <div class=\"received_msg\">\n//                 <div class=\"received_withd_msg\">\n//                   <p>Test which is a new approach to have all\n//                     solutions</p>\n//                   <span class=\"time_date\"> 11:01 AM    |    June 9</span></div>\n//               </div>\n//             </div>\n//           </div>\n//           <div class=\"type_msg\">\n//             <div class=\"input_msg_write\">\n//               <input type=\"text\" class=\"write_msg\" placeholder=\"Type a message\" />\n//               <button class=\"msg_send_btn\" type=\"button\"><i class=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//       <p class=\"text-center top_spac\"> Design by <a target=\"_blank\" href=\"#\">Sunil Rajput</a></p>\n//     </div></div>\n"]},"metadata":{},"sourceType":"module"}