{"version":3,"sources":["Constants.js","Actions.js","Components/Header.js","Components/ProfileCard.js","Components/Ride.js","Components/RideList.js","Components/Forum.js","Components/ForumsList.js","Components/Modal.js","Components/FollowerCard.js","Components/friends-box.js","Components/Profile.js","Components/Leader.js","Components/Leaderboard.js","Components/Rides.js","Components/LoginForm.js","Components/SignupForm.js","Components/ChatBox.js","Components/ForumsPage.js","App.js","serviceWorker.js","Reducers/userReducer.js","Reducers/forumsReducer.js","Reducers/ridesReducer.js","Reducers/index.js","store.js","index.js"],"names":["prodURL","USERURL","COMPANYURL","RIDEURL","FORUMSURL","LOGINURL","AUTOLOGINURL","ADD_USER","LOGIN_USER","LOGOUT_USER","REMOVE_FOLLOWER","ADD_FOLLOWER","FETCH_ALL_RIDES","FETCH_ALL_FORUMS","FETCH_ALL_USERS","FETCH_ALL_COMPANIES","FETCH_CURRENT_USER","setLoggedInUser","src","type","payload","fetchUsers","dispatch","fetch","then","res","json","users","fetchCompanies","companies","fetchRides","rides","fetchForums","forums","setLogout","localStorage","removeItem","handleErrors","response","ok","Error","statusText","Header","logout","_this","props","renderProfileLink","currentUser","react_default","a","createElement","react_router_dom","to","renderLogout","Fragment","Nav","position","NavItem","componentClass","onClick","history","push","concat","id","className","renderLoginSignup","renderNav","Navbar","bg","expand","Toggle","aria-controls","Collapse","pullRight","renderHeader","this","React","Component","connect","state","user","ProfileCard","handleHover","e","image_url","alt","name","onMouseOver","car","experience","rating","map","company","location","Ride","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","react","scope","idx","ride","distance","started_at","end_at","price","start_location","end_location","RideList","displayDropdown","key","Components_Ride","renderRide","Forum","handleForumClick","style","width","forum","topic","ForumList","Components_Forum","renderForum","Modal","nameValue","experienceValue","ratingValue","locationValue","carValue","userCompanies","companiesValue","options","handleCheckBox","allCompanies","c","find","onChange","target","checked","console","log","pop","setState","renderCheckBoxes","companyIds","includes","handleEditFormChange","value","defineProperty","renderEditModal","modal","lib_default","isOpen","onAfterOpen","handleAfterOpen","onRequestClose","handleAfterClose","shouldCloseOnEsc","shouldCloseOnOverlayClick","ariaHideApp","data","background","contentLabel","handleSubmit","FollowerCard","renderCard","Card","Img","variant","follower","Body","Title","Text","handleUserClick","Button","FriendsBox","Components_Profile","assign","followerCards","followers","Components_FollowerCard","Profile","handleEdit","preventDefault","patchEditProfile","handleDelete","clickedForum","openChat","renderModal","Components_Modal","userData","headers","accepts","content-type","method","body","JSON","stringify","r","resUser","fetchCurrentUser","handleFollow","assertThisInitialized","postNewFriendship","handleUnFollow","tempUser","prevState","objectSpread","filter","f","renderProfileCard","Components_ProfileCard","renderEditButton","data-toggle","data-target","renderFollowButton","followList","x","renderPage","Components_RideList","ForumsList","friends_box","editedUser","isCurrentUserProfile","newProps","allForums","d","u","current","Leader","getUser","handleClick","superlative","design","class","icon","title","getStat","Leaderboard","getTotalMiles","totalMiles","getTotalEarned","totalEarned","getTotalTimeDriving","totalTime","rideTime","getMileLeader","newUsers","toConsumableArray","sort","usera","userb","reverse","getRatingLeader","getExperienceLeader","getTimeLeader","getEarnerLeader","renderUserTotals","leaders","leader","renderLeaderBoard","Components_Leader","mostMiles","mostRating","mostEarned","mostTime","mostExperience","miles","earner","Rides","returnDropdown","action","handleSortSubmit","handleFilterSubmit","handleSearch","textInput","placeholder","handleFriendFilter","handleChangeBack","filteredRides","allRides","myFriends","filtered","i","length","user_id","toLowerCase","b","company_id","Components_Leaderboard","allUsers","LoginForm","username","password","handleChange","event","userLoginFetch","mdbreact_esm","Form","onSubmit","Field","Button_Button","color","userInfo","Content-Type","Accepts","errors","alert","setItem","jwt","SignupForm","passwordConfirmation","createUser","login_data","error","ChatBox","renderMessages","messages","message","content","created_at","handleClose","closeChat","handleInput","formInput","handleMessageSubmit","Accept","forum_id","currentChat","addNewMessage","copy","_this2","aria-hidden","href","ForumsPage","Components_ChatBox","App","renderUserPage","react_router","path","exact","render","paramid","parseInt","match","params","userFromParams","rout","renderProfileRoute","ourUser","getProfileFetch","Grid","Components_Header","Row","centered","routerProps","Components_LoginForm","setCurrentUser","component","getItem","Authorization","Boolean","window","hostname","initialUserState","friendships","userReducer","arguments","undefined","initialForumsState","initialRidesState","combineReducers","routing","routerReducer","store","routerMiddleware","browserHistory","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","es","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5fcd90b4.chunk.js","sourcesContent":["//development vals\r\nexport const prodURL = 'https://ride-share-api.herokuapp.com/api/v1/'\r\n// export const prodURL = 'http://localhost:3000/api/v1/'\r\n\r\n\r\nexport const USERURL=prodURL+'users/'\r\nexport const COMPANYURL=prodURL+'companies/'\r\nexport const RIDEURL=prodURL+'rides/'\r\nexport const FRIENDSHIPURL=prodURL+'friendships/'\r\nexport const FORUMSURL = prodURL+'forums/'\r\nexport const LOGINURL = prodURL+'login/'\r\nexport const AUTOLOGINURL = prodURL+'auto_login/'\r\n\r\n// export  const COMPANYURL = 'http://ride-share-api.herokuapp.com/api/v1/companies/'\r\n// export  const RIDEURL = 'http://ride-share-api.herokuapp.com/api/v1/rides/'\r\n// export const FRIENDSHIPURL = 'http://ride-share-api.herokuapp.com/api/v1/friendships'\r\n\r\nexport const ADD_USER='ADD_USER'\r\nexport const LOGIN_USER='LOGIN_USER'\r\nexport const LOGOUT_USER='LOGOUT_USER'\r\nexport const REMOVE_FOLLOWER='REMOVE_FOLLOWER'\r\nexport const ADD_FOLLOWER='ADD_FOLLOWER'\r\nexport const FETCH_ALL_RIDES='FETCH_ALL_RIDES'\r\nexport const FETCH_ALL_FORUMS='FETCH_ALL_FORUMS'\r\nexport const FETCH_ALL_USERS='FETCH_ALL_USERS'\r\nexport const FETCH_ALL_COMPANIES='FETCH_ALL_COMAPNIES'\r\nexport const FETCH_CURRENT_USER='FETCH_CURRENT_USER'\r\n","import UUID from 'uuid';\r\nimport {AUTOLOGINURL,FORUMSURL,COMPANYURL, RIDEURL,FRIENDSHIPURL ,FETCH_CURRENT_USER,FETCH_ALL_COMPANIES,ADD_USER,USERURL ,LOGIN_USER,ADD_FOLLOWER,REMOVE_FOLLOWER,LOGINURL,LOGOUT_USER,FETCH_ALL_RIDES,FETCH_ALL_FORUMS,FETCH_ALL_USERS} from './Constants';\r\n// import AnimalAdapter from './apis/AnimalAdapter';\r\n\r\nexport function addUser(name, email) {\r\n  return {\r\n    type: ADD_USER,\r\n    payload: { id: UUID(), name, email }\r\n  }\r\n}\r\n\r\nexport function logoutUser()  {\r\n  return {\r\n\r\n    type: LOGOUT_USER\r\n  }\r\n}\r\nexport function setAllRides(src) {\r\n  // console.log('setting all rides ',src)\r\n  return {\r\n    type: FETCH_ALL_RIDES,\r\n    payload: src\r\n  }\r\n}\r\nexport function setAllForums(src){\r\n  return {\r\n    type: FETCH_ALL_FORUMS,\r\n    payload:src\r\n  }\r\n}\r\nexport function setAllUsers(src){\r\n  return {\r\n    type: FETCH_ALL_USERS,\r\n    payload:src\r\n  }\r\n}\r\nexport function setAllCompanies(src){\r\n  // console.log('setting all companies')\r\n  return {\r\n    type: FETCH_ALL_COMPANIES,\r\n    payload:src\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function setLoggedInUser(src) {\r\n  // console.log('setting logged in user',src)\r\n  return {\r\n    type: LOGIN_USER,\r\n    payload: src,\r\n  }\r\n}\r\nexport function AddFollower(follower){\r\n  return{\r\n    type:ADD_FOLLOWER,\r\n    payload:{follower}\r\n  }\r\n}\r\n\r\nexport function RemoveFollower(follower){\r\n  return{\r\n    type:REMOVE_FOLLOWER,\r\n    payload:{follower}\r\n  }\r\n}\r\n\r\nexport function patchEditProfile  ( data)  {\r\n  // debugger\r\n  // let userUrl = 'https://ride-share-api.herokuapp.com/api/v1/users'\r\n  return function (dispatch){\r\n\r\n    let id = this.state.currentUser.id\r\n    // let id = parseInt(this.match.params.id)\r\n    // debugger\r\n    // e.preventDefault()\r\n    fetch(`${USERURL}/${id}`,{\r\n      headers:{\r\n        'accepts':'application/json',\r\n        'content-type':'application/json'\r\n      },\r\n      method:'PATCH',\r\n      body:JSON.stringify({\r\n        name:data.nameValue,\r\n        experience:data.experienceValue,\r\n        car:data.carValue,\r\n        companies:data.companiesValue,\r\n        location:data.locationValue,\r\n        rating:data.ratingValue,\r\n      })\r\n    }).then(handleErrors)\r\n    .then(res => {\r\n      dispatch(fetchUsers())\r\n\r\n    })\r\n  }\r\n}\r\n\r\nexport function fetchCurrentUser(user) {\r\n  // does that seem cool? ehhhh\r\n  return function(dispatch) {\r\n    // console.log('fetching current user',user)\r\n    dispatch({ type: FETCH_CURRENT_USER });\r\n    fetch(`${USERURL}/${user.id}`)\r\n    .then(res=>res.json())\r\n    .then(current=>{\r\n        // console.log('fetched current user',current)\r\n        dispatch(setLoggedInUser(current))\r\n\r\n    })\r\n  }\r\n}\r\n\r\nexport function fetchUsers() {\r\n  // does that seem cool? ehhhh\r\n  return function(dispatch) {\r\n    dispatch({ type: FETCH_ALL_USERS });\r\n    fetch(USERURL)\r\n    .then(res=>res.json())\r\n    .then(users=>{\r\n        // console.log('fetched users',users)\r\n        dispatch(setAllUsers(users))\r\n\r\n    })\r\n  }\r\n}\r\nexport function fetchCompanies() {\r\n  // does that seem cool? ehhhh\r\n  return function(dispatch) {\r\n    dispatch({ type: FETCH_ALL_COMPANIES });\r\n    fetch(COMPANYURL)\r\n    .then(res=>res.json())\r\n    .then(companies=>{\r\n        // console.log('fetched companies',companies)\r\n        dispatch(setAllCompanies(companies))\r\n\r\n    })\r\n  }\r\n}\r\nexport function fetchRides(){\r\n  return function (dispatch){\r\n\r\n    fetch(RIDEURL)\r\n    .then(res=>res.json())\r\n    .then(rides=>{\r\n      dispatch(setAllRides(rides))\r\n\r\n    })\r\n  }\r\n}\r\nexport function fetchForums(){\r\n  return function (dispatch){\r\n    fetch(FORUMSURL)\r\n    .then(res=>res.json())\r\n    .then(forums=>{dispatch(setAllForums(forums))})\r\n  }\r\n}\r\n\r\nexport function postNewFriendship(currentUser,follower){\r\n  return dispatch=>{\r\n    return fetch( FRIENDSHIPURL ,{\r\n      method:\"POST\",\r\n      headers:{\r\n        'Content-Type':'application/json',\r\n        'Accepts':'application/json'\r\n      },\r\n      body:JSON.stringify({\r\n        follower_id:currentUser.id,\r\n        followee_id:follower.id\r\n      })\r\n    })\r\n    .then(handleErrors)\r\n    .then(function(){\r\n      dispatch(fetchUsers())\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport function createUser (login_data) {\r\n  return dispatch =>{\r\n\r\n    fetch(USERURL, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accepts\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(login_data)\r\n    })\r\n    .then(res => res.json())\r\n    .then((response) => {\r\n\r\n      if (response.error){\r\n        alert(response.error)\r\n      } else {\r\n        // debugger\r\n        // localStorage.setItem(\"token\", response.jwt)\r\n        // console.log('creat user',response)\r\n        // this.props.setCurrentUser(response.user)\r\n        localStorage.setItem('jwt', response.jwt)\r\n        dispatch (setLoggedInUser(response.user))\r\n        // this.props.history.push(`/users/${response.user.id}`)\r\n      }\r\n    })\r\n  }\r\n}\r\nexport function userLoginFetch  (user,callback) {\r\n  return dispatch =>{\r\n    // console.log('in userlogin fetch')\r\n    fetch(LOGINURL, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accepts\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    .then(res => res.json())\r\n    .then((response) => {\r\n      if (response.errors) {\r\n        alert(response.errors)\r\n        // console.log('response gotf error',response)\r\n      } else {\r\n        // we need to login at the top level where we are holding our current user!\r\n        // setState in App to currentuse\r\n        // debugger\r\n        // debugger\r\n        // this.props.setCurrentUser(response.user)\r\n        // debugger\r\n        // console.log('set jwt toeken')\r\n        // debugger\r\n        localStorage.setItem('jwt', response.jwt)\r\n        dispatch(setLoggedInUser(response.user))\r\n        // this.props.history.push(`/profile/${response.user.id}`)\r\n\r\n        // return <><Link to={`/profile/${this.props.currentUser.id}`}>Profile</Link></>\r\n\r\n\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport function getProfileFetch() {\r\n  return dispatch => {\r\n    // console.log('in get profile fetchauto login')\r\n    const jwt = localStorage.getItem('jwt')\r\n\r\n    if (jwt){\r\n      // console.log('jwt exists in auto login')\r\n      fetch(AUTOLOGINURL, {\r\n        headers: {\r\n          \"Authorization\": `Bearer ${jwt}`\r\n        }\r\n      })\r\n      .then(res => res.json())\r\n      .then((response) => {\r\n        // debugger\r\n        if (response.errors) {\r\n          alert(response.errors)\r\n          localStorage.removeItem('jwt')\r\n        } else {\r\n          // console.log('setting userfrom auto login',response)\r\n          dispatch(setLoggedInUser(response))\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\nexport function setLogout ()  {\r\n  // we need to reset state and remove the current user and remove the token\r\n  return function(dispatch) {\r\n    dispatch({ type: LOGOUT_USER });\r\n\r\n    localStorage.removeItem(\"jwt\")\r\n\r\n    dispatch(logoutUser())\r\n    // this.props.history.push(\"/login\")\r\n  }\r\n}\r\n\r\nfunction handleErrors(response) {\r\n  if (!response.ok) {\r\n    throw Error(response.statusText);\r\n  }\r\n  return response;\r\n}\r\n","import React from \"react\";\r\nimport {Navbar, Nav, NavItem,NavDropdown,Button} from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { setLogout} from '../Actions';\r\n\r\n\r\n\r\nclass Header extends React.Component {\r\n\r\n    logout = () => {\r\n     // event.preventDefault()\r\n     // Remove the token from localStorage\r\n     localStorage.removeItem(\"jwt\")\r\n     // Remove the user object from the Redux store\r\n     this.props.setLogout()\r\n   }\r\n\r\n  renderProfileLink = () => {\r\n    // console.log('in render profile link')\r\n    // debugger\r\n    // console.log('rendering profile link',this.props)\r\n    // debugger\r\n    if(this.props.currentUser){\r\n      // return <Link to={`/profile/${this.props.currentUser.id}`}>Profile</Link>\r\n        return <Link to={`/profile`}>Profile</Link>\r\n\r\n    }\r\n    else{\r\n      return <Link to={`/login`}>Profile</Link>\r\n    }\r\n  }\r\n  renderLogout =() =>{\r\n    return (\r\n      <>\r\n      <Nav position=\"right\">\r\n        <NavItem componentClass='span' onClick={()=>this.props.history.push(`/users/${this.props.currentUser.id}`)} >\r\n\r\n        </NavItem>\r\n        <Link className=\"item\" to=\"/login\" onClick={this.logout} >\r\n          Logout\r\n        </Link>\r\n      </Nav>\r\n      </>\r\n    )\r\n  }\r\n  renderLoginSignup = () =>{\r\n    return (\r\n      <>\r\n      <Nav position=\"right\">\r\n        <Link className=\"span\" to=\"/login\">\r\n          Login\r\n        </Link>\r\n        <Link className=\"span\" to=\"/signup\">\r\n          Sign Up\r\n        </Link>\r\n      </Nav>\r\n      </>\r\n    )\r\n\r\n  }\r\n\r\n\r\n  renderNav=()=>{\r\n    return(\r\n      <>\r\n          <Navbar bg=\"dark\" expand=\"md\">\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n\r\n              <Nav pullRight>\r\n                <NavItem componentClass='span'>\r\n                  {this.renderProfileLink()}\r\n                </NavItem>\r\n                <NavItem componentClass='span'>\r\n                  <Link to=\"/rides\">Rides</Link>\r\n                </NavItem>\r\n                <NavItem componentClass='span'>\r\n                  <Link to=\"/forums\">Forums</Link>\r\n                </NavItem>\r\n                {this.props.currentUser ? this.renderLogout() : this.renderLoginSignup() }\r\n              </Nav>\r\n\r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n      </>\r\n    )\r\n  }\r\n  renderHeader=()=>{\r\n    return (\r\n      <>\r\n      <header className=\"header\">\r\n        <div className=\"container col-11\" >\r\n          <b>RideShare</b>\r\n        </div>\r\n      </header>\r\n      </>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      {this.renderHeader()}\r\n      {this.renderNav()}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setLogout: () => dispatch(setLogout())\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n  // maps the state from the store to the props\r\n\t// debugger\r\n\tconst { user } = state\r\n\t// console.log('mapping state in header',user)\r\n  return {\r\n\r\n    currentUser:user.currentUser\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Header);\r\n","import React from 'react'\r\n\r\nconst ProfileCard = (props) => {\r\n  // console.log(props);\r\n\r\n  let handleCompnaies = () => {\r\n    // debugger\r\n    //make these logos\r\n    // return props.user.companies? props.user.companies.map(company => `${company.name} `) : \"nope\"\r\n    return props.companies? props.companies.map(company => `${company.name} `) : \"nope\"\r\n  }\r\n\r\n  let handleHover = (e) => {\r\n    // console.log(e.target)\r\n  }\r\n\r\n  return(\r\n\r\n      <div className=\"profile-card\"  >\r\n        <img src={props.user.image_url} alt=\"No Profile Image\" className=\"card-img-top\"/>\r\n\r\n        <div className=\"card-header\">\r\n          <b>{props.user.name} </b>\r\n        </div>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li onMouseOver={handleHover} className=\"list-group-item\">Car: {props.user.car} </li>\r\n          <li onMouseOver={handleHover} className=\"list-group-item\">Experience: {props.user.experience} </li>\r\n          <li onMouseOver={handleHover} className=\"list-group-item\">Rating: {props.user.rating} </li>\r\n          <li onMouseOver={handleHover} className=\"list-group-item\">Companies: {handleCompnaies()} </li>\r\n          <li onMouseOver={handleHover} className=\"list-group-item\">Base Location: {props.user.location}</li>\r\n        </ul>\r\n      </div>\r\n\r\n\r\n  )\r\n}\r\n\r\n\r\nexport default ProfileCard\r\n// <p>Companies: {props.user.companies.map(company => company.name)} </p>\r\n","import React,{Fragment} from \"react\";\r\n\r\n\r\nclass Ride extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    // console.log('Ride render:' ,this.props)\r\n    return (\r\n      <Fragment>\r\n        <tr>\r\n          <th scope=\"row\">{this.props.idx}</th>\r\n          <td>{this.props.ride.distance}</td>\r\n          <td>{this.props.ride.started_at}</td>\r\n          <td>{this.props.ride.end_at}</td>\r\n          <td>{this.props.ride.price}</td>\r\n          <td>{this.props.ride.start_location}</td>\r\n          <td>{this.props.ride.end_location}</td>\r\n        </tr>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nexport default Ride\r\n","import React from \"react\"\r\nimport Ride from \"./Ride.js\"\r\n\r\nconst RideList = (props) => {\r\n\r\n  const renderRide=()=>{\r\n    if(props.rides){\r\n      return props.rides.map((ride,key)=>\r\n        <Ride\r\n          key={key}\r\n          idx={key+1}\r\n          ride={ride}\r\n        />)\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"ride-list\">\r\n    {props.displayDropdown? props.displayDropdown(): ''}\r\n    <table className=\"table table-striped\">\r\n      <thead className=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\">Num</th>\r\n          <th scope=\"col\">Distance</th>\r\n          <th scope=\"col\">Started At</th>\r\n          <th scope=\"col\">Ended At</th>\r\n          <th scope=\"col\">Price</th>\r\n          <th scope=\"col\">Starting Location</th>\r\n          <th scope=\"col\">Ending Location</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {renderRide()}\r\n      </tbody>\r\n    </table>\r\n\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default RideList\r\n","import React from \"react\";\r\n\r\nclass Forum extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div onClick={(e)=>this.props.handleForumClick(e)}>\r\n          <tr>\r\n            <td style={{width: \"\"}} scope=\"row\">{this.props.idx}</td>\r\n            <td id={this.props.forum.topic} scope=\"row\" className=\"col\">{this.props.forum.topic}</td>\r\n          </tr>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Forum\r\n","import React, {Fragment} from \"react\"\r\nimport Forum from \"./Forum.js\"\r\n\r\nconst ForumList = (props) => {\r\n\r\n  const renderForum=()=>{\r\n    if(props.forums){\r\n      return props.forums.map((forum,key)=>{\r\n        return <Fragment>\r\n          <Forum\r\n            handleForumClick={props.handleForumClick}\r\n            key={key}\r\n            idx={key+1}\r\n            forum={forum}\r\n          />\r\n        </Fragment>\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div >\r\n      <table className=\"table table-striped\" id=\"profile-forums\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\">Num</th>\r\n            <th className=\"col\" scope=\"col\">Topic</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {renderForum()}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForumList\r\n","import React,{Fragment} from \"react\";\r\nimport ReactModal from 'react-modal'\r\n\r\nclass Modal extends React.Component{\r\n\r\n  state=({\r\n    nameValue: this.props.props.user.name,\r\n    experienceValue: this.props.props.user.experience,\r\n    ratingValue: this.props.props.user.rating,\r\n    locationValue: this.props.props.user.location,\r\n    carValue: this.props.props.user.car,\r\n    userCompanies:this.props.currentUser.companies,\r\n    companiesValue: [],\r\n    options:[]\r\n  })\r\n\r\n  componentDidMount(){\r\n    this.setState({\r\n      nameValue: this.props.currentUser.name,\r\n      experienceValue: this.props.currentUser.experience,\r\n      ratingValue: this.props.currentUser.rating,\r\n      locationValue: this.props.currentUser.location,\r\n      carValue: this.props.currentUser.car,\r\n      companiesValue: this.props.companiesValue,\r\n      allCompanies:this.props.companiesValue,\r\n      userCompanies:this.props.currentUser.companies\r\n    })\r\n  }\r\nhandleCheckBox =(company)=>{\r\n  if(this.state.userCompanies && this.state.allCompanies){\r\n    this.state.allCompanies.map(c=>{\r\n      this.state.userCompanies.find(c);\r\n    })\r\n\r\n  }\r\n}\r\n\r\nonChange=(e,c)=> {\r\n   // current array of options\r\n   const options = this.state.options\r\n   let index\r\n   if (e.target.checked) {\r\n     console.log('pushing into options',c)\r\n     //add checked item to array of selecteed company options\r\n       options.push(c)\r\n\r\n   } else {\r\n     //remove the unchecked item from array of selected company options\r\n       options.pop(c)\r\n\r\n   }\r\n   // update the state with the new array of options\r\n   this.setState({ options: options })\r\n }\r\nrenderCheckBoxes = () => {\r\n\r\n  if(this.props.companiesValue){\r\n    // create a list of company ids in the option array\r\n    //  to use as keys to  distaguish if they are already in the array\r\n    let companyIds = this.state.options.map(company => company.id)\r\n    console.log('options company ids',companyIds)\r\n    //map over list of all comapnies and create a checkbox for each\r\n    return this.props.companiesValue.map((company,key)=> {\r\n      return(\r\n        <>\r\n        <label>{company.name}\r\n          <input type=\"checkbox\" checked={companyIds.includes(company.id)} onChange={(e) => this.onChange(e,company)} ></input>\r\n        </label>\r\n        </>\r\n      )\r\n    })\r\n  }\r\n}\r\n\r\n  handleEditFormChange=(e)=>{\r\n    console.log('handling edit', e)\r\n    let value = e.target.value;\r\n    let name = e.target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n\r\n\r\n  renderEditModal = () => {\r\n    //make modal smaller\r\n    if(this.props.state.modal){\r\n      // debugger\r\n      return (\r\n        <ReactModal\r\n          isOpen={this.props.state.modal}\r\n          onAfterOpen={this.props.handleAfterOpen}\r\n          onRequestClose={this.props.handleAfterClose}\r\n          shouldCloseOnEsc={true}\r\n          shouldCloseOnOverlayClick={true}\r\n          ariaHideApp={false}\r\n          data={{\r\n            background: \"green\"\r\n          }}\r\n          contentLabel=\"example modal\"\r\n          >\r\n\r\n          <form>\r\n            <label>Name:\r\n              <input name=\"nameValue\" type=\"text\" onChange={(e)=>this.handleEditFormChange(e)} value={this.state.nameValue}></input>\r\n            </label><br/>\r\n\r\n            <label>Experience:\r\n              <input name=\"experienceValue\" type=\"text\" onChange={(e)=>this.handleEditFormChange(e)} value={this.state.experienceValue}></input>\r\n            </label><br/>\r\n\r\n            <label>Rating:\r\n              <input name=\"ratingValue\" type=\"text\" onChange={(e)=>this.handleEditFormChange(e)} value={this.state.ratingValue}></input>\r\n            </label><br/>\r\n\r\n            <label>Car:\r\n              <input name=\"carValue\" type=\"text\" onChange={(e)=>this.handleEditFormChange(e)} value={this.state.carValue}></input>\r\n            </label><br/>\r\n\r\n            <label>Location:\r\n              <input name=\"locationValue\" type=\"text\" onChange={(e)=>this.handleEditFormChange(e)} value={this.state.locationValue}></input>\r\n            </label><br/>\r\n\r\n            <label>Companies:\r\n              {this.renderCheckBoxes()}\r\n            </label><br/>\r\n\r\n            <button type=\"submit\" onClick={(e, state)=>this.props.handleSubmit(e, this.state)}>Save Edit</button>\r\n          </form>\r\n          <button onClick={this.props.handleAfterClose}>Close Modal</button>\r\n\r\n\r\n      </ReactModal>\r\n    )}\r\n  }\r\n\r\n  render(){\r\n    // debugger\r\n    // console.log(this.state)\r\n    // console.log(this.props)\r\n    return(\r\n      <Fragment>\r\n        {this.renderEditModal()}\r\n      </Fragment>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Modal\r\n","import React from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport Profile from './Profile.js'\r\nimport {Button,Card} from 'react-bootstrap'\r\n\r\n\r\n// var randImg = 'http://lorempixel.com/400/200/sports/'\r\nvar randImg = 'https://sadanduseless.b-cdn.net/wp-content/uploads/2018/11/taxi-driver-calendar2.jpg'\r\n\r\nclass FollowerCard extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n  }\r\n\r\n  // return (\r\n  //   <div class=\"card follower-container\" >\r\n  //     <img class=\"card-img-top\" src={randImg} alt=\"Card image cap\"/>\r\n  //     <div class=\"card-body\">\r\n  //       <h5 class=\"card-title\">Name: {this.props.follower.name}</h5>\r\n  //       <p class=\"card-text\">I drive a: {this.props.follower.car}</p>\r\n  //\r\n  //       <div onClick={(e,user)=>this.props.handleUserClick(e,this.props.follower)}>\r\n  //         <Link to={`/profile/${this.props.follower.id}`}>\r\n  //           <button\r\n  //             type=\"button\"\r\n  //             class=\"btn btn-primary\"\r\n  //             >\r\n  //             Check out my profile!</button>\r\n  //         </Link>\r\n  //\r\n  //       </div>\r\n  //\r\n  //     </div>\r\n  //   </div>\r\n  //\r\n  //\r\n  // )\r\n\r\n\r\n  renderCard=()=>{\r\n    return (\r\n      <>\r\n      <Card style={{ width: '18rem' }}>\r\n        <Card.Img variant=\"top\" src={this.props.follower.image_url} />\r\n        <Card.Body>\r\n          <Card.Title>Name: {this.props.follower.name}</Card.Title>\r\n          <Card.Text>\r\n            I drive a: {this.props.follower.car}\r\n          </Card.Text>\r\n          <div onClick={(e,user)=>this.props.handleUserClick(e,this.props.follower)}>\r\n            <Link to={`/user/${this.props.follower.id}`}>\r\n              <Button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                >\r\n                Check out my profile!</Button>\r\n            </Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      </>\r\n    )\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"card follower-container\" >\r\n        {this.renderCard()}\r\n      </div>\r\n\r\n    )\r\n\r\n  }\r\n}\r\nexport default FollowerCard\r\n","import React, {Component} from 'react'\r\nimport Profile from './Profile.js'\r\nimport {Link,Route,Router} from 'react-router-dom'\r\n\r\nimport Fragment from 'react'\r\nimport FollowerCard from './FollowerCard.js'\r\n\r\nclass FriendsBox extends Component {\r\n\r\n  handleUserClick=(e,user)=>{\r\n    // debugger\r\n    // console.log('in handle user click ',user)\r\n    return (\r\n              <Profile\r\n                {...this.props}\r\n                user={this.props.user}\r\n              />\r\n\r\n\r\n    )\r\n  }//end of handle user click\r\n\r\n\r\n  followerCards = () => {\r\n\r\n    // href={`https://rideshare-frontend.netlify.com/profile/${follower.id}`}\r\n    if (this.props.followers){\r\n       return this.props.followers.map((follower,key) => {\r\n         // debugger\r\n        return (\r\n\r\n          <FollowerCard\r\n            handleUserClick={this.handleUserClick}\r\n            key={key}\r\n            idx={key+1}\r\n            follower={follower}\r\n            />\r\n        )\r\n\r\n\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"card-group col-12\" >\r\n        {this.followerCards()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\nexport default FriendsBox\r\n","import React,{Fragment} from \"react\";\r\nimport ProfileCard from './ProfileCard'\r\nimport RideList from './RideList.js'\r\nimport ForumsList from './ForumsList.js'\r\nimport Modal from './Modal.js'\r\n\r\nimport FriendsBox from './friends-box'\r\nimport {Button} from 'react-bootstrap'\r\nimport {connect} from 'react-redux'\r\nimport {postNewFriendship,fetchCompanies,fetchCurrentUser,fetchUsers,patchEditProfile} from '../Actions.js'\r\nimport {USERURL} from '../Constants'\r\nclass Profile extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      modal: false,\r\n      user:this.props.user,\r\n      editedUser: this.props.user,\r\n      clickedForum: null,\r\n      openChat: false,\r\n      isCurrentUserProfile:null\r\n\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.props.fetchCompanies();\r\n    this.setState({isCurrentUserProfile:this.props.isCurrentUserProfile})\r\n\r\n  }\r\n\r\n\r\ncomponentWillReceiveProps(newProps){\r\n  if(newProps.isCurrentUserProfile){\r\n\r\n    this.setState({user:newProps.currentUser})\r\n  }\r\n  else{\r\n    this.setState({user:newProps.user})\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n  handleEdit = (e) => {\r\n    console.log(e)\r\n    this.setState({modal:true})\r\n  }\r\n\r\n  handleAfterOpen=()=>{\r\n    console.log('opened')\r\n  }\r\n  handleAfterClose=()=>{\r\n    console.log('closed')\r\n    this.setState({modal:false})\r\n  }\r\n\r\n  handleSubmit=(e, state)=>{\r\n    e.preventDefault()\r\n    console.log('in save edit user',this.state)\r\n    this.patchEditProfile(e, state)\r\n    this.setState({\r\n      modal: false\r\n    })\r\n\r\n  }\r\n  handleDelete=(e)=>{\r\n    console.log('in handle delete function',e.target)\r\n  }\r\n  handleForumClick = (e) => {\r\n    this.setState({clickedForum: e.target.id})\r\n    this.setState({openChat: true})\r\n  }\r\n\r\n\r\n  renderModal = () => {\r\n    console.log('rendar modal with ', this.props.allCompanies)\r\n    if(this.props.user) {\r\n      return(\r\n        <Modal\r\n          state={this.state}\r\n          props={this.props}\r\n          companiesValue={this.props.allCompanies}\r\n          currentUser={this.props.currentUser}\r\n          handleAfterOpen={this.handleAfterOpen}\r\n          handleAfterClose={this.handleAfterClose}\r\n          handleEditFormChange={this.handleEditFormChange}\r\n          handleSubmit={this.handleSubmit}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  patchEditProfile = (e, userData) => {\r\n\r\n    e.preventDefault()\r\n    if(this.props.currentUser){\r\n      userData.id=this.props.currentUser.id;\r\n      fetch(`${USERURL}/${this.props.currentUser.id}`,{\r\n        headers:{\r\n          'accepts':'application/json',\r\n          'content-type':'application/json'\r\n        },\r\n        method:'PATCH',\r\n        body:JSON.stringify({\r\n          id:userData.id,\r\n          name:userData.nameValue,\r\n          experience:userData.experienceValue,\r\n          car:userData.carValue,\r\n          companies:userData.options,\r\n          location:userData.locationValue,\r\n          rating:userData.ratingValue,\r\n\r\n        })\r\n      })\r\n      .then(r => r.json())\r\n      .then(resUser => {\r\n        this.setState({\r\n          modal: false\r\n        }  ,this.props.fetchCurrentUser(resUser.user)  )\r\n      })\r\n    }\r\n  }\r\n\r\n  handleFollow = () => {\r\n    console.log(this);\r\n    // let tempUser ={...this.props.user}\r\n    this.props.postNewFriendship(this.props.currentUser,this.props.user)\r\n    // this.setState(prevState=>{\r\n    //   currentUser:{\r\n    //     currentUser.followers:[...prevState.curentUser.followers, tempUser]\r\n    //   }\r\n    // })\r\n    // this.setState(({currentUser})=>({currentUser:{\r\n    //   ...currentUser,\r\n    //   currentUser.followers:[...followers,tempUser]\r\n    // }}))\r\n    // debugger\r\n    // fetch(`${USERURL}/${this.state.currentUser.id}`,{\r\n    //   headers:{\r\n    //     'accepts':'application/json',\r\n    //     'content-type':'application/json'\r\n    //   },\r\n    //   method:'PATCH',\r\n    //   body:JSON.stringify({\r\n    //     followers:[...this.state.currentUser.followers,tempUser]\r\n    //   })\r\n    // })\r\n    // .then(r => r.json())\r\n    // .then(currentUser => {\r\n    //   this.setState({\r\n    //     currentUser\r\n    //   })\r\n    // })\r\n}//hand follow\r\nhandleUnFollow = () => {\r\n  console.log(this);\r\n  let tempUser = Object.assign({},this.props.currentUser)\r\n  // debugger\r\n  // tempUser.followers = tempUser.followers.filter(f=>f.id=this.props.user.id)\r\n  this.setState(prevState=>({\r\n    currentUser:{\r\n      ...prevState.currentUser,\r\n      followers:tempUser.followers.filter(f=>f.id===this.props.user.id)\r\n    }\r\n  })\r\n)\r\n\r\n}\r\n\r\n  renderProfileCard = () => {\r\n    if(this.state.user){\r\n      return(\r\n        <ProfileCard user={this.state.user} companies={this.state.user.companies}/>\r\n      )\r\n    }\r\n  }\r\n  renderEditButton=()=>{\r\n    if(this.props.user==this.props.currentUser){\r\n      return(\r\n        <div>\r\n        <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" id=\"edit-profile\" onClick={this.handleEdit}> Edit Profile </button>\r\n        <button type=\"button\" className=\"btn btn-primary\"  id=\"edit-profile\" onClick={this.handleDelete}> Delete Profile </button>\r\n\r\n        </div>\r\n      )\r\n    }else{\r\n      // {this.renderFollowButton()}\r\n      return (\r\n        <>\r\n        </>\r\n      )\r\n    }\r\n  }\r\n\r\nrenderFollowButton=()=>{\r\n  //if current user isnt following yet, render follow button\r\n  //if current user is following render unfollow button\r\n  let followList=null;\r\n  if(this.props.currentUser.followers){\r\n\r\n     followList = this.props.currentUser.followers\r\n  }\r\n  // debugger\r\n  if(!  followList.find(x=>x.id ===this.props.user.id))\r\n  {\r\n    return   (\r\n      <>\r\n        <Button className=\"btn btn-primary\"  id=\"follow-user\" onClick={() => this.handleFollow()}> Follow this user </Button>\r\n      </>\r\n  )\r\n  }\r\n  else{\r\n    return (\r\n      <>\r\n        <Button className=\"btn btn-primary\"  id=\"follow-user\" onClick={() => this.handleUnFollow()}> Unfollow this user </Button>\r\n      </>\r\n    )\r\n  }\r\n}\r\nrenderPage=()=>{\r\n  return (\r\n\r\n    <Fragment>\r\n      <div className = \"container col-11\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-3 justify-content-center\" id=\"profile-card-container\">\r\n            {this.renderProfileCard()}\r\n            {this.renderEditButton()}\r\n            {this.renderModal()}\r\n\r\n          </div>\r\n          <div className=\"col\" id=\"profile-rides-list\">\r\n\r\n            <RideList rides={this.state.user.rides}/>\r\n            <ForumsList forums={this.state.user.forums} handleForumClick={this.handleForumClick}/>\r\n            <FriendsBox followers={this.state.user.followers}/>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </Fragment>\r\n  )\r\n\r\n}\r\n\r\n\r\n  render() {\r\n\r\n\r\n    return (\r\n      <>\r\n      {this.props.currentUser ? this.renderPage() : <p>not logged in </p>}\r\n\r\n      </>\r\n\r\n\r\n    )\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  // maps the state from the store to the props\r\n\r\n\tconst { user } = state\r\n  const { forums } = state\r\n  console.log('profile mapstatetoprops staete',forums.forums[0])\r\n  //issuing rendering only the users Forums\r\n  //setting allForums (meant to tbe user.allForums to forums.forums\r\n//to make sure rendering only one of each to users page for now)\r\n\r\n  return {\r\n    allCompanies:user.allCompanies[1],\r\n    rides:user.rides,\r\n    forums:forums.forums[0],\r\n    allForums:user.forums,\r\n    users:user.users[1],\r\n    currentUser:user.currentUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchCompanies:()=>dispatch(fetchCompanies()),\r\n  patchEditProfile:(d)=>dispatch(patchEditProfile(d)),\r\n  fetchCurrentUser:(u)=>dispatch(fetchCurrentUser(u))//,\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps) (Profile)\r\n","import React from \"react\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass Leader extends React.Component {\r\n\r\n  render() {\r\n    // console.log(`/profile/${this.props.getUser.id}`)\r\n    if(this.props.getUser){\r\n      // debugger\r\n      return (\r\n        <div onClick={(e,)=>this.props.handleClick(e,this.props.getUser)}\r\n        name={this.props.superlative}>\r\n\r\n          <Link to={`/user/${this.props.getUser.id}`}>\r\n\r\n          <div className={this.props.design}>\r\n            <h3 class=\"pull-right\">\r\n            <i className={this.props.icon}> </i>\r\n            </h3>\r\n            <h4 class=\"list-group-item-heading count\">{this.props.title}\r\n\r\n              {(this.props.getUser.name)}\r\n\r\n              </h4>\r\n\r\n              <p class=\"list-group-item-text\">\r\n                {this.props.getStat?this.props.getStat(this.props.getUser):null}\r\n                {this.props.superlative==='rating'?this.props.getUser.rating:null}\r\n                {this.props.superlative==='experience'?this.props.getUser.experience:null}</p>\r\n                </div>\r\n                </Link>\r\n\r\n            </div>\r\n            )\r\n    }\r\n  }\r\n}\r\nexport default Leader\r\n","import React,{Fragment} from \"react\"\r\nimport  Route from 'react-router-dom'\r\nimport Profile from './Profile.js'\r\nimport Leader from './Leader.js'\r\n\r\nimport { connect } from 'react-redux';\r\nimport {fetchUsers,fetchRides} from '../Actions';\r\n\r\n\r\n\r\nclass Leaderboard extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      mostMiles:'',\r\n      mostRating:'',\r\n      mostEarned:'',\r\n      mostTime:'',\r\n      mostExperience:''\r\n    }\r\n  }\r\n  componentWillReceiveProps(props){\r\n    let rating = this.getRatingLeader(props.leaders)\r\n    let miles = this.getMileLeader(props.leaders)\r\n    let earner = this.getEarnerLeader(props.leaders)\r\n    let experience= this.getExperienceLeader(props.leaders)\r\n    this.setState({\r\n      mostMiles:miles,\r\n      mostRating:rating,\r\n      mostEarned:earner,\r\n      mostExperience:experience\r\n    })\r\n\r\n  }\r\n  getTotalMiles=(user)=>{\r\n    let totalMiles=0;\r\n    if(user.rides){\r\n      user.rides.map(r=>totalMiles+=r.distance)\r\n      // console.log('in get total miles user:',user)\r\n\r\n      return totalMiles\r\n    }\r\n  }\r\n  getTotalEarned=(user)=>{\r\n    let totalEarned=0\r\n    // console.log('get total earnd',user)\r\n    if(user.rides){\r\n      user.rides.map(r=>totalEarned+=r.price)\r\n      return totalEarned\r\n    }\r\n  }\r\n\r\n  getTotalTimeDriving=(user)=>{\r\n    let totalTime =0\r\n    if(user.rides){\r\n      user.rides.map(r=>{\r\n        let rideTime = r.end_at-r.started_at\r\n        totalTime+=rideTime\r\n      })\r\n      return totalTime\r\n    }\r\n  }\r\n  getMileLeader=(users)=>{\r\n    let newUsers=[...users]\r\n    if(newUsers!==[]){\r\n      newUsers.sort((usera,userb)=>{\r\n        return this.getTotalMiles(usera)-this.getTotalMiles(userb)\r\n      })\r\n      // console.log('mile leaders',newUsers.reverse()[0])\r\n\r\n      return newUsers.reverse()[0]\r\n    }\r\n  }\r\n  getRatingLeader=(users)=>{\r\n    let newUsers=[...users]\r\n    if(newUsers!==[]){\r\n      newUsers.sort((usera,userb)=>{\r\n        return usera.rating-userb.rating\r\n      })\r\n    }\r\n    return newUsers.reverse()[0]\r\n  }\r\n  getExperienceLeader=(users)=>{\r\n    let newUsers=[...users]\r\n    if(newUsers!==[]){\r\n      newUsers.sort((usera,userb)=>{\r\n        return usera.experience-userb.experience\r\n      })\r\n    }\r\n    // this.setState({mostExperience:newUsers.reverse()[0]})\r\n    // console.log('experience leaders', newUsers)\r\n    return newUsers.reverse()[0]\r\n  }\r\n\r\n  getTimeLeader=(users)=>{\r\n    if(users!==[]){\r\n      return users.sort((usera,userb)=>{\r\n        return this.getTimeLeader(usera)-this.getTimeLeader(userb)\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n  getEarnerLeader=(users)=>{\r\n    let newUsers=[...users]\r\n    if(newUsers!==[]){\r\n      newUsers.sort((usera,userb)=>{\r\n        // console.log('user a',usera)\r\n        // console.log('user b',userb)\r\n\r\n        // console.log('user a  earned',this.getTotalEarned(usera))\r\n        // console.log('user b earned',this.getTotalEarned(userb))\r\n\r\n        return this.getTotalEarned(usera)-this.getTotalEarned(userb)\r\n      })\r\n      // this.setState({mostEarner:newUsers.reverse()[0]})\r\n\r\n      return newUsers.reverse()[0]\r\n    }\r\n  }\r\n  renderUserTotals=()=>{\r\n    if(this.props.leaders){\r\n      return this.props.leaders.map((leader,idx)=>{\r\n\r\n        return (\r\n          <div key={idx}>\r\n            <h1>User:{leader.name}</h1>\r\n            <p>Miles: {this.getTotalMiles(leader)}</p>\r\n            <p>Total Earned:{this.getTotalEarned(leader)}</p>\r\n            <p>Total Time:{this.getTotalTimeDriving(leader)}</p>\r\n          </div>\r\n        )\r\n\r\n      })\r\n    }\r\n  }\r\n  handleUserClick=(e,user)=>{\r\n    // debugger\r\n    console.log('in handle user click ',user)\r\n    if (!user===this.props.currentUser){\r\n      return (\r\n        <Profile\r\n          user={user}\r\n          rides={this.props.rides}\r\n          forum={this.props.forums}\r\n          isCurrentUserProfile={false}\r\n          currentUser={this.props.currentUser}\r\n          allCompanies={this.props.allCompanies}\r\n          />\r\n      )\r\n    }\r\n    else{\r\n      return (\r\n        <Profile\r\n          user={user}\r\n          rides={this.props.rides}\r\n          forum={this.props.forums}\r\n          isCurrentUserProfile={true}\r\n          currentUser={this.props.currentUser}\r\n          allCompanies={this.props.allCompanies}\r\n          />\r\n      )\r\n\r\n    }\r\n  }\r\n  renderLeaderBoard=()=>{\r\n    console.log(\"in render leaderboard\")\r\n    // console.log('mile leader',this.getMileLeader(this.props.leaders))\r\n    console.log('Miles:',this.getTotalMiles(this.props.leaders))\r\n    if(this.props.leaders){\r\n\r\n      return (\r\n        <Fragment>\r\n        <div class=\"container\">\r\n        <div class=\"row\">\r\n        <div class=\"col-md-9\">\r\n        <div class=\"list-group\" >\r\n        <Leader\r\n        title={'Highest Rating: '}\r\n        design={'list-group-item google-plus'}\r\n        icon={'icon glyphicon glyphicon-star'}\r\n        getUser={this.getRatingLeader(this.props.leaders)}\r\n        handleClick={this.handleUserClick}\r\n        superlative={'rating'}\r\n        />\r\n\r\n      {/*  <Leader\r\n        title={'Longest Duration: '}\r\n        design={'list-group-item facebook-like'}\r\n        icon={'icon glyphicon glyphicon-hourglass'}\r\n        getUser={this.getRatingLeader(this.props.leaders)}\r\n        handleClick={this.handleUserClick}\r\n        />*/}\r\n        <Leader\r\n        title={'Most Miles: '}\r\n        design={'list-group-item twitter'}\r\n        icon={'icon glyphicon glyphicon-road'}\r\n        getUser={this.getMileLeader(this.props.leaders)}\r\n        handleClick={this.handleUserClick}\r\n        getStat={this.getTotalMiles}\r\n        />\r\n        <Leader\r\n        title={'Highest Earner: '}\r\n        design={'list-group-item youtube'}\r\n        icon={'icon glyphicon glyphicon-usd'}\r\n        getUser={this.getEarnerLeader(this.props.leaders)}\r\n        handleClick={this.handleUserClick}\r\n        superlative={'money'}\r\n        getStat={this.getTotalEarned}\r\n        />\r\n        <Leader\r\n        title={'Most Experience: '}\r\n        design={'list-group-item tumblr'}\r\n        icon={'icon glyphicon glyphicon-hourglass'}\r\n        getUser={this.getExperienceLeader(this.props.leaders)}\r\n        handleClick={this.handleUserClick}\r\n        superlative={'experience'}\r\n        />\r\n        </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        </Fragment>\r\n      )\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderLeaderBoard()}\r\n        {/*this.renderUserTotals()*/}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n\r\n\tfetchRides:() => dispatch(fetchRides()),\r\n\tfetchUsers:()=>dispatch(fetchUsers())\r\n})\r\nfunction mapStateToProps(state) {\r\n\r\n\tconst { user } = state;\r\n  const { rides} = state.rides;\r\n\tconsole.log('mapping state in rides',user)\r\n  return {\r\n    allCompanies:user.allCompanies,\r\n    rides: rides[0],\r\n    users:user.users[2],\r\n    currentUser:user.currentUser\r\n  }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps) (Leaderboard)\r\n","import React from \"react\";\r\nimport Leaderboard from './Leaderboard.js'\r\nimport RideList from './RideList'\r\nimport { connect } from 'react-redux';\r\nimport {fetchUsers,fetchRides} from '../Actions';\r\n\r\n\r\n\r\nclass Rides extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      allRides: this.props.rides,\r\n      filteredRides: this.props.rides,\r\n      users:[],\r\n      textInput: ''\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.props.fetchRides();\r\n    this.props.fetchUsers();\r\n  }\r\n\r\n  componentWillReceiveProps(){\r\n    this.setState({\r\n      users: this.props.users,\r\n      allRides: this.props.rides,\r\n      filteredRides: this.props.rides\r\n    })\r\n  }\r\n\r\n  returnDropdown = () => {\r\n    return (\r\n      <div className=\"\">\r\n      <form action=\"/action_page.php\">\r\n      <select name=\"cars\"\r\n      onChange={this.handleSortSubmit}\r\n      >\r\n        <option value=\"recent\">Most Recent</option>\r\n        <option value=\"price\">Price</option>\r\n        <option value=\"distance\">Distance</option>\r\n      </select>\r\n      <select name=\"cars\"\r\n      onChange={this.handleFilterSubmit}\r\n      >\r\n        <option value=\"all\">All</option>\r\n        <option value=\"uber\">Uber</option>\r\n        <option value=\"lyft\">Lyft</option>\r\n        ////////////////ADD ANOTHER COMPANY IF WE WANT\r\n      </select>\r\n        <input\r\n         type=\"text\"\r\n         onChange={this.handleSearch}\r\n         value={this.state.textInput}\r\n         placeholder=\"Search by location\"\r\n         />\r\n         <form action=\"/action_page.php\">\r\n          <input type=\"radio\" name=\"gender\" value=\"friends\" onChange={(e) =>this.handleFriendFilter(e)}/> Friends\r\n          <input type=\"radio\" name=\"gender\" value=\"all\" onChange={this.handleChangeBack}/> All\r\n        </form>\r\n      </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleChangeBack = () => {\r\n    this.setState({filteredRides: this.state.allRides})\r\n  }\r\n//this function is super javascripty//\r\n  handleFriendFilter = (e) => {\r\n    e.preventDefault()\r\n    let myFriends = this.props.user.followers.map(follower => follower.id)\r\n    let filtered =[]\r\n    this.state.allRides.map((ride) =>\r\n      {\r\n        for (let i = 0; i < myFriends.length; i ++){\r\n          if (ride.user_id === myFriends[i] ){\r\n          filtered.push(ride)\r\n          }\r\n        }\r\n     }\r\n   )\r\n   this.setState({filteredRides: filtered})\r\n  }\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({textInput: e.target.value})\r\n    let filtered = this.state.allRides.filter(ride =>\r\n       ride.start_location.toLowerCase().includes(e.target.value.toLowerCase())\r\n    || ride.end_location.toLowerCase().includes(e.target.value.toLowerCase()) )\r\n    this.setState({filteredRides: filtered})\r\n  }\r\n\r\n  handleSortSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (e.target.value === \"distance\"){\r\n      let filtered = this.state.filteredRides.sort((a, b) => (a.distance < b.distance)? 1 : -1)\r\n      this.setState({filteredRides: filtered})\r\n    }\r\n    else if (e.target.value === \"price\"){\r\n      let filtered = this.state.filteredRides.sort((a, b) => (a.price < b.price)? 1 : -1)\r\n      this.setState({filteredRides: filtered})\r\n    }\r\n    //DID NOT TEST THIS YET\r\n    else if (e.target.value === \"recent\"){\r\n      let filtered = this.state.filteredRides.sort((a, b) => (a.end_at > b.end_at)? 1 : -1)\r\n      this.setState({filteredRides: filtered})\r\n    }\r\n    ////////\r\n  }\r\n\r\n  handleFilterSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (e.target.value === \"all\"){\r\n      this.setState({filteredRides: this.state.allRides})\r\n    }\r\n\r\n    else if (e.target.value === \"uber\"){\r\n      let filtered = this.state.allRides.filter(ride => ride.company_id === 1)\r\n      this.setState({filteredRides: filtered})\r\n    }\r\n\r\n    else if (e.target.value === \"lyft\"){\r\n      let filtered = this.state.allRides.filter(ride => ride.company_id === 2)\r\n      this.setState({filteredRides: filtered})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"hit rides route: props.users\",this.props.users)\r\n    // debugger\r\n\r\n    return (\r\n      <>\r\n\r\n      <div className = \"container col-11\">\r\n        {this.props.users?\r\n\r\n        <Leaderboard\r\n          leaders={this.props.users}\r\n          allUsers={this.props.users}\r\n          user={this.props.currentUser}\r\n          forum={this.props.forums}\r\n          rides={this.props.rides}\r\n          allCompanies={this.props.allCompanies}\r\n          />\r\n        :     null}\r\n\r\n        <div className=\"col-12\" id=\"profile-rides-list\">\r\n        <RideList rides={this.state.filteredRides} displayDropdown={this.returnDropdown}/>\r\n        </div>\r\n      </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n\r\n\tfetchRides:() => dispatch(fetchRides()),\r\n\tfetchUsers:()=>dispatch(fetchUsers())\r\n})\r\nfunction mapStateToProps(state) {\r\n\tconst { user } = state;\r\n  const { rides} = state.rides;\r\n  const {forums}= state.forums;\r\n  return {\r\n    allCompanies:user.allCompanies,\r\n    rides: rides[0],\r\n    forums:user.forums,\r\n    allForums: forums[0],\r\n    users:user.users[2],\r\n    currentUser:user.currentUser\r\n  }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps) (Rides)\r\n","import React from \"react\";\r\nimport { MDBContainer, MDBRow, MDBCol } from 'mdbreact';\r\nimport { connect } from 'react-redux';\r\nimport {userLoginFetch} from '../Actions';\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport '../App.css';\r\n\r\n\r\nclass LoginForm extends React.Component {\r\n\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    if(newProps.currentUser){\r\n      this.props.history.push(`/profile`)\r\n    }\r\n  }\r\n\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    console.log('in handle submit login')\r\n    this.props.userLoginFetch(this.state)\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"centered\">\r\n      <MDBContainer  >\r\n        <MDBRow >\r\n          <MDBCol >\r\n            <Form onSubmit={this.handleSubmit}>\r\n              <p className=\"h4 text-center mb-4\">Sign in</p>\r\n\r\n              <Form.Field>\r\n               <label>Username</label>\r\n               <input onChange={this.handleChange} name=\"username\" value={this.state.username} placeholder='Username' />\r\n              </Form.Field>\r\n\r\n              <br />\r\n\r\n              <Form.Field>\r\n      \t\t      <label>Password</label>\r\n      \t\t      <input onChange={this.handleChange} type=\"password\" name=\"password\" value={this.state.password} placeholder='Password' />\r\n      \t\t    </Form.Field>\r\n\r\n              <div className=\"text-center mt-4\">\r\n                <Button color=\"indigo\" type=\"submit\">Login</Button>\r\n              </div>\r\n            </Form>\r\n\r\n          </MDBCol>\r\n        </MDBRow>\r\n      </MDBContainer>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n  userLoginFetch: userInfo => dispatch(userLoginFetch(userInfo))\r\n})\r\nfunction mapStateToProps(state) {\r\n  // maps the state from the store to the props\r\n  const {user} = state\r\n  return {\r\n    currentUser: user.currentUser\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\r\n","import React from 'react'\r\nimport { Form, Button } from 'semantic-ui-react'\r\nimport {USERURL} from '../Constants.js'\r\nimport { connect } from 'react-redux';\r\nimport {createUser} from '../Actions';\r\n\r\nclass SignupForm extends React.Component {\r\n\tstate = {\r\n\t\tname: \"\",\r\n\t\tusername: \"\",\r\n\t\tpassword: \"\",\r\n\t\tpasswordConfirmation: \"\",\r\n\t}\r\n\r\n\thandleChange = (event) => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\t// createUser = (login_data) => {\r\n\t// \tfetch(USERURL, {\r\n\t// \t\tmethod: \"POST\",\r\n\t// \t\theaders: {\r\n\t// \t\t\t\"Content-Type\": \"application/json\",\r\n\t// \t\t\t\"Accepts\": \"application/json\",\r\n\t// \t\t},\r\n\t// \t\tbody: JSON.stringify(login_data)\r\n\t// \t})\r\n\t// \t.then(res => res.json())\r\n\t// \t.then((response) => {\r\n\t//\r\n\t// \t\tif (response.error){\r\n\t// \t\t\talert(response.error)\r\n\t// \t\t} else {\r\n\t// \t\t\t// debugger\r\n\t// \t\t\tthis.props.setCurrentUser(response.user)\r\n\t// \t\t\tlocalStorage.setItem('jwt', response.jwt)\r\n\t// \t\t\tthis.props.history.push(`/users/${response.user.id}`)\r\n\t// \t\t}\r\n\t// \t})\r\n\t// }\r\n\r\n\thandleSubmit = () => {\r\n\t\tif(this.state.password === this.state.passwordConfirmation){\r\n\t\t\t// this.createUser()\r\n\t\t\tconsole.log('in handle submit create user')\r\n\t\t\tthis.props.createUser(this.state)\r\n\t\t} else {\r\n\t\t\talert(\"Passwords don't match!\")\r\n\t\t}\r\n\t}\r\n// \thandleSubmit = event => {\r\n// \tevent.preventDefault()\r\n// }\r\n\r\n\trender(){\r\n\t\treturn (<>\r\n\t\t\t<Form onSubmit={this.handleSubmit}>\r\n\t\t    <Form.Field>\r\n\t\t      <label>Username</label>\r\n\t\t      <input onChange={this.handleChange} name=\"username\" value={this.state.username} placeholder='Username' />\r\n\t\t    </Form.Field>\r\n\t\t    <Form.Field>\r\n\t\t      <label>Name</label>\r\n\t\t      <input onChange={this.handleChange} name=\"name\" value={this.state.name} placeholder='Name' />\r\n\t\t    </Form.Field>\r\n\t\t    <Form.Field>\r\n\t\t      <label>Password</label>\r\n\t\t      <input onChange={this.handleChange} type=\"password\" name=\"password\" value={this.state.password} placeholder='Password' />\r\n\t\t    </Form.Field>\r\n\t\t    <Form.Field>\r\n\t\t      <label>Password Confirmation</label>\r\n\t\t      <input onChange={this.handleChange} type=\"password\" name=\"passwordConfirmation\" value={this.state.passwordConfirmation} placeholder='Password Confirmation' />\r\n\t\t    </Form.Field>\r\n\t\t    <Button type='submit'>Submit</Button>\r\n\t\t  </Form></>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  createUser: userInfo => dispatch(createUser(userInfo))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(SignupForm);\r\n","import React, {Component, Fragment} from 'react'\r\n\r\nclass ChatBox extends Component{\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      formInput: '',\r\n      currentUser: this.props.currentUser,\r\n      currentChat: this.props.currentChat,\r\n      messages:this.props.currentChat.messages\r\n    }\r\n  }\r\n  componentWillReceiveProps(newProps){\r\n\r\n    this.setState({\r\n      currentUser:newProps.currentUser,\r\n      currentChat:newProps.currentChat,\r\n      messages:newProps.currentChat.messages\r\n    })\r\n\r\n  }\r\n\r\n  renderMessages = () => {\r\n\r\n\r\n      return this.state.messages.map(message => {\r\n        return (\r\n          <div>\r\n            <div className=\"incoming_msg\">\r\n              <div className=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> </div>\r\n              <div className=\"received_msg\">\r\n                <div className=\"received_withd_msg\">\r\n                  <p>\r\n                    {message.content}\r\n                  </p>\r\n                  <span className=\"time_date\">  {this.props.users.find(user => user.id === message.user_id).name}   |  {message.created_at}  </span></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n\r\n\r\n\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.props.closeChat()\r\n  }\r\n\r\n  handleInput = (e) => {\r\n    this.setState({formInput: e.target.value})\r\n  }\r\n\r\n  handleMessageSubmit = () => {\r\n    // debugger\r\n    fetch('https://ride-share-api.herokuapp.com/api/v1/messages',\r\n      {method:\r\n        \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Accept: 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          forum_id: this.state.currentChat.id,\r\n          user_id: this.props.currentUser.id,\r\n          content: this.state.formInput\r\n        })\r\n      }\r\n    )\r\n    .then(r => r.json())\r\n    .then(r => this.addNewMessage(r))\r\n  }\r\n\r\n  addNewMessage = (r) => {\r\n    let copy = [...this.state.messages, r]\r\n    this.setState({messages: copy})\r\n    this.setState({formInput: ''})\r\n  }\r\n\r\n  render(){\r\n    // debugger\r\n    return (\r\n      <Fragment>\r\n      <div class=\"container\">\r\n      <h3 class=\" text-center\">Messaging</h3>\r\n      <div class=\"messaging\">\r\n            <div class=\"inbox_msg\">\r\n              <div >\r\n              <button onClick={() => this.handleClose()}>Close Chat</button>\r\n                <div class=\"headind_srch\">\r\n                </div>\r\n              </div>\r\n              <div class=\"mesgs\">\r\n                <div class=\"msg_history\">\r\n                {this.renderMessages()}\r\n                </div>\r\n                <div class=\"type_msg\">\r\n                  <div class=\"input_msg_write\">\r\n                    <input type=\"text\" class=\"write_msg\" placeholder=\"Type a message\" value={this.state.formInput} onChange={(e) => this.handleInput(e)}/>\r\n                    <button class=\"msg_send_btn\" type=\"button\" onClick={() => this.handleMessageSubmit()}><i class=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <p class=\"text-center top_spac\"> Design by <a target=\"_blank\" href=\"#\">Brian Murillo</a></p>\r\n          </div></div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChatBox\r\n\r\n// <div class=\"container\">\r\n// <h3 class=\" text-center\">Messaging</h3>\r\n// <div class=\"messaging\">\r\n//       <div class=\"inbox_msg\">\r\n//         <div class=\"inbox_people\">\r\n//           <div class=\"headind_srch\">\r\n//           </div>\r\n//         </div>\r\n//         <div class=\"mesgs\">\r\n//           <div class=\"msg_history\">\r\n//             <div class=\"incoming_msg\">\r\n//               <div class=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> </div>\r\n//               <div class=\"received_msg\">\r\n//                 <div class=\"received_withd_msg\">\r\n//                   <p>Test which is a new approach to have all\r\n//                     solutions</p>\r\n//                   <span class=\"time_date\"> 11:01 AM    |    June 9</span></div>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//           <div class=\"type_msg\">\r\n//             <div class=\"input_msg_write\">\r\n//               <input type=\"text\" class=\"write_msg\" placeholder=\"Type a message\" />\r\n//               <button class=\"msg_send_btn\" type=\"button\"><i class=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i></button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div></div>\r\n","import React from \"react\";\r\nimport ForumsList from './ForumsList.js'\r\nimport ChatBox from './ChatBox'\r\nimport { connect } from 'react-redux';\r\nimport {fetchForums,fetchUsers}from '../Actions.js'\r\n\r\n\r\nclass ForumsPage extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      allForums: null,\r\n      clickedForum: null,\r\n      openChat: false\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    this.props.fetchForums();\r\n    this.props.fetchUsers();\r\n  }\r\n\r\n  handleForumClick = (e) => {\r\n    this.setState({clickedForum: e.target.id})\r\n    this.setState({openChat: true})\r\n  }\r\n\r\n  closeChat = () => {\r\n    this.setState({openChat: false})\r\n  }\r\n  renderPage = ()=>{\r\n    return (\r\n      <>\r\n      <div>\r\n      {!this.state.openChat ? <ForumsList handleForumClick={this.handleForumClick} forums={this.props.allForums}/> : <ChatBox\r\n      currentUser={this.props.currentUser} closeChat={this.closeChat} users={this.props.users} currentChat={this.props.allForums.find(forum => forum.topic === this.state.clickedForum)}/>}\r\n    </div></>\r\n\r\n    )\r\n  }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n      {this.props.currentUser ? this.renderPage() : <p>Not Logged In </p>}\r\n      </>\r\n    )\r\n  }\r\n\r\n}\r\nconst mapDispatchToProps = dispatch => ({\r\n\tfetchUsers:()=>dispatch(fetchUsers()),\r\n  fetchForums:()=>dispatch(fetchForums())\r\n\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n  // maps the state from the store to the props\r\n\t// debugger\r\n\tconst { user } = state;\r\n  const {forums}=state.forums;\r\n  // debugger\r\n\r\n\tconsole.log('mapping state in forums',user)\r\n  return {\r\n    allCompanies:user.allCompanies,\r\n    rides:user.rides,\r\n    forums:user.forums,\r\n    allForums:forums[0],\r\n    users:user.users[2],\r\n    currentUser:user.currentUser\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps) (ForumsPage)\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport { Link, Route,Switch, Redirect} from 'react-router-dom'\r\n// import { Router, Route, browserHistory,Switch,Redirect } from 'react-router'\r\n// import { syncHistoryWithStore, routerReducer } from 'react-router-redux'\r\nimport { connect } from 'react-redux';\r\n\r\nimport {Grid} from 'semantic-ui-react'\r\n\r\nimport Header from './Components/Header.js'\r\nimport Rides from './Components/Rides.js'\r\nimport LoginForm from './Components/LoginForm.js'\r\nimport SignupForm from './Components/SignupForm.js'\r\nimport ForumsPage from './Components/ForumsPage.js'\r\nimport Profile from './Components/Profile.js'\r\nimport {getProfileFetch, setLogout,fetchUsers,fetchRides,fetchForums,fetchCompanies} from './Actions';\r\n\r\nimport './App.css';\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n    this.props.getProfileFetch();\r\n\t\tthis.props.fetchRides();\r\n\t\t// console.log('in app compononentdismount fetching users')\r\n\t\tthis.props.fetchUsers();\r\n\t\tthis.props.fetchForums();\r\n\r\n\t}\r\n\trenderUserPage=()=>{\r\n\t\treturn (\r\n\t\t <>\r\n\t\t <Route path=\"/users/:id\" exact render={(props) => {\r\n\r\n\t\t\t\t let paramid = parseInt(props.match.params.id)\r\n\t\t\t\t if(this.props.currentUser){\r\n\r\n\t\t\t\t\t  debugger\r\n\t\t\t\t\t\tif(paramid !== this.props.currentUser.id){\r\n\t\t\t\t\t\t\tlet userFromParams = this.props.users.find(u => u.id === paramid )\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t <Profile\r\n\t\t\t\t\t\t\t\t {...props}\r\n\t\t\t\t\t\t\t\t allCompanies={this.props.allCompanies}\r\n\t\t\t\t\t\t\t\t currentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\t\t user={userFromParams}\r\n\t\t\t\t\t\t\t />)\r\n\t\t\t\t\t }\r\n\t\t\t\t }\t}} />\r\n\t\t\t </>\r\n\t )\r\n }\r\n renderPage=(rout)=>{\r\n\t let paramid = parseInt(rout.match.params.id)\r\n\t if(this.props.currentUser){\r\n\r\n\t\t\tif(paramid !== this.props.currentUser.id){\r\n\t\t\t\tif(this.props.users){\r\n\r\n\t\t\t\t\tlet userFromParams = this.props.users.find(u => u.id === paramid )\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Profile\r\n\t\t\t\t\t\t\t{...rout}\r\n\t\t\t\t\t\t\tallCompanies={this.props.allCompanies}\r\n\t\t\t\t\t\t\tisCurrentUserProfile={false}\r\n\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\r\n\t\t\t\t\t\t\tuser={userFromParams}\r\n\t\t\t\t\t\t\t/>)\r\n\t\t\t\t}\r\n\t\t }\r\n\t }\r\n\r\n }\r\n\trenderProfileRoute=()=>{\r\n\t  return (\r\n\t\t\t<>\r\n\t    <Route path=\"/users/:id\" exact render={(props) => {\r\n\t        let id = parseInt(props.match.params.id)\r\n\t      if(this.props.currentUser){\r\n\t        debugger\r\n\t        if(id !== this.props.currentUser.id){\r\n\t          let ourUser = this.props.users.find(u => u.id === id )\r\n\t          return (\r\n\t            <Profile\r\n\t              {...props}\r\n\t              allCompanies={this.props.allCompanies}\r\n\t              currentUser={this.props.currentUser}\r\n\t              user={ourUser}\r\n\t            />\r\n\t          )\r\n\t        }\r\n\t        else {\r\n\r\n\t          return (\r\n\t            <Profile\r\n\t              {...props}\r\n\t              allCompanies={this.props.allCompanies}\r\n\t              currentUser={this.props.currentUser}\r\n\t              user={this.props.currentUser}\r\n\r\n\t            />\r\n\t          )\r\n\t        }}\r\n\t    }}/>\r\n\t\t</>\r\n\r\n\t  )\r\n\r\n\t}\r\n\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n      <Grid>\r\n        <Header history={this.props.history}  currentUser={this.props.currentUser} />\r\n        <Grid.Row centered>\r\n          <Switch>\r\n\t\t\t\t\t\t<Route path=\"/login\" render={routerProps => <LoginForm {...routerProps} setCurrentUser={this.props.setCurrentUser} />} />\r\n\t\t\t\t\t\t<Route path=\"/profile\" render={routerProps => <Profile {...routerProps} allCompanies={this.props.allCompanies}\t isCurrentUserProfile={false} currentUser={this.props.currentUser} user={this.props.currentUser} />} />\r\n\t\t\t\t\t\t<Route path=\"/user/:id\" render={(routerProps) => this.renderPage(routerProps)} />\r\n\r\n\r\n            <Route path=\"/forums\" component={ForumsPage} />\r\n            <Route path=\"/rides\" component={Rides} />\r\n            <Route path=\"/signup\" component={SignupForm} />\r\n          </Switch>\r\n        </Grid.Row>\r\n      </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getProfileFetch: () => dispatch(getProfileFetch()),\r\n  setLogout: () => dispatch(setLogout()),\r\n\tfetchRides:() => dispatch(fetchRides()),\r\n\tfetchForums:() => dispatch(fetchForums()),\r\n\tfetchUsers:()=>dispatch(fetchUsers()),\r\n\tfetchCompanies:()=>dispatch(fetchCompanies())\r\n})\r\nfunction mapStateToProps(state) {\r\n  // maps the state from the store to the props\r\n\t// debugger\r\n\tconst { user } = state;\r\n  const { rides} = state.rides;\r\n  const {forums}= state.forums;\r\n\t// console.log('mapping state in rides',user)\r\n\r\n  return {\r\n    allCompanies:user.allCompanies,\r\n    rides: rides[0],\r\n    forums:user.forums,\r\n    allForums: forums[0],\r\n    users:user.users[1],\r\n    currentUser:user.currentUser\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","// import {push} from 'react-router-redux';\r\n\r\nimport { ADD_USER,LOGIN_USER,ADD_FOLLOWER,REMOVE_FOLLOWER,FETCH_ALL_USERS,FETCH_ALL_COMPANIES,LOGOUT_USER} from '../Constants';\r\n\r\n\r\nconst initialUserState = {\r\n  users: [],\r\n  allCompanies:[],\r\n  forums:[],\r\n  rides: [],\r\n  allForums:[],\r\n  friendships: [],\r\n  currentUser: null\r\n    // users: [],\r\n\r\n};\r\n\r\nexport default function userReducer(state = initialUserState, action) {\r\n  // console.log('userReducer');\r\n  switch(action.type) {\r\n    case ADD_USER:\r\n      return { ...state, users: [...state.users, action.payload] };\r\n    case \"RESET\":\r\n      return initialUserState;\r\n    case FETCH_ALL_COMPANIES:\r\n      return {...state,allCompanies:[...state.allCompanies,action.payload]}\r\n    case LOGIN_USER:\r\n\r\n      return {...state,currentUser:action.payload};\r\n    case FETCH_ALL_USERS:\r\n      return{...state,users:[...state.users,action.payload]}\r\n\r\n    case ADD_FOLLOWER:\r\n      return {...state,currentUser:action.payload     };\r\n    case REMOVE_FOLLOWER:\r\n      return {...state,currentUser:action.payload  };\r\n    case LOGOUT_USER:\r\n      return {...state, currentUser: null }\r\n\r\n\r\n\r\n    default:\r\n      // console.log('in default reducer case',state);\r\n      return state;\r\n  }\r\n}\r\n","\r\nimport {push} from 'react-router-redux';\r\n\r\nimport {FETCH_ALL_FORUMS} from '../Constants';\r\n\r\n\r\nconst initialForumsState = {\r\n\r\n  forums: [],\r\n\r\n\r\n};\r\n\r\nexport default function ridesReducer(state = initialForumsState, action) {\r\n  // console.log('userReducer');\r\n  switch(action.type) {\r\n    case FETCH_ALL_FORUMS:\r\n      return { ...state, forums: [...state.forums, action.payload] };\r\n\r\n\r\n\r\n    default:\r\n      // console.log('in default reducer case',state);\r\n      return state;\r\n  }\r\n}\r\n","\r\nimport {push} from 'react-router-redux';\r\n\r\nimport {FETCH_ALL_RIDES} from '../Constants';\r\n\r\n\r\nconst initialRidesState = {\r\n\r\n  rides: [],\r\n\r\n\r\n};\r\n\r\nexport default function ridesReducer(state = initialRidesState, action) {\r\n  // console.log('userReducer');\r\n  switch(action.type) {\r\n    case FETCH_ALL_RIDES:\r\n      // console.log('setting rides',action.payload)\r\n      return { ...state, rides: [...state.rides, action.payload] };\r\n\r\n\r\n\r\n    default:\r\n      // console.log('in default reducer case',state);\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport {  routerReducer } from 'react-router-redux'\r\nimport userReducer from './userReducer';\r\nimport forumsReducer from './forumsReducer';\r\nimport ridesReducer from './ridesReducer';\r\n\r\nexport default combineReducers({\r\n  currentUser:userReducer.currentUser,\r\n  user: userReducer,\r\n  rides: ridesReducer,\r\n  forums: forumsReducer,\r\n   routing: routerReducer,\r\n})\r\n","import rootReducer from './Reducers'; // trick with imports\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { routerMiddleware, push } from 'react-router-redux'\r\nimport {  browserHistory } from 'react-router'\r\n// Apply the middleware to the store\r\nconst middleware = routerMiddleware(browserHistory)\r\n// const store = createStore(\r\n//   rootReducer,\r\n//   applyMiddleware(middleware)\r\n// )\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport { Provider } from 'react-redux';\r\nimport store from './store'\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <Route path=\"/\" component={App} />\r\n    </Router>\r\n  </Provider>, document.getElementById('root')\r\n);\r\n\r\n\r\n//\r\n// ReactDOM.render(\r\n//     <Provider store={store}>\r\n//       <Router  history={history}>\r\n//         <App/>\r\n//       </Router>\r\n//     </Provider>,\r\n//   document.getElementById('root'));\r\n\r\n// ReactDOM.render(\r\n//     <Provider store={store}>\r\n//       <Router history={history}>\r\n//         <Route path=\"/\" component={App}>\r\n//           <Route path=\"login\" component={LoginForm}/>\r\n//         </Route>\r\n//       </Router>\r\n//     </Provider>,\r\n//     document.querySelector('#root')\r\n//   )\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}