(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(49)},34:function(e,t,a){},35:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(19),l=a.n(s),i=(a(34),a(1)),o=a(2),c=a(4),u=a(3),p=a(5),d=a(11),m=a(12),h=(a(35),function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"container col-11"},n.a.createElement("b",null,"RideShare")))}}]),t}(n.a.Component)),f=a(9),g=a(15),E=a(16),v=function(e){var t=function(e){};return console.log("rendering profile card"),n.a.createElement("div",Object(E.a)({className:"profile-card"},"className","card"),n.a.createElement("img",{src:"https://cdn-images-1.medium.com/max/1200/1*kfM2czy7JbViNrmS4kcmFQ.jpeg",alt:"No Profile Image",className:"card-img-top"}),n.a.createElement("div",{className:"card-header"},n.a.createElement("b",null,e.user.name," ")),n.a.createElement("ul",{className:"list-group list-group-flush"},n.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Car: ",e.user.car," "),n.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Experience: ",e.user.experience," "),n.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Rating: ",e.user.rating," "),n.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Companies: ",e.companies?e.companies.map(function(e){return"".concat(e.name," ")}):"nope"," "),n.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Base Location: ",e.user.location)))},b=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},this.props.idx),n.a.createElement("td",null,this.props.ride.distance),n.a.createElement("td",null,this.props.ride.started_at),n.a.createElement("td",null,this.props.ride.end_at),n.a.createElement("td",null,this.props.ride.price),n.a.createElement("td",null,this.props.ride.start_location),n.a.createElement("td",null,this.props.ride.end_location)))}}]),t}(n.a.Component),C=function(e){return n.a.createElement("div",{className:"ride-list"},e.displayDropdown?e.displayDropdown():"",n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Num"),n.a.createElement("th",{scope:"col"},"Distance"),n.a.createElement("th",{scope:"col"},"Started At"),n.a.createElement("th",{scope:"col"},"Ended At"),n.a.createElement("th",{scope:"col"},"Price"),n.a.createElement("th",{scope:"col"},"Starting Location"),n.a.createElement("th",{scope:"col"},"Ending Location"))),n.a.createElement("tbody",null,function(){if(e.rides)return e.rides.map(function(e,t){return n.a.createElement(b,{key:t,idx:t+1,ride:e})})}())))},O=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{onClick:function(t){return e.props.handleForumClick(t)}},n.a.createElement("tr",null,n.a.createElement("td",{style:{width:""},scope:"row"},this.props.idx),n.a.createElement("td",{id:this.props.forum.topic,scope:"row",className:"col"},this.props.forum.topic)))}}]),t}(n.a.Component),j=function(e){return n.a.createElement("div",null,n.a.createElement("table",{className:"table table-striped",id:"profile-forums"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Num"),n.a.createElement("th",{className:"col",scope:"col"},"Topic"))),n.a.createElement("tbody",null,function(){if(e.forums)return e.forums.map(function(t,a){return n.a.createElement(r.Fragment,null,n.a.createElement(O,{handleForumClick:e.handleForumClick,key:a,idx:a+1,forum:t}))})}())))},y=a(20),k=a.n(y),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={nameValue:a.props.props.user.name,experienceValue:a.props.props.user.experience,ratingValue:a.props.props.user.rating,locationValue:a.props.props.user.location,carValue:a.props.props.user.car,companiesValue:a.props.props.user.companies},a.handleCheckChange=function(e){if(console.log("handling check change"),a.state.companiesValue.map(function(e){return e.id}).includes(e.id)){var t=Object(f.a)(a.state.companiesValue).filter(function(t){return t.id!==e.id});a.setState({companiesValue:t})}else{var r=Object(f.a)(a.state.companiesValue);r.push(e);var n=r;a.setState({companiesValue:n})}},a.renderChecks=function(){if(a.props.state.user){var e=a.state.companiesValue.map(function(e){return e.id});return a.props.props.allCompanies.map(function(t,r){return n.a.createElement("label",null,t.name,n.a.createElement("input",{onChange:function(){return a.handleCheckChange(t)},type:"checkbox",checked:e.includes(t.id)}))})}},a.handleEditFormChange=function(e){console.log("handling edit",e);var t=e.target.value,r=e.target.name;a.setState(Object(E.a)({},r,t))},a.renderEditModal=function(){if(a.props.state.modal)return n.a.createElement(k.a,{isOpen:a.props.state.modal,onAfterOpen:a.props.handleAfterOpen,onRequestClose:a.props.handleAfterClose,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,ariaHideApp:!1,data:{background:"green"},contentLabel:"example modal"},n.a.createElement("form",null,n.a.createElement("label",null,"Name:",n.a.createElement("input",{name:"nameValue",type:"text",onChange:function(e){return a.handleEditFormChange(e)},value:a.state.nameValue})),n.a.createElement("br",null),n.a.createElement("label",null,"Experience:",n.a.createElement("input",{name:"experienceValue",type:"text",onChange:function(e){return a.handleEditFormChange(e)},value:a.state.experienceValue})),n.a.createElement("br",null),n.a.createElement("label",null,"Rating:",n.a.createElement("input",{name:"ratingValue",type:"text",onChange:function(e){return a.handleEditFormChange(e)},value:a.state.ratingValue})),n.a.createElement("br",null),n.a.createElement("label",null,"Car:",n.a.createElement("input",{name:"carValue",type:"text",onChange:function(e){return a.handleEditFormChange(e)},value:a.state.carValue})),n.a.createElement("br",null),n.a.createElement("label",null,"Location:",n.a.createElement("input",{name:"locationValue",type:"text",onChange:function(e){return a.handleEditFormChange(e)},value:a.state.locationValue})),n.a.createElement("br",null),n.a.createElement("label",null,"Companies:",a.renderChecks()),n.a.createElement("br",null),n.a.createElement("button",{type:"submit",onClick:function(e,t){return a.props.handleSubmit(e,a.state)}},"Save Edit")),n.a.createElement("button",{onClick:a.props.handleAfterClose},"Close Modal"))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({nameValue:this.props.props.user.name,experienceValue:this.props.props.user.experience,ratingValue:this.props.props.user.rating,locationValue:this.props.props.user.location,carValue:this.props.props.user.car,companiesValue:this.props.props.user.companies})}},{key:"render",value:function(){return console.log(this.state),console.log(this.props),n.a.createElement(r.Fragment,null,this.renderEditModal())}}]),t}(n.a.Component),x="http://lorempixel.com/400/200/sports/",U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).followerCards=function(){if(a.props.followers)return a.props.followers.map(function(e){return n.a.createElement("div",{class:"card follower-container"},n.a.createElement("img",{class:"card-img-top",src:x,alt:"Card image cap"}),n.a.createElement("div",{class:"card-body"},n.a.createElement("h5",{class:"card-title"},"Name: ",e.name),n.a.createElement("p",{class:"card-text"},"I drive a: ",e.car),n.a.createElement("a",{href:"http://localhost:3001/profile/".concat(e.id),class:"btn btn-primary"},"Check out my profile!")))})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"card-group col-12"},this.followerCards())}}]),t}(r.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleEdit=function(e){console.log(e),a.setState({modal:!0})},a.handleAfterOpen=function(){console.log("opened")},a.handleAfterClose=function(){console.log("closed"),a.setState({modal:!1})},a.handleSubmit=function(e,t){e.preventDefault(),console.log("in save edit user",a.state),a.props.handleEdit(e,t),a.setState({modal:!1})},a.handleDelete=function(e){console.log("in handle delete function",e.target)},a.renderModal=function(){if(a.props.user)return n.a.createElement(S,{state:a.state,props:a.props,handleAfterOpen:a.handleAfterOpen,handleAfterClose:a.handleAfterClose,handleEditFormChange:a.handleEditFormChange,handleSubmit:a.handleSubmit})},a.handleFollow=function(){console.log(Object(g.a)(a))},a.renderProfileCard=function(){if(a.state.user)return n.a.createElement(v,{user:a.props.user,companies:a.props.user.companies})},a.renderEditButton=function(){return a.props.user==a.props.currentUser?n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModalCenter",id:"edit-profile",onClick:a.handleEdit}," Edit Profile "),n.a.createElement("button",{type:"button",className:"btn btn-primary",id:"edit-profile",onClick:a.handleDelete}," Delete Profile ")):n.a.createElement("button",{type:"button",className:"btn btn-primary",id:"follow-user",onClick:function(){return a.handleFollow()}}," Follow this user ")},a.state={modal:!1,user:a.props.user,curentUser:a.props.currentUser,editedUser:a.props.user},console.log("profile constructor props",e),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return console.log("rendering profile",this.state),n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"container col-11"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-3 justify-content-center",id:"profile-card-container"},this.renderProfileCard(),this.renderEditButton(),this.renderModal()),n.a.createElement("div",{className:"col",id:"profile-rides-list"},n.a.createElement(C,{rides:this.state.user.rides}),n.a.createElement(j,{forums:this.state.user.forums}),n.a.createElement(U,{followers:this.state.user.followers})))))}}]),t}(n.a.Component),N=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(this.props.getUser)return n.a.createElement("div",{onClick:function(t){return e.props.handleClick(t,e.props.getUser)},name:this.props.superlative},n.a.createElement(d.b,{to:"/profile/".concat(this.props.getUser.id)},n.a.createElement("div",{className:this.props.design},n.a.createElement("h3",{class:"pull-right"},n.a.createElement("i",{className:this.props.icon}," ")),n.a.createElement("h4",{class:"list-group-item-heading count"},this.props.title,this.props.getUser.name),n.a.createElement("p",{class:"list-group-item-text"},this.props.getStat?this.props.getStat(this.props.getUser):null,"rating"==this.props.superlative?this.props.getUser.rating:null,"experience"==this.props.superlative?this.props.getUser.experience:null))))}}]),t}(n.a.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getTotalMiles=function(e){var t=0;if(e.rides)return e.rides.map(function(e){return t+=e.distance}),t},a.getTotalEarned=function(e){var t=0;if(console.log("get total earnd",e),e.rides)return e.rides.map(function(e){return t+=e.price}),t},a.getTotalTimeDriving=function(e){var t=0;if(e.rides)return e.rides.map(function(e){var a=e.end_at-e.started_at;t+=a}),t},a.getMileLeader=function(e){var t=Object(f.a)(e);if(t!==[])return t.sort(function(e,t){return a.getTotalMiles(e)-a.getTotalMiles(t)}),console.log("mile leaders",t.reverse()[0]),t.reverse()[0]},a.getRatingLeader=function(e){var t=Object(f.a)(e);return t!==[]&&t.sort(function(e,t){return e.rating-t.rating}),t.reverse()[0]},a.getExperienceLeader=function(e){var t=Object(f.a)(e);return t!==[]&&t.sort(function(e,t){return e.experience-t.experience}),console.log("experience leaders",t),t.reverse()[0]},a.getTimeLeader=function(e){if(e!==[])return e.sort(function(e,t){return a.getTimeLeader(e)-a.getTimeLeader(t)})},a.getEarnerLeader=function(e){var t=Object(f.a)(e);if(t!==[])return t.sort(function(e,t){return console.log("user a  earned",a.getTotalEarned(e)),console.log("user b earned",a.getTotalEarned(t)),a.getTotalEarned(e)-a.getTotalEarned(t)}),t.reverse()[0]},a.renderUserTotals=function(){if(a.props.leaders)return a.props.leaders.map(function(e,t){return n.a.createElement("div",{key:t},n.a.createElement("h1",null,"User:",e.name),n.a.createElement("p",null,"Miles: ",a.getTotalMiles(e)),n.a.createElement("p",null,"Total Earned:",a.getTotalEarned(e)),n.a.createElement("p",null,"Total Time:",a.getTotalTimeDriving(e)))})},a.handleUserClick=function(e,t){return console.log("in handle user click ",t),n.a.createElement(F,{user:t,rides:a.props.rides,forum:a.props.forums,allCompanies:a.props.allCompanies})},a.renderLeaderBoard=function(){if(a.props.leaders)return n.a.createElement(r.Fragment,null,n.a.createElement("div",{class:"container"},n.a.createElement("div",{class:"row"},n.a.createElement("div",{class:"col-md-9"},n.a.createElement("div",{class:"list-group"},n.a.createElement(N,{title:"Highest Rating: ",design:"list-group-item google-plus",icon:"icon glyphicon glyphicon-star",getUser:a.getRatingLeader(a.props.leaders),handleClick:a.handleUserClick,superlative:"rating"}),n.a.createElement(N,{title:"Most Miles: ",design:"list-group-item twitter",icon:"icon glyphicon glyphicon-road",getUser:a.getMileLeader(a.props.leaders),handleClick:a.handleUserClick,getStat:a.getTotalMiles}),n.a.createElement(N,{title:"Highest Earner: ",design:"list-group-item youtube",icon:"icon glyphicon glyphicon-usd",getUser:a.getEarnerLeader(a.props.leaders),handleClick:a.handleUserClick,superlative:"",getStat:a.getTotalEarned}),n.a.createElement(N,{title:"Most Experience: ",design:"list-group-item tumblr",icon:"icon glyphicon glyphicon-hourglass",getUser:a.getExperienceLeader(a.props.leaders),handleClick:a.handleUserClick,superlative:"experience"}))))))},a.state={mostMiles:"",mostRating:"",mostEarned:"",mostTime:"",mostExperience:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.getRatingLeader(e.leaders),a=this.getMileLeader(e.leaders),r=this.getEarnerLeader(e.leaders),n=this.getExperienceLeader(e.leaders);this.setState({mostMiles:a,mostRating:t,mostEarned:r,mostExperience:n})}},{key:"render",value:function(){return n.a.createElement("div",null,this.renderLeaderBoard())}}]),t}(n.a.Component),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).returnDropdown=function(){return n.a.createElement("div",{className:""},n.a.createElement("form",{action:"/action_page.php"},n.a.createElement("select",{name:"cars",onChange:a.handleSortSubmit},n.a.createElement("option",{value:"recent"},"Most Recent"),n.a.createElement("option",{value:"price"},"Price"),n.a.createElement("option",{value:"distance"},"Distance")),n.a.createElement("select",{name:"cars",onChange:a.handleFilterSubmit},n.a.createElement("option",{value:"all"},"All"),n.a.createElement("option",{value:"uber"},"Uber"),n.a.createElement("option",{value:"lyft"},"Lyft"),"////////////////ADD ANOTHER COMPANY IF WE WANT"),n.a.createElement("input",{type:"text",onChange:a.handleSearch,value:a.state.textInput,placeholder:"Search by location"}),n.a.createElement("form",{action:"/action_page.php"},n.a.createElement("input",{type:"radio",name:"gender",value:"friends",onChange:function(e){return a.handleFriendFilter(e)}})," Friends",n.a.createElement("input",{type:"radio",name:"gender",value:"all",onChange:a.handleChangeBack})," All")))},a.handleChangeBack=function(){a.setState({filteredRides:a.state.allRides})},a.handleFriendFilter=function(e){e.preventDefault();var t=a.props.user.followers.map(function(e){return e.id}),r=[];a.state.allRides.map(function(e){for(var a=0;a<t.length;a++)e.user_id===t[a]&&r.push(e)}),a.setState({filteredRides:r})},a.handleSearch=function(e){a.setState({textInput:e.target.value});var t=a.state.allRides.filter(function(t){return t.end_location.includes(e.target.value)||t.start_location.includes(e.target.value)});a.setState({filteredRides:t})},a.handleSortSubmit=function(e){if(e.preventDefault(),"distance"===e.target.value){var t=a.state.filteredRides.sort(function(e,t){return e.distance<t.distance?1:-1});a.setState({filteredRides:t})}else if("price"===e.target.value){var r=a.state.filteredRides.sort(function(e,t){return e.price<t.price?1:-1});a.setState({filteredRides:r})}else if("recent"===e.target.value){var n=a.state.filteredRides.sort(function(e,t){return e.end_at>t.end_at?1:-1});a.setState({filteredRides:n})}},a.handleFilterSubmit=function(e){if(e.preventDefault(),"all"===e.target.value)a.setState({filteredRides:a.state.allRides});else if("uber"===e.target.value){var t=a.state.allRides.filter(function(e){return 1===e.company_id});a.setState({filteredRides:t})}else if("lyft"===e.target.value){var r=a.state.allRides.filter(function(e){return 2===e.company_id});a.setState({filteredRides:r})}},a.state={allRides:a.props.rides,filteredRides:a.props.rides,textInput:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({allRides:this.props.rides,filteredRides:this.props.rides})}},{key:"render",value:function(){return console.log("hit rides route"),n.a.createElement("div",{className:"container col-11"},n.a.createElement(w,{leaders:this.props.allUsers,allUsers:this.props.users,user:this.props.currentUser,forum:this.props.forums,rides:this.props.rides,allCompanies:this.props.allCompanies}),n.a.createElement("div",{className:"col-12",id:"profile-rides-list"},n.a.createElement(C,{rides:this.state.filteredRides,displayDropdown:this.returnDropdown})))}}]),t}(n.a.Component),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).renderMessages=function(){return a.state.messages.map(function(e){return n.a.createElement("div",null,n.a.createElement("div",{class:"incoming_msg"},n.a.createElement("div",{class:"incoming_msg_img"}," ",n.a.createElement("img",{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"})," "),n.a.createElement("div",{class:"received_msg"},n.a.createElement("div",{class:"received_withd_msg"},n.a.createElement("p",null,e.content),n.a.createElement("span",{class:"time_date"},"  ",a.props.users.find(function(t){return t.id==e.user_id}).name,"   |  ",e.created_at,"  ")))))})},a.handleClose=function(){a.props.closeChat()},a.handleInput=function(e){a.setState({formInput:e.target.value})},a.handleMessageSubmit=function(){fetch("https://ride-share-api.herokuapp.com/api/v1/messages",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({forum_id:a.state.currentChat.id,user_id:a.props.currentUser.id,content:a.state.formInput})}).then(function(e){return e.json()}).then(function(e){return a.addNewMessage(e)})},a.addNewMessage=function(e){var t=[].concat(Object(f.a)(a.state.messages),[e]);a.setState({messages:t}),a.setState({formInput:""})},a.state={formInput:"",currentUser:a.props.currentUser,currentChat:a.props.currentChat,messages:a.props.currentChat.messages},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(r.Fragment,null,n.a.createElement("div",{class:"container"},n.a.createElement("h3",{class:" text-center"},"Messaging"),n.a.createElement("div",{class:"messaging"},n.a.createElement("div",{class:"inbox_msg"},n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){return e.handleClose()}},"Close Chat"),n.a.createElement("div",{class:"headind_srch"})),n.a.createElement("div",{class:"mesgs"},n.a.createElement("div",{class:"msg_history"},this.renderMessages()),n.a.createElement("div",{class:"type_msg"},n.a.createElement("div",{class:"input_msg_write"},n.a.createElement("input",{type:"text",class:"write_msg",placeholder:"Type a message",value:this.state.formInput,onChange:function(t){return e.handleInput(t)}}),n.a.createElement("button",{class:"msg_send_btn",type:"button",onClick:function(){return e.handleMessageSubmit()}},n.a.createElement("i",{class:"fa fa-paper-plane-o","aria-hidden":"true"})))))),n.a.createElement("p",{class:"text-center top_spac"}," Design by ",n.a.createElement("a",{target:"_blank",href:"#"},"Jordan Ginor , Zev Spilman , Brian Murillo")))))}}]),t}(r.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleForumClick=function(e){a.setState({clickedForum:e.target.id}),a.setState({openChat:!0})},a.closeChat=function(){a.setState({openChat:!1})},a.state={allForums:null,clickedForum:null,openChat:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ride-share-api.herokuapp.com/api/v1/forums").then(function(e){return e.json()}).then(function(t){e.setState({allForums:t})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.openChat?n.a.createElement(R,{currentUser:this.props.currentUser,closeChat:this.closeChat,users:this.props.users,currentChat:this.state.allForums.find(function(t){return t.topic===e.state.clickedForum})}):n.a.createElement(j,{handleForumClick:this.handleForumClick,forums:this.state.allForums}))}}]),t}(n.a.Component),V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={modal:!1,allCompanies:[],users:"",rides:[],forums:[],allForums:[],friendships:[],currentUser:""},a.renderProfileLink=function(){if(a.state.currentUser)return n.a.createElement(d.b,{to:"/profile/".concat(a.state.currentUser.id)},"Profile")},a.patchEditProfile=function(e,t){var r=a.state.currentUser.id;e.preventDefault(),fetch("".concat("https://ride-share-api.herokuapp.com/api/v1/users","/").concat(r),{headers:{accepts:"application/json","content-type":"application/json"},method:"PATCH",body:JSON.stringify({name:t.nameValue,experience:t.experienceValue,car:t.carValue,companies:t.companiesValue,location:t.locationValue,rating:t.ratingValue})}).then(function(e){return e.json()}).then(function(e){a.setState({currentUser:e,modal:!1})})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ride-share-api.herokuapp.com/api/v1/users").then(function(e){return e.json()}).then(function(t){e.setState({users:t,currentUser:t.find(function(e){return"Brian"===e.name})})});fetch("https://ride-share-api.herokuapp.com/api/v1/companies").then(function(e){return e.json()}).then(function(t){e.setState({allCompanies:t})});fetch("https://ride-share-api.herokuapp.com/api/v1/rides").then(function(e){return e.json()}).then(function(t){e.setState({rides:t})});fetch("https://ride-share-api.herokuapp.com/api/v1/forums").then(function(e){return e.json()}).then(function(t){e.setState({allForums:t})})}},{key:"render",value:function(){var e=this;return n.a.createElement(r.Fragment,null,n.a.createElement(h,null),n.a.createElement("div",{className:"container col-11"},this.renderProfileLink(),n.a.createElement(d.b,{to:"/rides"},"Rides"),n.a.createElement(d.b,{to:"/forums"},"Forums")),n.a.createElement(m.a,{path:"/profile/:id",exact:!0,render:function(t){var a=parseInt(t.match.params.id);if(e.state.users){if(a!==e.state.currentUser.id){var r=e.state.users.find(function(e){return e.id===a});return n.a.createElement(F,Object.assign({},t,{allCompanies:e.state.allCompanies,currentUser:e.state.currentUser,user:r,handleEdit:e.patchEditProfile}))}var s=e.state.currentUser;return n.a.createElement(F,Object.assign({},t,{allCompanies:e.state.allCompanies,currentUser:e.state.currentUser,user:s,handleEdit:e.patchEditProfile}))}}}),n.a.createElement(m.a,{path:"/rides",exact:!0,render:function(){return n.a.createElement(r.Fragment,null,n.a.createElement(M,{allUsers:e.state.users,user:e.state.currentUser,forum:e.state.forums,rides:e.state.rides,allCompanies:e.state.allCompanies}))}}),n.a.createElement(m.a,{path:"/forums",exact:!0,render:function(){return n.a.createElement(r.Fragment,null,n.a.createElement(_,{users:e.state.users,currentUser:e.state.currentUser}))}}),n.a.createElement(m.a,{path:"/",exact:!0,render:function(){return n.a.createElement(r.Fragment,null,n.a.createElement(M,{allUsers:e.state.users,users:e.state.users,user:e.state.currentUser,forum:e.state.forums,rides:e.state.rides,allCompanies:e.state.allCompanies}))}}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(d.a,null,n.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.cd310a5f.chunk.js.map