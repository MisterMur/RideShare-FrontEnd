(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,r){},299:function(e,t,r){e.exports=r(485)},304:function(e,t,r){},485:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(17),l=r.n(o),s=(r(304),r(19)),c=r(20),i=r(22),u=r(23),p=r(14),d=r(35),f=r(30),m=r(537),h=r(42),g=r(255),E=r(531),v=r(533),b=r(31),y=(r(254),"https://ride-share-api.herokuapp.com/api/v1/"),C=y+"users/",O=y+"companies/",w=y+"rides/",U=y+"friendships/",j=y+"forums/",R=y+"login/",F=y+"auto_login/",N=y+"messages/",S="ADD_USER",k="LOGIN_USER",_="LOGOUT_USER",x="REMOVE_FOLLOWER",P="ADD_FOLLOWER",L="ADD_FOLLOWING",A="REMOVE_FOLLOWING",T="FETCH_ALL_RIDES",M="ADD_RIDE",B="FETCH_ALL_FORUMS",D="FETCH_ALL_USERS",V="FETCH_ALL_COMAPNIES",I="FETCH_CURRENT_USER",H="FETCH_ALL_FORUM_MESSAGES",W="SET_USER",z="FETCH_ALL_FRIENDSHIPS",G="REMOVE_FRIENDSHIP",J="ADD_FRIENDSHIP",q="SET_ALL_FOLLOWING",X="ADD_FORUM_MESSAGE",Y="RESET_MESSAGES";function $(e){return{type:k,payload:e}}function K(e){return function(t){t({type:I}),fetch("".concat(C,"/").concat(e.id)).then(function(e){return e.json()}).then(function(e){t($(e))})}}function Q(){return function(e){e({type:D}),fetch(C).then(pe).then(function(e){return e.json()}).then(function(t){e({type:D,payload:t})})}}function Z(e){return function(t){fetch(C+e.id).then(function(e){return e.json()}).then(function(e){t({type:W,payload:e})})}}function ee(){return function(e){e({type:V}),fetch(O).then(function(e){return e.json()}).then(function(t){e({type:V,payload:t})})}}function te(){return function(e){fetch(w).then(function(e){return e.json()}).then(function(t){e({type:T,payload:t})})}}function re(e){return function(t){fetch(j+e.id).then(function(e){return e.json()}).then(function(e){var r;t((r=e.messages,{type:H,payload:r}))})}}function ne(){return function(e){fetch(j).then(function(e){return e.json()}).then(function(t){e({type:B,payload:t})})}}function ae(e){return function(t){fetch(C+e.id+"/following").then(function(e){return e.json()}).then(function(e){t({type:q,payload:e})})}}function oe(){return function(e){fetch(U).then(function(e){return e.json()}).then(function(t){e({type:z,payload:t})})}}function le(e){return function(t){return fetch(w,{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({ride:e})}).then(pe).then(function(e){return e.json()}).then(function(e){return t({type:M,payload:e})})}}function se(e,t,r){return function(n){return fetch(N,{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify({user_id:e.id,forum_id:r.id,content:t})}).then(pe).then(function(e){return e.json()}).then(function(e){return n({type:X,payload:e})})}}function ce(e,t){return function(r){var n={follower_id:e.id,followed_id:t.id};return fetch(U,{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(n)}).then(pe).then(function(){r({type:L,payload:t}),r(function(e){return{type:J,payload:e}}(n))})}}function ie(e,t,r){return function(n){var a=r.find(function(r){return r.follower_id===e.id&&r.followed_id===t.id});if(a)return fetch(U+a.id,{method:"DELETE",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(a)}).then(pe).then(function(){n({type:A,payload:t}),n(function(e){return{type:G,payload:e}}(a))})}}function ue(){return function(e){e({type:_}),localStorage.removeItem("jwt"),e({type:_})}}function pe(e){if(!e.ok)throw Error(e.statusText);return e}function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var fe=function(e){Object(i.a)(r,e);var t=de(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).closeNav=function(){n.setState({navExpanded:!1})},n.setNavExpanded=function(e){n.setState({navExpanded:e})},n.logout=function(){localStorage.removeItem("jwt"),n.props.setLogout()},n.renderProfileLink=function(){return n.props.currentUser?a.a.createElement(b.b,{to:"/profile"}," Profile "):a.a.createElement(b.b,{to:"/login"}," Profile ")},n.renderLogout=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,{onClick:function(){return n.props.history.push("/users/".concat(n.props.currentUser.id))}}),a.a.createElement(g.a,{className:"menu-item"},a.a.createElement(b.b,{to:"/login",onClick:n.logout},"Logout")))},n.renderLoginSignup=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,{onClick:n.closeNav,className:"menu-item"},a.a.createElement(b.b,{to:"/login"},"Login")),a.a.createElement(g.a,{onClick:n.closeNav,className:"menu-item"},a.a.createElement(b.b,{to:"/signup"},"Sign Up")))},n.renderNav=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{bg:"dark",expand:"md",fixedtop:"true",ref:function(e){return n._navbar=e},onToggle:n.setNavExpanded,expanded:n.state.navExpanded,inverse:"true",fluid:"true"},a.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),a.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},a.a.createElement(v.a,null,a.a.createElement(g.a,{onClick:n.closeNav,"data-bs-toggle":"collapse",className:"menu-item"},n.renderProfileLink()),a.a.createElement(g.a,{onClick:n.closeNav,"data-bs-toggle":"collapse",className:"menu-item"},a.a.createElement(b.b,{to:"/rides"}," Rides ")),a.a.createElement(g.a,{onClick:n.closeNav,"data-bs-toggle":"collapse",className:"menu-item"},a.a.createElement(b.b,{to:"/forums"}," Forums ")),a.a.createElement(g.a,{onClick:n.closeNav,"data-bs-toggle":"collapse",className:"menu-item"},a.a.createElement(b.b,{to:"/discover"}," Discover ")),n.props.currentUser?n.renderLogout():n.renderLoginSignup()))))},n.renderHeader=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("header",{className:"title"},a.a.createElement("div",{className:"container col-11"},a.a.createElement("b",null,"RideShare"))))},n.state={navHeight:50,navExpanded:!1},n.handleResize=n.handleResize.bind(Object(h.a)(n)),n}return Object(c.a)(r,[{key:"handleResize",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({navHeight:l.a.findDOMNode(this._navbar).offsetHeight})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"header"},this.renderHeader(),this.renderNav()))}}]),r}(a.a.Component);var me=Object(f.b)(function(e){return{currentUser:e.user.currentUser}},function(e){return{setLogout:function(){return e(ue())}}})(fe),he=r(41),ge=r(54),Ee=r(29),ve=r(528),be=function(e){var t=function(e){};return a.a.createElement("div",{className:"profile-card"},a.a.createElement("img",{src:e.user.image_url,alt:"No Profile",className:"card-img-top"}),a.a.createElement("div",{className:"card-header"},a.a.createElement("b",null,e.user.name," ")),a.a.createElement("ul",{className:"list-group list-group-flush"},a.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Car: ",e.user.car," "),a.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Experience: ",e.user.experience," "),a.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Rating: ",e.user.rating," "),a.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Companies: ",e.companies?e.companies.map(function(e){return"".concat(e.name," ")}):"nope"," "),a.a.createElement("li",{onMouseOver:t,className:"list-group-item"},"Base Location: ",e.user.location)))};function ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ce=function(e){Object(i.a)(r,e);var t=ye(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).formatDate=function(e){var t=e.slice(0,4),r=e.slice(5,7),n=e.slice(8,10),a=e.slice(11,13),o=e.slice(14,16),l="";return l=parseInt(a)<12?"AM":"PM",a>=12&&(a-=12),a<10&&(a=parseInt(a)),0===a&&(a=12),"".concat(r,"/").concat(n,"/").concat(t,"@").concat(a,":").concat(o).concat(l)},e}return Object(c.a)(r,[{key:"render",value:function(){return a.a.createElement(n.Fragment,null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},this.props.idx),a.a.createElement("td",null,this.props.ride.distance),a.a.createElement("td",null,this.formatDate(this.props.ride.started_at)),a.a.createElement("td",null,this.formatDate(this.props.ride.end_at)),a.a.createElement("td",null,this.props.ride.price),a.a.createElement("td",null,this.props.ride.start_location),a.a.createElement("td",null,this.props.ride.end_location)))}}]),r}(a.a.Component),Oe=function(e){return a.a.createElement("div",{className:"ridestable"},e.displayDropdown?e.displayDropdown():"",a.a.createElement("table",{className:"table table-striped"},a.a.createElement("thead",{className:"thead-dark"},a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Num"),a.a.createElement("th",{scope:"col"},"Distance"),a.a.createElement("th",{scope:"col"},"Started At"),a.a.createElement("th",{scope:"col"},"Ended At"),a.a.createElement("th",{scope:"col"},"Price"),a.a.createElement("th",{scope:"col"},"Starting Location"),a.a.createElement("th",{scope:"col"},"Ending Location"))),a.a.createElement("tbody",null,e.displayAddRide?e.displayAddRide():null,e.rides.length>0?e.rides.map(function(e,t){return a.a.createElement(Ce,{key:t,idx:t+1,ride:e})}):a.a.createElement(a.a.Fragment,null,a.a.createElement("tr",null,a.a.createElement("td",{colspan:"7"},"No completed rides yet"))))))};function we(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ue=function(e){Object(i.a)(r,e);var t=we(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return a.a.createElement(n.Fragment,null,a.a.createElement("tr",{onClick:function(t,r){return e.props.handleForumClick(t,e.props.forum.topic)}},a.a.createElement("td",null,"  ",this.props.forum.topic," ")))}}]),r}(a.a.Component),je=function(e){return a.a.createElement("div",{className:"forumstable"},a.a.createElement("table",{className:"table table-striped"},a.a.createElement("thead",{className:"thead-dark"},a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Forum Topic"))),a.a.createElement("tbody",null,function(){return e.forums.length>0?(t=e.forums,t.filter(function(e,r){return t.findIndex(function(t){return t.topic===e.topic})===r})).map(function(t,r){return a.a.createElement(Ue,{handleForumClick:e.handleForumClick,key:t.id,idx:r+1,forum:t})}):a.a.createElement(a.a.Fragment,null,a.a.createElement("tr",null,a.a.createElement("td",{colspan:"1"},a.a.createElement("p",{style:{align:"center",justify:"centered"}},"Not a member of any Forums"))));var t}())))},Re=r(258),Fe=r.n(Re),Ne=r(172),Se=r.n(Ne),ke=r(530),_e=r(529),xe=r(532);function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Le=function(e){Object(i.a)(r,e);var t=Pe(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={nameValue:e.props.props.user.name,experienceValue:e.props.props.user.experience,ratingValue:e.props.props.user.rating,locationValue:e.props.props.user.location,carValue:e.props.props.user.car,userCompanies:e.props.currentUser.companies,companiesValue:[],options:[],selectedFile:[]},e.handleCheckBox=function(t){e.state.userCompanies&&e.state.allCompanies&&e.state.allCompanies.map(function(t){return e.state.userCompanies.find(t)})},e.fileUploadHandler=function(t){if(t.preventDefault(),e.state.selectedFile){var r=new FormData;r.append("image",e.state.selectedFile,e.state.selectedFile.name),Se.a.post(C+e.props.currentUser.id+"/imageupload",r).then(function(t){e.props.fetchCurrentUser(t.data)})}},e.fileSelectedHandler=function(t){if(e.setState({selectedFile:t.target.files[0]}),t.target.files[0]){var r=new FormData;r.append("image",t.target.files[0],t.target.files[0].name),Se.a.post(C+e.props.currentUser.id+"/imageupload",r).then(function(t){e.props.fetchCurrentUser(t.data)})}},e.onChange=function(t,r){var n=e.state.options;t.target.checked?n.push(r):n.pop(r),e.setState({options:n})},e.renderCheckBoxes=function(){if(e.props.companiesValue){var t=e.state.options.map(function(e){return e.id});return e.props.companiesValue.map(function(r,n){return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,r.name,a.a.createElement(xe.a,{label:r.name,checked:t.includes(r.id),onChange:function(t){return e.onChange(t,r)}})))})}},e.handleEditFormChange=function(t){var r=t.target.value,n=t.target.name;e.setState(Object(ge.a)({},n,r))},e.renderEditModal=function(){if(e.props.state.modal)return a.a.createElement("div",null,a.a.createElement(Fe.a,{id:"editmodal",isOpen:e.props.state.modal,onAfterOpen:e.props.handleAfterOpen,onRequestClose:e.props.handleAfterClose,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,ariaHideApp:!1,data:{background:"green"},contentLabel:"example modal"},a.a.createElement("br",null),a.a.createElement(ke.a,null,a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-4"},a.a.createElement("div",{className:"control"},a.a.createElement("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:e.fileSelectedHandler}),a.a.createElement("label",{for:"file",className:"btn-2"},"Upload Profile Picture")),a.a.createElement("br",null),a.a.createElement(ke.a.Field,null,a.a.createElement("label",null,a.a.createElement("h4",null,"Companies:")),a.a.createElement("br",null),e.renderCheckBoxes())),a.a.createElement("div",{className:"col-8"},a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"nameValue",label:"Name",value:e.state.nameValue,onChange:function(t){return e.handleEditFormChange(t)},style:{width:"50%"}})),a.a.createElement("br",null),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"experienceValue",type:"number",label:"Experience",value:e.state.experienceValue,onChange:function(t){return e.handleEditFormChange(t)},style:{width:"50%"}})),a.a.createElement("br",null),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"ratingValue",type:"number",label:"Rating",value:e.state.ratingValue,onChange:function(t){return e.handleEditFormChange(t)},style:{width:"50%"}})),a.a.createElement("br",null),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"carValue",type:"text",label:"Car",value:e.state.carValue,onChange:function(t){return e.handleEditFormChange(t)},style:{width:"50%"}})),a.a.createElement("br",null),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"locationValue",type:"text",label:"Base Location",value:e.state.locationValue,onChange:function(t){return e.handleEditFormChange(t)},style:{width:"50%"}})),a.a.createElement("br",null))),a.a.createElement("button",{className:"btn-primary savebutton",type:"submit",onClick:function(t,r){return e.props.handleSubmit(t,e.state)}},"Save"))))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.setState({nameValue:this.props.currentUser.name,experienceValue:this.props.currentUser.experience,ratingValue:this.props.currentUser.rating,locationValue:this.props.currentUser.location,carValue:this.props.currentUser.car,companiesValue:this.props.companiesValue,allCompanies:this.props.companiesValue,userCompanies:this.props.currentUser.companies})}},{key:"render",value:function(){return a.a.createElement(n.Fragment,null,this.renderEditModal())}}]),r}(a.a.Component),Ae=Object(f.b)(null,function(e){return{fetchCurrentUser:function(t){return e(K(t))}}})(Le),Te=r(536),Me=(r(160),r(94));function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var De=function(e){Object(i.a)(r,e);var t=Be(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).getProfileLink=function(){return e.props.currentUser&&e.props.follower.id===e.props.currentUser.id?"/profile":"/user/".concat(e.props.follower.id)},e.renderFollowCard=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"follower-card",onClick:function(t,r){return e.props.handleUserClick(t,e.props.follower)}},a.a.createElement(b.b,{to:e.getProfileLink()},a.a.createElement(Me.FlippingCard,{style:{height:"100%",width:"100%"}},a.a.createElement(Me.FlippingCardFront,null,a.a.createElement("div",{style:{width:"100%",height:"100%",backgroundSize:"contain",backgroundPosition:"center"}},a.a.createElement(Me.UserCard,{float:!0,header:"https://loremflickr.com/320/240/car",avatar:"https://ptetutorials.com/images/user-profile.png",name:e.props.follower.name,positionName:e.props.follower.car,stats:[{name:"Car",value:e.props.follower.car}]}))),a.a.createElement(Me.FlippingCardBack,null,a.a.createElement("div",{style:{width:"100%",height:"100%",backgroundSize:"contain",backgroundPosition:"center"}},a.a.createElement(Me.ProductCard,{photos:[e.props.follower.image_url],price:e.props.follower.ratingValue,productName:e.props.follower.name,description:"Click to View Profile",rating:e.props.follower.ratingValue})))))))},e.renderCard=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Te.a,{className:"card mb-4 border-0",id:"following-card"},a.a.createElement(Te.a.Img,{variant:"top",className:"followercardimg",src:e.props.follower.image_url}),a.a.createElement(Te.a.Body,null,a.a.createElement(Te.a.Title,null,"Name: ",e.props.follower.name),a.a.createElement(Te.a.Text,null,"I drive a: ",e.props.follower.car),a.a.createElement("div",{onClick:function(t,r){return e.props.handleUserClick(t,e.props.follower)}},a.a.createElement(b.b,{to:"/user/".concat(e.props.follower.id)},a.a.createElement(ve.a,{type:"button",className:"btn btn-primary"},"Check out my profile!"))))))},e}return Object(c.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"card-container"},this.renderFollowCard())}}]),r}(a.a.Component);var Ve=Object(f.b)(function(e){return{currentUser:e.user.currentUser}})(De);function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var He=function(e){Object(i.a)(r,e);var t=Ie(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleUserClick=function(t,r){return a.a.createElement(Ye,Object.assign({},e.props,{user:e.props.user}))},e.followerCards=function(){if(e.props.followers)return e.props.followers.map(function(t,r){return a.a.createElement("div",{key:r,className:"card-rows"},a.a.createElement(Ve,{handleUserClick:e.handleUserClick,key:r,follower:t}))})},e}return Object(c.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"card-group col-12"},this.followerCards())}}]),r}(n.Component);var We=Object(f.b)(function(e){return{currentUser:e.user.currentUser}})(He),ze=function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"authBox"},a.a.createElement("h1",{className:"headerText"},"Must be Logged in To View"),a.a.createElement("br",null),a.a.createElement(b.b,{to:"/login",id:"authbutton",color:"teal"},"Click here to navigate to the login page")))},Ge=r(177);function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var qe=function(e){var t=e.progress;return a.a.createElement("span",{className:"progress-bar"},a.a.createElement("span",{className:"progress-bar__inner",style:{transform:"scaleX(".concat(t,")")}}))},Xe=function(e){Object(i.a)(r,e);var t=Je(r);function r(e){var o;return Object(s.a)(this,r),(o=t.call(this,e)).handleEdit=function(e){o.setState({modal:!0})},o.handleAfterOpen=function(){},o.handleAfterClose=function(){o.setState({modal:!1})},o.handleSubmit=function(e,t){e.preventDefault(),o.patchEditProfile(e,t),o.setState({modal:!1})},o.handleDelete=function(e){},o.handleForumClick=function(e){o.setState({clickedForum:e.target.id}),o.setState({openChat:!0})},o.renderModal=function(){if(o.props.user)return a.a.createElement(Ae,{state:o.state,props:o.props,companiesValue:o.props.allCompanies,currentUser:o.props.currentUser,handleAfterOpen:o.handleAfterOpen,handleAfterClose:o.handleAfterClose,handleEditFormChange:o.handleEditFormChange,handleSubmit:o.handleSubmit})},o.patchEditProfile=function(e,t){e.preventDefault(),o.props.currentUser&&(t.id=o.props.currentUser.id,fetch("".concat(C,"/").concat(o.props.currentUser.id),{headers:{accepts:"application/json","content-type":"application/json"},method:"PATCH",body:JSON.stringify({id:t.id,name:t.nameValue,experience:t.experienceValue,car:t.carValue,companies:t.options,location:t.locationValue,rating:t.ratingValue})}).then(function(e){return e.json()}).then(function(e){o.setState({modal:!1},o.props.fetchCurrentUser(e.user))}))},o.handleFollow=function(){o.props.postNewFriendship(o.props.currentUser,o.props.user),Object.assign({},o.props.currentUser).following.includes(o.props.user)||o.setState(function(e){return{isFollowing:!e.isFollowing}})},o.handleUnFollow=function(){o.props.fetchFriendships(),o.props.unfollow(o.props.currentUser,o.props.user,o.props.friendships),o.setState(function(e){return{isFollowing:!e.isFollowing}})},o.renderProfileCard=function(){if(o.state.user)return a.a.createElement(be,{user:o.state.user,companies:o.state.user.companies})},o.renderEditButton=function(){return o.props.user===o.props.currentUser?a.a.createElement("div",null,a.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#exampleModalCenter",id:"edit-profile",onClick:o.handleEdit}," Edit Profile ")):a.a.createElement(a.a.Fragment,null,o.renderFollowButton())},o.renderFollowButton=function(){return!1===o.state.isFollowing?a.a.createElement(a.a.Fragment,null,a.a.createElement(ve.a,{className:"btn btn-primary",id:"follow-user",onClick:function(){return o.handleFollow()}}," Follow this user ")):o.state.isFollowing?a.a.createElement(a.a.Fragment,null,a.a.createElement(ve.a,{className:"btn btn-primary",id:"follow-user",onClick:function(){return o.handleUnFollow()}}," Unfollow this user ")):void 0},o.renderUserRides=function(){return a.a.createElement(a.a.Fragment,null,o.props.userProfile?a.a.createElement(Oe,{displayAddRide:o.displayAddRide,rides:o.props.userProfile.rides}):null)},o.renderUserForums=function(){return a.a.createElement(a.a.Fragment,null,o.state.user.forums?a.a.createElement(je,{forums:o.state.user.forums,handleForumClick:o.handleForumClick}):a.a.createElement("div",null,a.a.createElement("table",{className:"table table-striped"},a.a.createElement("thead",{className:"thead-dark"},a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Num"),a.a.createElement("th",{scope:"col"},"Forum Topics"))),a.a.createElement("tbody",null))))},o.handleAddRideChange=function(e){o.setState({ride:Object(Ee.a)({},o.state.ride,Object(ge.a)({},e.target.name,e.target.value))})},o.handleAddRide=function(e){o.state.ride.company_id&&o.state.ride.user_id&&o.state.ride.distance&&o.state.ride.price&&o.state.ride.start_location&&o.state.ride.end_location&&o.state.ride.started_at&&o.state.ride.end_at?(o.state.ride.company_id=parseInt(o.state.ride.company_id),o.props.postNewRide(o.state.ride),o.setState({ride:Object(Ee.a)({},o.state.ride,{distance:"",price:"",start_location:"",end_location:"",started_at:"",end_at:""})})):alert("Please enter all fields before adding a new ride!")},o.renderAllCompanySelect=function(){if(o.props.allCompanies)return o.props.allCompanies.map(function(e,t){return a.a.createElement("option",{key:t,value:e.id}," ",e.name," ")})},o.displayAddRide=function(){if(o.props.user===o.props.currentUser)return a.a.createElement(a.a.Fragment,null,a.a.createElement(n.Fragment,null,a.a.createElement("tr",null,a.a.createElement("td",{colspan:"7"},a.a.createElement("button",{className:"btn btn-primary",id:"addridebutton",onClick:o.handleAddRide},"Add Ride"))),a.a.createElement("tr",null,a.a.createElement("th",{scope:"row"},a.a.createElement("select",{className:"addrideinput",value:o.state.ride.company_id,name:"company_id",onChange:o.handleAddRideChange},o.renderAllCompanySelect())),a.a.createElement("td",null,a.a.createElement("input",{className:"addrideinput",type:"number",name:"distance",placeholder:"Distance",value:o.state.ride.distance,onChange:o.handleAddRideChange})),a.a.createElement("td",null,a.a.createElement("input",{className:"addrideinput",type:"datetime-local",name:"started_at",value:o.state.ride.started_at,onChange:o.handleAddRideChange})),a.a.createElement("td",null,a.a.createElement("input",{className:"addrideinput",type:"datetime-local",name:"end_at",value:o.state.ride.end_at,onChange:o.handleAddRideChange})),a.a.createElement("td",null,a.a.createElement("input",{className:"addrideinput",type:"number",placeholder:"Price",name:"price",value:o.state.ride.price,onChange:o.handleAddRideChange})),a.a.createElement("td",null,a.a.createElement("input",{className:"addrideinput",type:"text",name:"start_location",placeholder:"Starting Location",value:o.state.ride.start_location,onChange:o.handleAddRideChange})),a.a.createElement("td",null,a.a.createElement("input",{className:"addrideinput",type:"text",name:"end_location",placeholder:"Ending Location",value:o.state.ride.end_location,onChange:o.handleAddRideChange})))))},o.renderFollowerFollowingBox=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"col",id:"profile-following"},o.props.userProfile?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ge.a,{duration:800,collapsed:!0,whenReversedUseBackwardEase:!0,render:function(e){var t=e.toggle,r=e.progress,n=e.setCollapsibleElement;e.range,e.toggleState;return a.a.createElement("div",{className:"slide-toggle"},a.a.createElement("div",{className:"slide-toggle__header"},a.a.createElement("button",{id:"followingbutton",className:"slide-toggle__toggle",onClick:t},o.props.userProfile.following.length," Following"),a.a.createElement(qe,{progress:r})),a.a.createElement("div",{className:"slide-toggle__box",ref:n},a.a.createElement("div",{className:"slide-toggle__box-inner"},a.a.createElement(We,{followers:o.props.userProfile.following}),a.a.createElement("button",{id:"followingbutton",onClick:t},"Hide Following"))))}})):null,o.props.userProfile?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ge.a,{duration:800,collapsed:!0,whenReversedUseBackwardEase:!0,render:function(e){var t=e.toggle,r=e.progress,n=e.setCollapsibleElement;e.range,e.toggleState;return a.a.createElement("div",{className:"slide-toggle"},a.a.createElement("div",{className:"slide-toggle__header"},a.a.createElement("button",{id:"followingbutton",className:"slide-toggle__toggle",onClick:t},o.props.userProfile.followers.length," Followers"),a.a.createElement(qe,{progress:r})),a.a.createElement("div",{className:"slide-toggle__box",ref:n},a.a.createElement("div",{className:"slide-toggle__box-inner"},a.a.createElement(We,{followers:o.props.userProfile.followers}),a.a.createElement("button",{id:"followingbutton",onClick:t},"Hide Followers"))))}})):null))},o.renderPage=function(){return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"container col-12"},a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col justify-content-center",id:"profile-card-container"},o.renderProfileCard(),o.renderEditButton(),o.renderModal()),a.a.createElement("div",{className:"col-10",id:"profile-rides-list"},o.renderUserForums(),o.renderUserRides())),o.renderFollowerFollowingBox()))},o.state={modal:!1,user:o.props.user,editedUser:o.props.user,clickedForum:null,openChat:!1,isCurrentUserProfile:null,isFollowing:null,currentUser:o.props.currentUser,ride:{started_at:"",end_at:"",price:"",distance:"",start_location:"",end_location:"",user_id:o.props.currentUser.id,company_id:21}},o}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchCompanies(),this.props.fetchFriendships()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.user===e.currentUser)this.setState({isCurrentUserProfile:!0,user:e.currentUser});else{var t=null;e.currentUser.following&&(t=e.currentUser.following),t.find(function(t){return t.id===e.user.id})?this.setState({isCurrentUserProfile:e.isCurrentUserProfile,user:e.user,isFollowing:!0}):this.setState({isCurrentUserProfile:e.isCurrentUserProfile,user:e.user,isFollowing:!1})}}},{key:"render",value:function(){return a.a.createElement("div",{className:"profilepage"},this.props.currentUser?this.renderPage():a.a.createElement(ze,null))}}]),r}(a.a.Component);var Ye=Object(f.b)(function(e){var t=e.user,r=e.forums;return{allCompanies:t.allCompanies,rides:t.rides,forums:r.forums[0],allForums:t.forums,users:t.users,currentUser:t.currentUser,following:t.following,friendships:t.friendships,userProfile:t.userProfile}},function(e){return{fetchUser:function(t){return e(Z(t))},fetchCompanies:function(){return e(ee())},patchEditProfile:function(t){return e((r=t,function(e){var t=this.state.currentUser.id;fetch("".concat(C,"/").concat(t),{headers:{accepts:"application/json","content-type":"application/json"},method:"PATCH",body:JSON.stringify({name:r.nameValue,experience:r.experienceValue,car:r.carValue,companies:r.companiesValue,location:r.locationValue,rating:r.ratingValue})}).then(pe).then(function(t){e(Q())})}));var r},postNewFriendship:function(t,r){return e(ce(t,r))},unfollow:function(t,r,n){return e(ie(t,r,n))},fetchCurrentUser:function(t){return e(K(t))},fetchFriendships:function(){return e(oe())},fetchFollowing:function(t){return e(ae(t))},postNewRide:function(t){return e(le(t))}}})(Xe);function $e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ke=function(e){Object(i.a)(r,e);var t=$e(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return this.props.getUser?a.a.createElement("div",{onClick:function(t){return e.props.handleClick(t,e.props.getUser)},name:this.props.superlative},a.a.createElement(b.b,{to:"/user/".concat(this.props.getUser.id)},a.a.createElement("div",{className:this.props.design},a.a.createElement("h3",{className:"pull-right"},a.a.createElement("i",{className:this.props.icon}," ")),a.a.createElement("h4",{className:"list-group-item-heading count"},this.props.title,this.props.getUser.name),a.a.createElement("p",{className:"list-group-item-text"},this.props.getStat?this.props.getStat(this.props.getUser):null,"rating"===this.props.superlative?this.props.getUser.rating:null,"experience"===this.props.superlative?this.props.getUser.experience:null)))):a.a.createElement("h4",null,"YOU ARE NOT LOGGED IN")}}]),r}(a.a.Component);function Qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Ze=function(e){Object(i.a)(r,e);var t=Qe(r);function r(e){var o;return Object(s.a)(this,r),(o=t.call(this,e)).getTotalMiles=function(e){var t=0;if(e.rides)return e.rides.map(function(e){return t+=e.distance}),t},o.getTotalEarned=function(e){var t=0;if(e.rides)return e.rides.map(function(e){return t+=e.price}),t},o.getTotalTimeDriving=function(e){var t=0;if(e.rides)return e.rides.map(function(e){var r=e.end_at-e.started_at;return t+=r}),t},o.getMileLeader=function(e){var t=Object(he.a)(e);if(t!==[])return t.sort(function(e,t){return o.getTotalMiles(e)-o.getTotalMiles(t)}),t.reverse()[0]},o.getRatingLeader=function(e){var t=Object(he.a)(e);return t!==[]&&t.sort(function(e,t){return e.rating-t.rating}),t.reverse()[0]},o.getExperienceLeader=function(e){var t=Object(he.a)(e);return t!==[]&&t.sort(function(e,t){return e.experience-t.experience}),t.reverse()[0]},o.getTimeLeader=function(e){if(e!==[])return e.sort(function(e,t){return o.getTimeLeader(e)-o.getTimeLeader(t)})},o.getEarnerLeader=function(e){var t=Object(he.a)(e);if(t!==[])return t.sort(function(e,t){return o.getTotalEarned(e)-o.getTotalEarned(t)}),t.reverse()[0]},o.renderUserTotals=function(){if(o.props.leaders)return o.props.leaders.map(function(e,t){return a.a.createElement("div",{key:t},a.a.createElement("h1",null,"User:",e.name),a.a.createElement("p",null,"Miles: ",o.getTotalMiles(e)),a.a.createElement("p",null,"Total Earned:",o.getTotalEarned(e)),a.a.createElement("p",null,"Total Time:",o.getTotalTimeDriving(e)))})},o.handleUserClick=function(e,t){return!t===o.props.currentUser?a.a.createElement(Ye,{user:t,rides:o.props.rides,forum:o.props.forums,isCurrentUserProfile:!1,currentUser:o.props.currentUser,allCompanies:o.props.allCompanies}):a.a.createElement(Ye,{user:t,rides:o.props.rides,forum:o.props.forums,isCurrentUserProfile:!0,currentUser:o.props.currentUser,allCompanies:o.props.allCompanies})},o.renderLeaderBoard=function(){if(o.props.leaders)return a.a.createElement(n.Fragment,null,a.a.createElement("div",{id:"leaderboard col-12"},a.a.createElement("div",{className:"list-group"},a.a.createElement(Ke,{title:"Highest Rating: ",design:"list-group-item google-plus",icon:"icon glyphicon glyphicon-star",getUser:o.getRatingLeader(o.props.leaders),handleClick:o.handleUserClick,superlative:"rating"}),a.a.createElement(Ke,{title:"Most Miles: ",design:"list-group-item twitter",icon:"icon glyphicon glyphicon-road",getUser:o.getMileLeader(o.props.leaders),handleClick:o.handleUserClick,getStat:o.getTotalMiles}),a.a.createElement(Ke,{title:"Highest Earner: ",design:"list-group-item youtube",icon:"icon glyphicon glyphicon-usd",getUser:o.getEarnerLeader(o.props.leaders),handleClick:o.handleUserClick,superlative:"money",getStat:o.getTotalEarned}),a.a.createElement(Ke,{title:"Most Experience: ",design:"list-group-item tumblr",icon:"icon glyphicon glyphicon-hourglass",getUser:o.getExperienceLeader(o.props.leaders),handleClick:o.handleUserClick,superlative:"experience"}))))},o.state={mostMiles:"",mostRating:"",mostEarned:"",mostTime:"",mostExperience:""},o}return Object(c.a)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.getRatingLeader(e.leaders),r=this.getMileLeader(e.leaders),n=this.getEarnerLeader(e.leaders),a=this.getExperienceLeader(e.leaders);this.setState({mostMiles:r,mostRating:t,mostEarned:n,mostExperience:a})}},{key:"render",value:function(){return a.a.createElement("div",null,this.renderLeaderBoard())}}]),r}(a.a.Component);var et=Object(f.b)(function(e){var t=e.user,r=e.rides.rides;return{allCompanies:t.allCompanies,rides:r[0],users:t.users[2],currentUser:t.currentUser}},function(e){return{fetchRides:function(){return e(te())},fetchUsers:function(){return e(Q())}}})(Ze);function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var rt=function(e){Object(i.a)(r,e);var t=tt(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={allRides:e.props.rides,filteredRides:e.props.rides,users:[],textInput:""},e.returnDropdown=function(){return a.a.createElement("div",{className:""},a.a.createElement("form",{action:"/action_page.php"},a.a.createElement("select",{name:"cars",onChange:e.handleSortSubmit},a.a.createElement("option",{value:"recent"},"Most Recent"),a.a.createElement("option",{value:"price"},"Price"),a.a.createElement("option",{value:"distance"},"Distance")),a.a.createElement("select",{name:"cars",onChange:e.handleFilterSubmit},a.a.createElement("option",{value:"all"},"All"),a.a.createElement("option",{value:"uber"},"Uber"),a.a.createElement("option",{value:"lyft"},"Lyft")),a.a.createElement("input",{type:"text",onChange:e.handleSearch,value:e.state.textInput,placeholder:"Search by location"}),a.a.createElement("form",{action:"/action_page.php"},a.a.createElement("input",{type:"radio",name:"gender",value:"friends",onChange:function(t){return e.handleFriendFilter(t)}})," Friends",a.a.createElement("input",{type:"radio",name:"gender",value:"all",onChange:e.handleChangeBack})," All")))},e.handleChangeBack=function(){e.setState({filteredRides:e.state.allRides})},e.handleFriendFilter=function(t){if(e.props.currentUser){t.preventDefault();var r=e.props.currentUser.followers.map(function(e){return e.id}),n=[];e.state.allRides.map(function(e){for(var t=0;t<r.length;t++)if(e.user_id===r[t])return n.push(e)}),e.setState({filteredRides:n})}},e.handleSearch=function(t){e.setState({textInput:t.target.value});var r=e.state.allRides.filter(function(e){return e.start_location.toLowerCase().includes(t.target.value.toLowerCase())||e.end_location.toLowerCase().includes(t.target.value.toLowerCase())});e.setState({filteredRides:r})},e.handleSortSubmit=function(t){if(t.preventDefault(),"distance"===t.target.value){var r=e.state.filteredRides.sort(function(e,t){return e.distance<t.distance?1:-1});e.setState({filteredRides:r})}else if("price"===t.target.value){var n=e.state.filteredRides.sort(function(e,t){return e.price<t.price?1:-1});e.setState({filteredRides:n})}else if("recent"===t.target.value){var a=e.state.filteredRides.sort(function(e,t){return e.end_at>t.end_at?1:-1});e.setState({filteredRides:a})}},e.handleFilterSubmit=function(t){if(t.preventDefault(),"all"===t.target.value)e.setState({filteredRides:e.state.allRides});else if("uber"===t.target.value){var r=e.state.allRides.filter(function(e){return 1===e.company_id});e.setState({filteredRides:r})}else if("lyft"===t.target.value){var n=e.state.allRides.filter(function(e){return 2===e.company_id});e.setState({filteredRides:n})}},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchRides(),this.props.fetchUsers()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.setState({users:this.props.users,allRides:this.props.rides,filteredRides:this.props.rides})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container col-11",id:"rides-page"},this.props.users?a.a.createElement(et,{leaders:this.props.users,allUsers:this.props.users,user:this.props.currentUser,forum:this.props.forums,rides:this.props.rides,allCompanies:this.props.allCompanies}):a.a.createElement("h4",null,"LOADING"),a.a.createElement(Oe,{rides:this.state.filteredRides,displayDropdown:this.returnDropdown})))}}]),r}(a.a.Component);var nt=Object(f.b)(function(e){var t=e.user,r=e.rides.rides,n=e.forums.forums;return{allCompanies:t.allCompanies,rides:r,forums:t.forums,allForums:n[0],users:t.users,currentUser:t.currentUser}},function(e){return{fetchRides:function(){return e(te())},fetchUsers:function(){return e(Q())}}})(rt),at=r(138),ot=r(535);function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var st=function(e){Object(i.a)(r,e);var t=lt(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:""},e.handleChange=function(t){e.setState(Object(ge.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){e.props.userLoginFetch(e.state)},e}return Object(c.a)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentUser&&this.props.history.push("/profile")}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"authBox"},a.a.createElement(at.d,null,a.a.createElement(at.i,null,a.a.createElement(at.c,null,a.a.createElement(ke.a,{onSubmit:this.handleSubmit},a.a.createElement("h1",null,"Sign in"),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"username",label:"Username",value:this.state.username,onChange:this.handleChange,style:{width:"50%"}})),a.a.createElement("br",null),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{type:"password",name:"password",label:"Password",value:this.state.password,onChange:this.handleChange,style:{width:"50%"}})),a.a.createElement("div",{className:"col text-center mt-4"},a.a.createElement(ot.a,{styel:{width:"60%"},id:"authbutton",color:"teal",className:"btn btn-primary",type:"submit"},"Login"),a.a.createElement(b.b,{to:"/signup",id:"authbutton",className:"btn btn-primary",color:"teal"},"Sign Up"))),a.a.createElement("div",{className:"text-center mt-4"},a.a.createElement("p",{className:"h5 text-center mb-4"},"  ")))))))}}]),r}(a.a.Component);var ct=Object(f.b)(function(e){return{currentUser:e.user.currentUser}},function(e){return{userLoginFetch:function(t){return e((r=t,function(e){fetch(R,{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(t){t.errors?alert(t.errors):(localStorage.setItem("jwt",t.jwt),e($(t.user)))})}));var r}}})(st),it=r(282),ut=r(278),pt=function(e){var t,r;switch(e.score){case 1:t="red",r="20%";break;case 2:t="orange",r="40%";break;case 3:t="yellow",r="60%";break;case 4:t="#5cff47",r="80%";break;case 5:t="green",r="100%"}var n={backgroundColor:t,height:"5px",width:r,transition:"all 300ms ease-in-out"};return a.a.createElement("div",null,a.a.createElement("p",{className:"pwStrWeak"},"weak"),a.a.createElement("p",{className:"pwStrStrong"},"strong"),a.a.createElement("div",{style:n}))};function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var ft=r(478),mt=function(e){Object(i.a)(r,e);var t=dt(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={name:"",username:"",password:"",passwordConfirmation:"",btnTxt:"show",type:"password",score:"0",errors:{}},e.handleChange=function(t){e.setState(Object(ge.a)({},t.target.name,t.target.value))},e.pwHandleChange=function(t){if(e.setState({password:t.target.value}),""===t.target.value)e.setState(function(e){return Object.assign({},e,{score:"null"})});else{var r=ft(t.target.value);e.setState(function(e){return Object.assign({},e,{score:r.score+1})})}},e.handleSubmit=function(){e.state.password===e.state.passwordConfirmation?e.props.createUser(e.state):alert("Passwords don't match!")},e.pwMask=function(t){t.preventDefault(),e.setState(function(t){return Object.assign({},t,{type:"password"===e.state.type?"input":"password",btnTxt:"show"===e.state.btnTxt?"hide":"show"})})},e}return Object(c.a)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentUser&&this.props.history.push("/profile")}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"authBox"},a.a.createElement("h1",null,"Sign Up"),a.a.createElement(ke.a,{className:"col",onSubmit:this.handleSubmit},a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"username",label:"Username",value:this.state.username,onChange:this.handleChange,style:{width:"50%"}})),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{name:"name",label:"Name",value:this.state.name,onChange:this.handleChange,style:{width:"50%"}})),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{type:this.state.type,name:"password",label:"Password",value:this.state.password,onChange:this.pwHandleChange,errorText:this.state.errors.password,style:{width:"50%"}})),a.a.createElement(it.a,{id:"pwShowHideBtn",onClick:this.pwMask,icon:ut.a}),a.a.createElement("div",{className:"pwStrRow"},this.state.score>=1?a.a.createElement("div",null,a.a.createElement(pt,{score:this.state.score})):null),a.a.createElement(ke.a.Field,null,a.a.createElement(_e.a,{type:this.state.type,name:"passwordConfirmation",label:"Confirm Pssword",value:this.state.passwordConfirmation,onChange:this.handleChange,errorText:this.state.errors.pwconfirm,style:{width:"50%"}})),a.a.createElement("br",null),a.a.createElement(ke.a.Field,null,a.a.createElement(ot.a,{className:"btn btn-primary",color:"teal",style:{width:"60%"},type:"submit"},"Submit"))),a.a.createElement("br",null),a.a.createElement("p",null," Aleady have an account? ",a.a.createElement("br",null),a.a.createElement(b.b,{to:"/login"},"Login Here!"))))}}]),r}(a.a.Component);var ht=Object(f.b)(function(e){return{currentUser:e.user.currentUser}},function(e){return{createUser:function(t){return e((r=t,function(e){fetch(C,{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(t){t.error?alert(t.error):(localStorage.setItem("jwt",t.jwt),e($(t.user)))})}));var r}}})(mt);function gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Et=function(e){Object(i.a)(r,e);var t=gt(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).renderMessages=function(e){if(n.props.users)return e.map(function(e,t){var r=n.props.users.find(function(t){return t.id===e.user_id}).name;return a.a.createElement("div",{key:t,className:"incoming_msg"},a.a.createElement("div",{className:"incoming_msg_img"}," ",a.a.createElement("img",{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"})," "),a.a.createElement("div",{className:"received_msg"},a.a.createElement("div",{className:"received_withd_msg"},a.a.createElement("p",null,e.content),a.a.createElement("span",{className:"time_date"},"  ",r||"NotFound","   |  ",e.created_at,"  "))))})},n.handleClose=function(){n.props.resetMessages(),n.props.closeChat()},n.handleInput=function(e){n.setState({formInput:e.target.value})},n.handleMessageSubmit=function(){n.props.postNewMessage(n.props.currentUser,n.state.formInput,n.state.currentChat),n.setState({formInput:""})},n.addNewMessage=function(e){var t=[].concat(Object(he.a)(n.state.messages),[e]);n.setState({messages:t,formInput:""})},n.state={formInput:"",currentUser:n.props.currentUser,currentChat:n.props.currentChat,messages:[]},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchUsers(),this.setState({messages:this.props.messages})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({messages:e.messages})}},{key:"render",value:function(){var e=this;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{id:"chatbox"},a.a.createElement("h3",{className:" text-center"},this.props.currentChat?this.props.currentChat.topic:null," Messaging"),a.a.createElement("div",{className:"messaging"},a.a.createElement("div",{className:"inbox_msg"},a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e.handleClose()}},"Close Chat"),a.a.createElement("div",{className:"headind_srch"})),a.a.createElement("div",{className:"mesgs"},a.a.createElement("div",{className:"msg_history"},this.renderMessages(this.props.messages)),a.a.createElement("div",{className:"type_msg"},a.a.createElement("div",{className:"input_msg_write"},a.a.createElement("input",{type:"text",className:"write_msg",placeholder:"Type a message",value:this.state.formInput,onChange:function(t){return e.handleInput(t)}}),a.a.createElement("button",{className:"msg_send_btn",type:"button",onClick:function(){return e.handleMessageSubmit()}},a.a.createElement("i",{className:"fa fa-paper-plane-o","aria-hidden":"true"}),"Send!"))))),a.a.createElement("p",{className:"text-center top_spac"}," Design by ",a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://brianjmurillo.com"},"Brian Murillo")))))}}]),r}(n.Component);var vt=Object(f.b)(function(e){var t=e.user,r=e.forums;return{users:t.users,messages:r.messages}},function(e){return{fetchUsers:function(){return e(Q())},fetchForumMessages:function(t){return e(re(t))},postNewMessage:function(t,r,n){return e(se(t,r,n))},resetMessages:function(){return e({type:Y,payload:t});var t}}})(Et);function bt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var yt=function(e){Object(i.a)(r,e);var t=bt(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).handleForumClick=function(e,t){var r=n.props.forums.find(function(e){return e.topic===t});r&&n.props.fetchForumMessages(r),n.setState({clickedForum:t,openChat:!0})},n.closeChat=function(){n.setState({openChat:!1})},n.renderPage=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"forum-list"},a.a.createElement("h3",null,"Click on a Forum To Chat"),n.state.openChat?a.a.createElement(vt,{currentUser:n.props.currentUser,closeChat:n.closeChat,currentChat:n.props.forums.find(function(e){return e.topic===n.state.clickedForum})}):a.a.createElement(je,{handleForumClick:n.handleForumClick,forums:n.props.allForums})))},n.state={allForums:null,clickedForum:null,openChat:!1},n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchForums(),this.props.fetchUsers()}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},this.props.currentUser?this.renderPage():a.a.createElement(ze,null))}}]),r}(a.a.Component);var Ct=Object(f.b)(function(e){var t=e.user,r=e.forums.forums;return{allCompanies:t.allCompanies,rides:t.rides,forums:r[0],allForums:r[0],users:t.users,currentUser:t.currentUser}},function(e){return{fetchUsers:function(){return e(Q())},fetchForums:function(){return e(ne())},fetchForumMessages:function(t){return e(re(t))}}})(yt);function Ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var wt=function(e){Object(i.a)(r,e);var t=Ot(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchUsers()}},{key:"renderFriendsBox",value:function(){var e=this;return this.props.currentUser?a.a.createElement(a.a.Fragment,null,a.a.createElement(We,{followers:this.props.users.filter(function(t){return t.id!==e.props.currentUser.id})})):a.a.createElement(a.a.Fragment,null,a.a.createElement(We,{followers:this.props.users}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{id:"discoverpage"},this.props.users?this.renderFriendsBox():a.a.createElement("div",{className:"authBox"},a.a.createElement("h3",null,"Loading.."))))}}]),r}(a.a.Component);var Ut=Object(f.b)(function(e){var t=e.user;return{users:t.users,currentUser:t.currentUser}},function(e){return{fetchUsers:function(){return e(Q())}}})(wt);function jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(p.a)(e);if(t){var a=Object(p.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(u.a)(this,r)}}var Rt=function(e){Object(i.a)(r,e);var t=jt(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).renderUserPage=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{path:"/users/:id",exact:!0,render:function(t){var r=parseInt(t.match.params.id);if(e.props.currentUser&&r!==e.props.currentUser.id){var n=e.props.users.find(function(e){return e.id===r});return a.a.createElement(Ye,Object.assign({},t,{allCompanies:e.props.allCompanies,currentUser:e.props.currentUser,user:n}))}}}))},e.renderPage=function(t){var r=parseInt(t.match.params.id);if(e.props.currentUser){if(r!==e.props.currentUser.id&&e.props.users){var n=e.props.users.find(function(e){return e.id===r});return e.props.fetchUser(n),a.a.createElement(Ye,Object.assign({},t,{allCompanies:e.props.allCompanies,isCurrentUserProfile:!1,currentUser:e.props.currentUser,user:n}))}}else if(e.props.users)return a.a.createElement(ze,null)},e.renderProfileRoute=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d.b,{path:"/users/:id",exact:!0,render:function(t){var r=parseInt(t.match.params.id);if(e.props.currentUser){if(r!==e.props.currentUser.id){var n=e.props.users.find(function(e){return e.id===r});return a.a.createElement(Ye,Object.assign({},t,{allCompanies:e.props.allCompanies,currentUser:e.props.currentUser,user:n}))}return a.a.createElement(Ye,Object.assign({},t,{allCompanies:e.props.allCompanies,currentUser:e.props.currentUser,user:e.props.currentUser}))}}}))},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.props.getProfileFetch(),this.props.fetchRides(),this.props.fetchUsers(),this.props.fetchForums()}},{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,null,a.a.createElement(me,{history:this.props.history,currentUser:this.props.currentUser}),a.a.createElement(m.a.Row,{centered:!0},a.a.createElement(d.d,null,a.a.createElement(d.b,{path:"/login",render:function(t){return a.a.createElement(ct,Object.assign({},t,{setCurrentUser:e.props.setCurrentUser}))}}),a.a.createElement(d.b,{path:"/profile",render:function(t){return e.props.currentUser?(e.props.fetchUser(e.props.currentUser),a.a.createElement(Ye,Object.assign({},t,{allCompanies:e.props.allCompanies,isCurrentUserProfile:!1,currentUser:e.props.currentUser,user:e.props.currentUser}))):a.a.createElement(d.b,{path:"/"})}}),a.a.createElement(d.b,{path:"/user/:id",render:function(t){return e.renderPage(t)}}),a.a.createElement(d.b,{path:"/discover",component:Ut}),a.a.createElement(d.b,{path:"/forums",component:Ct}),a.a.createElement(d.b,{path:"/rides",component:nt}),a.a.createElement(d.b,{path:"/signup",render:function(t){return a.a.createElement(ht,Object.assign({},t,{setCurrentUser:e.props.setCurrentUser}))}}),this.props.currentUser?a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{from:"/user/"+this.props.currentUser.id,to:"/profile"}),a.a.createElement(d.a,{from:"*",to:"/profile"})):a.a.createElement(d.a,{from:"*",to:"/login"})))))}}]),r}(a.a.Component);var Ft=Object(f.b)(function(e){var t=e.user,r=e.rides.rides,n=e.forums.forums;return{allCompanies:t.allCompanies,rides:r,forums:n[0],allForums:n[0],users:t.users,currentUser:t.currentUser}},function(e){return{getProfileFetch:function(){return e(function(e){var t=localStorage.getItem("jwt");t&&fetch(F,{headers:{Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).then(function(t){t.errors?(alert(t.errors),localStorage.removeItem("jwt")):e($(t))})})},setLogout:function(){return e(ue())},fetchRides:function(){return e(te())},fetchForums:function(){return e(ne())},fetchUsers:function(){return e(Q())},fetchCompanies:function(){return e(ee())},fetchUser:function(t){return e(Z(t))}}})(Rt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nt=r(105),St=r(279),kt={users:[],allCompanies:[],forums:[],rides:[],allForums:[],friendships:[],followers:[],following:[],userProfile:null,currentUser:null};var _t={forums:[],messages:[]};var xt={rides:[]};var Pt=Object(Nt.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(Ee.a)({},e,{users:[].concat(Object(he.a)(e.users),[t.payload])});case"RESET":return kt;case V:return Object(Ee.a)({},e,{allCompanies:t.payload});case k:return Object(Ee.a)({},e,{currentUser:t.payload});case D:return Object(Ee.a)({},e,{users:t.payload});case P:return Object(Ee.a)({},e,{currentUser:Object(Ee.a)({},e.currentUser,{followers:[].concat(Object(he.a)(e.currentUser.followers),[t.payload])})});case x:var r=e.currentUser.followers.filter(function(e){return e.id!==t.payload.id});return Object(Ee.a)({},e,{currentUser:Object(Ee.a)({},e.currentUser,{followers:r})});case q:return Object(Ee.a)({},e,{following:t.payload});case L:return Object(Ee.a)({},e,{currentUser:Object(Ee.a)({},e.currentUser,{following:[].concat(Object(he.a)(e.currentUser.following),[t.payload])})});case A:var n=e.currentUser.following.filter(function(e){return e.id!==t.payload.id});return Object(Ee.a)({},e,{currentUser:Object(Ee.a)({},e.currentUser,{following:n})});case _:return Object(Ee.a)({},e,{currentUser:null});case W:return Object(Ee.a)({},e,{userProfile:t.payload});case z:return Object(Ee.a)({},e,{friendships:t.payload});case J:return Object(Ee.a)({},e,{friendships:[].concat(Object(he.a)(e.friendships),[t.payload])});case G:var a=e.friendships.filter(function(e){return e.id!==t.payload.id});return Object(Ee.a)({},e,{friendships:a});default:return e}},rides:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(Ee.a)({},e,{rides:t.payload});case M:return Object(Ee.a)({},e,{rides:[].concat(Object(he.a)(e.rides),[t.payload])});default:return e}},forums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(Ee.a)({},e,{forums:[].concat(Object(he.a)(e.forums),[t.payload])});case X:return Object(Ee.a)({},e,{messages:[].concat(Object(he.a)(e.messages),[t.payload])});case H:return Object(Ee.a)({},e,{messages:t.payload});case Y:return Object(Ee.a)({},e,{messages:[]});default:return e}},routing:St.routerReducer}),Lt=r(280),At=Object(Nt.c)(Pt,Object(Nt.a)(Lt.a));l.a.render(a.a.createElement(f.a,{store:At},a.a.createElement(b.a,null,a.a.createElement(d.b,{path:"/",component:Ft}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[299,1,2]]]);
//# sourceMappingURL=main.e4ab49a7.chunk.js.map