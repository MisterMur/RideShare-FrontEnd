{"version":3,"sources":["Constants.js","Actions.js","Components/Header.js","Components/ProfileCard.js","Components/Ride.js","Components/RideList.js","Components/Forum.js","Components/ForumsList.js","Components/Modal.js","Components/FollowerCard.js","Components/friends-box.js","Components/NotLoggedIn.js","Components/Profile.js","Components/Leader.js","Components/Leaderboard.js","Components/Rides.js","Components/LoginForm.js","Components/PasswordStr.js","Components/SignupForm.js","Components/ChatBox.js","Components/ForumsPage.js","Components/DiscoverPage.js","App.js","serviceWorker.js","Reducers/userReducer.js","Reducers/forumsReducer.js","Reducers/ridesReducer.js","Reducers/index.js","store.js","index.js"],"names":["prodURL","USERURL","COMPANYURL","RIDEURL","FRIENDSHIPURL","FORUMSURL","LOGINURL","AUTOLOGINURL","MESSAGEURL","ADD_USER","LOGIN_USER","LOGOUT_USER","REMOVE_FOLLOWER","ADD_FOLLOWER","ADD_FOLLOWING","REMOVE_FOLLOWING","FETCH_ALL_RIDES","ADD_RIDE","FETCH_ALL_FORUMS","FETCH_ALL_USERS","FETCH_ALL_COMPANIES","FETCH_CURRENT_USER","FETCH_ALL_FORUM_MESSAGES","SET_USER","FETCH_ALL_FRIENDSHIPS","REMOVE_FRIENDSHIP","ADD_FRIENDSHIP","SET_ALL_FOLLOWING","ADD_FORUM_MESSAGE","RESET_MESSAGES","setLoggedInUser","src","type","payload","fetchCurrentUser","user","dispatch","fetch","concat","id","then","res","json","current","fetchUsers","handleErrors","users","fetchUser","resUser","fetchCompanies","companies","fetchRides","rides","fetchForumMessages","forum","f","messages","fetchForums","forums","fetchFollowing","following","fetchFriendships","friendships","postNewRide","ride","method","headers","Content-Type","Accepts","body","JSON","stringify","r","postNewMessage","currentUser","content","user_id","forum_id","mes","postNewFriendship","follower","followed","friendship","follower_id","followed_id","addFriendship","unfollow","find","removeFriendship","setLogout","localStorage","removeItem","response","ok","Error","statusText","Header","_React$Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","closeNav","setState","navExpanded","setNavExpanded","expanded","logout","renderProfileLink","react_default","a","createElement","react_router_dom","to","renderLogout","Fragment","NavItem","onClick","history","push","className","renderLoginSignup","renderNav","Navbar","bg","expand","fixedtop","ref","e","_navbar","onToggle","state","inverse","fluid","Toggle","aria-controls","Collapse","Nav","data-bs-toggle","renderHeader","navHeight","handleResize","bind","assertThisInitialized","inherits","createClass","key","value","arguments","length","undefined","ReactDOM","findDOMNode","offsetHeight","window","addEventListener","removeEventListener","React","Component","connect","ProfileCard","handleHover","image_url","alt","name","onMouseOver","car","experience","rating","map","company","location","Ride","_getPrototypeOf2","_len","args","Array","_key","apply","formatDate","date","year","slice","month","day","hour","min","ampm","parseInt","react","scope","idx","distance","started_at","end_at","price","start_location","end_location","RideList","displayDropdown","displayAddRide","Components_Ride","colspan","Forum","topic","handleForumClick","ForumList","array","filter","i","findIndex","Components_Forum","style","align","justify","renderForum","Modal","nameValue","experienceValue","ratingValue","locationValue","carValue","userCompanies","companiesValue","options","selectedFile","handleCheckBox","allCompanies","c","fileUploadHandler","event","preventDefault","fd","FormData","append","axios","post","data","fileSelectedHandler","target","files","onChange","checked","pop","renderCheckBoxes","companyIds","Checkbox","label","includes","handleEditFormChange","defineProperty","renderEditModal","modal","lib_default","isOpen","onAfterOpen","handleAfterOpen","onRequestClose","handleAfterClose","shouldCloseOnEsc","shouldCloseOnOverlayClick","ariaHideApp","background","contentLabel","Form","for","Field","TextField","width","handleSubmit","u","FollowerCard","getProfileLink","renderFollowCard","handleUserClick","react_ui_cards","height","backgroundSize","backgroundPosition","float","header","avatar","positionName","stats","photos","productName","description","renderCard","Card","Img","variant","Body","Title","Text","Button","FriendsBox","_Component","Components_Profile","assign","followerCards","followers","Components_FollowerCard","NotLoggedIn","color","ProgressBar","_ref","progress","transform","Profile","handleEdit","patchEditProfile","handleDelete","clickedForum","openChat","renderModal","Components_Modal","userData","accepts","content-type","handleFollow","prevState","isFollowing","handleUnFollow","renderProfileCard","Components_ProfileCard","renderEditButton","data-toggle","data-target","renderFollowButton","renderUserRides","userProfile","Components_RideList","renderUserForums","ForumsList","handleAddRideChange","objectSpread","handleAddRide","company_id","alert","renderAllCompanySelect","placeholder","renderFollowerFollowingBox","ReactSlideToggle_esm_es2015","duration","collapsed","whenReversedUseBackwardEase","render","_ref2","toggle","setCollapsibleElement","range","toggleState","Profile_ProgressBar","friends_box","_ref3","renderPage","editedUser","isCurrentUserProfile","newProps","followList","Components_NotLoggedIn","allForums","d","follow","Leader","getUser","handleClick","superlative","design","icon","title","getStat","Leaderboard","getTotalMiles","totalMiles","getTotalEarned","totalEarned","getTotalTimeDriving","totalTime","rideTime","getMileLeader","newUsers","toConsumableArray","sort","usera","userb","reverse","getRatingLeader","getExperienceLeader","getTimeLeader","getEarnerLeader","renderUserTotals","leaders","leader","renderLeaderBoard","Components_Leader","mostMiles","mostRating","mostEarned","mostTime","mostExperience","miles","earner","Rides","allRides","filteredRides","textInput","returnDropdown","action","handleSortSubmit","handleFilterSubmit","handleSearch","handleFriendFilter","handleChangeBack","myFriends","filtered","toLowerCase","b","Components_Leaderboard","allUsers","LoginForm","username","password","handleChange","userLoginFetch","mdbreact_esm","onSubmit","Button_Button","styel","userInfo","errors","setItem","jwt","PasswordStr","strColor","strWidth","score","backgroundColor","transition","zxcvbn","require","SignupForm","passwordConfirmation","btnTxt","pwHandleChange","pw","createUser","pwMask","errorText","index_es","faEye","Components_PasswordStr","pwconfirm","login_data","error","ChatBox","renderMessages","m","messageName","created_at","handleClose","resetMessages","closeChat","handleInput","formInput","handleMessageSubmit","currentChat","addNewMessage","copy","_this2","aria-hidden","rel","href","message","ForumsPage","Components_ChatBox","DiscoverPage","renderFriendsBox","App","renderUserPage","react_router","path","exact","paramid","match","params","userFromParams","rout","renderProfileRoute","ourUser","getProfileFetch","Grid","Components_Header","Row","centered","routerProps","Components_LoginForm","setCurrentUser","component","Components_SignupForm","from","getItem","Authorization","Boolean","hostname","initialUserState","initialForumsState","initialRidesState","combineReducers","removeFollowers","val","removeFollowing","routing","routerReducer","store","createStore","rootReducer","applyMiddleware","thunk","es","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.93f24033.chunk.js","sourcesContent":["//development vals\nexport const prodURL = 'https://ride-share-api.herokuapp.com/api/v1/'\n// export const prodURL = 'http://localhost:3000/api/v1/'\n\n\nexport const USERURL=prodURL+'users/'\nexport const COMPANYURL=prodURL+'companies/'\nexport const RIDEURL=prodURL+'rides/'\nexport const FRIENDSHIPURL=prodURL+'friendships/'\nexport const FORUMSURL = prodURL+'forums/'\nexport const LOGINURL = prodURL+'login/'\nexport const AUTOLOGINURL = prodURL+'auto_login/'\nexport const MESSAGEURL = prodURL+'messages/'\n\n\n// export  const COMPANYURL = 'http://ride-share-api.herokuapp.com/api/v1/companies/'\n// export  const RIDEURL = 'http://ride-share-api.herokuapp.com/api/v1/rides/'\n// export const FRIENDSHIPURL = 'http://ride-share-api.herokuapp.com/api/v1/friendships'\n\nexport const ADD_USER='ADD_USER'\nexport const LOGIN_USER='LOGIN_USER'\nexport const LOGOUT_USER='LOGOUT_USER'\nexport const REMOVE_FOLLOWER='REMOVE_FOLLOWER'\nexport const ADD_FOLLOWER='ADD_FOLLOWER'\nexport const ADD_FOLLOWING='ADD_FOLLOWING'\nexport const REMOVE_FOLLOWING='REMOVE_FOLLOWING'\nexport const FETCH_ALL_RIDES='FETCH_ALL_RIDES'\nexport const ADD_RIDE='ADD_RIDE'\nexport const FETCH_ALL_FORUMS='FETCH_ALL_FORUMS'\nexport const FETCH_ALL_USERS='FETCH_ALL_USERS'\nexport const FETCH_ALL_COMPANIES='FETCH_ALL_COMAPNIES'\nexport const FETCH_CURRENT_USER='FETCH_CURRENT_USER'\nexport const FETCH_ALL_FORUM_MESSAGES='FETCH_ALL_FORUM_MESSAGES'\nexport const SET_USER='SET_USER'\nexport const FETCH_ALL_FRIENDSHIPS='FETCH_ALL_FRIENDSHIPS'\nexport const REMOVE_FRIENDSHIP='REMOVE_FRIENDSHIP'\nexport const ADD_FRIENDSHIP='ADD_FRIENDSHIP'\nexport const SET_ALL_FOLLOWING='SET_ALL_FOLLOWING'\nexport const ADD_FORUM_MESSAGE='ADD_FORUM_MESSAGE'\nexport const RESET_MESSAGES='RESET_MESSAGES'\n","import UUID from 'uuid';\nimport {ADD_FORUM_MESSAGE,SET_ALL_FOLLOWING,ADD_FOLLOWING,ADD_RIDE,\n  REMOVE_FOLLOWING,FETCH_ALL_FRIENDSHIPS,AUTOLOGINURL,MESSAGEURL,\n  SET_USER,FORUMSURL,COMPANYURL, RIDEURL,FRIENDSHIPURL ,\n  FETCH_ALL_FORUM_MESSAGES,FETCH_CURRENT_USER,FETCH_ALL_COMPANIES,\n  ADD_USER,USERURL ,LOGIN_USER,LOGINURL,\n  LOGOUT_USER,FETCH_ALL_RIDES,FETCH_ALL_FORUMS,FETCH_ALL_USERS,\n  RESET_MESSAGES,ADD_FRIENDSHIP,REMOVE_FRIENDSHIP,\n} from './Constants';\n// import AnimalAdapter from './apis/AnimalAdapter';\n\nexport function addUser(name, email) {\n  return {\n    type: ADD_USER,\n    payload: { id: UUID(), name, email }\n  }\n}\n\n\nexport function logoutUser()  {\n  return {\n\n    type: LOGOUT_USER\n  }\n}\nexport function addRide(src){\n  return {\n    type:ADD_RIDE,\n    payload:src\n  }\n}\nexport function setAllRides(src) {\n  return {\n    type: FETCH_ALL_RIDES,\n    payload: src\n  }\n}\nexport function setAllForums(src){\n  return {\n    type: FETCH_ALL_FORUMS,\n    payload:src\n  }\n}\nexport function setAllUsers(src){\n  return {\n    type: FETCH_ALL_USERS,\n    payload:src\n  }\n}\nexport function setUser(src){\n  return {\n    type: SET_USER,\n    payload:src\n  }\n}\nexport function setAllCompanies(src){\n  return {\n    type: FETCH_ALL_COMPANIES,\n    payload:src\n  }\n}\nexport function setAllForumMessages(src){\n  return {\n    type:FETCH_ALL_FORUM_MESSAGES,\n    payload:src\n  }\n}\nexport function setAllFriendships(src){\n  return {\n    type:FETCH_ALL_FRIENDSHIPS,\n    payload:src\n  }\n}\nexport function addFriendship(src){\n  return {\n    type:ADD_FRIENDSHIP,\n    payload:src\n  }\n}\nexport function removeFriendship(src){\n  return {\n    type:REMOVE_FRIENDSHIP,\n    payload:src\n  }\n}\n\n\n\nexport function setLoggedInUser(src) {\n  return {\n    type: LOGIN_USER,\n    payload: src,\n  }\n}\nexport function setAllFollowing(src){\n  return{\n    type:SET_ALL_FOLLOWING,\n    payload:src\n  }\n}\nexport function addForumMessage(src){\n  return{\n    type:ADD_FORUM_MESSAGE,\n    payload:src\n  }\n}\n\nexport function addFollowing(src){\n  return{\n    type:ADD_FOLLOWING,\n    payload:src\n  }\n}\nexport function resetMessages(src){\n  return{\n    type:RESET_MESSAGES,\n    payload:src\n  }\n}\n\nexport function removeFollowing(src){\n  return{\n    type:REMOVE_FOLLOWING,\n    payload:src\n  }\n}\n\nexport function patchEditProfile  ( data)  {\n\n  return function (dispatch){\n\n    let id = this.state.currentUser.id\n \n    fetch(`${USERURL}/${id}`,{\n      headers:{\n        'accepts':'application/json',\n        'content-type':'application/json'\n      },\n      method:'PATCH',\n      body:JSON.stringify({\n        name:data.nameValue,\n        experience:data.experienceValue,\n        car:data.carValue,\n        companies:data.companiesValue,\n        location:data.locationValue,\n        rating:data.ratingValue,\n      })\n    }).then(handleErrors)\n    .then(res => {\n      dispatch(fetchUsers())\n\n    })\n  }\n}\n\nexport function fetchCurrentUser(user) {\n  return function(dispatch) {\n    dispatch({ type: FETCH_CURRENT_USER });\n    fetch(`${USERURL}/${user.id}`)\n    .then(res=>res.json())\n    .then(current=>{\n        dispatch(setLoggedInUser(current))\n\n    })\n  }\n}\n\nexport function fetchUsers() {\n  return function(dispatch) {\n    dispatch({ type: FETCH_ALL_USERS });\n    fetch(USERURL).then(handleErrors)\n    .then(res=>res.json())\n    .then(users=>{\n        dispatch(setAllUsers(users))\n\n    })\n  }\n}\nexport function fetchUser(user){\n  return function (dispatch){\n    fetch(USERURL+user.id)\n    .then(res=>res.json())\n    .then(resUser=>{\n      dispatch(setUser(resUser))\n\n    })\n  }\n}\nexport function fetchCompanies() {\n  return function(dispatch) {\n    dispatch({ type: FETCH_ALL_COMPANIES });\n    fetch(COMPANYURL)\n    .then(res=>res.json())\n    .then(companies=>{\n        dispatch(setAllCompanies(companies))\n\n    })\n  }\n}\nexport function fetchRides(){\n  return function (dispatch){\n\n    fetch(RIDEURL)\n    .then(res=>res.json())\n    .then(rides=>{\n      dispatch(setAllRides(rides))\n\n    })\n  }\n}\nexport function fetchForumMessages(forum){\n  return function (dispatch){\n    fetch(FORUMSURL+forum.id)\n    .then(res=>res.json())\n    .then(f=>{dispatch(setAllForumMessages(f.messages))})\n  }\n}\nexport function fetchForums(){\n  return function (dispatch){\n    fetch(FORUMSURL)\n    .then(res=>res.json())\n    .then(forums=>{dispatch(setAllForums(forums))})\n  }\n}\nexport function fetchFollowing(user){\n  return function (dispatch){\n    fetch(USERURL+user.id+'/following')\n    .then(res=>res.json())\n    .then(following=>{dispatch(setAllFollowing(following))})\n  }\n}\nexport function fetchFriendships(){\n  return function (dispatch){\n    fetch(FRIENDSHIPURL)\n    .then(res=>res.json())\n    .then(friendships=>{dispatch(setAllFriendships(friendships))})\n  }\n}\nexport function postNewRide(ride){\n  // debugger\n  return dispatch=>{\n    return fetch(RIDEURL,{\n      method:'POST',\n      headers:{\n        'Content-Type':'application/json',\n        \"Accepts\":'application/json'\n      },\n      body:JSON.stringify({\n        ride\n      })\n    })\n    .then(handleErrors).then(res=>res.json())\n    .then(r=>dispatch(addRide(r)))\n  }\n}\nexport function postNewMessage(currentUser,content,forum){\n  return dispatch=>{\n    return fetch ( MESSAGEURL,{\n      method:\"POST\",\n      headers:{\n        'Content-Type':'application/json',\n        'Accepts':'application/json'\n      },\n      body:JSON.stringify({\n        user_id: currentUser.id,\n        forum_id: forum.id,\n        content: content\n      })\n    }\n  ).then(handleErrors).then(res=>res.json())\n  .then(mes=>dispatch(addForumMessage(mes)))\n  }\n}\n\nexport function postNewFriendship(follower,followed){\n  return dispatch=>{\n    const friendship = {\n      follower_id:follower.id,\n      followed_id:followed.id\n    }\n\n    return fetch( FRIENDSHIPURL ,{\n      method:\"POST\",\n      headers:{\n        'Content-Type':'application/json',\n        'Accepts':'application/json'\n      },\n      body:JSON.stringify(friendship)\n    })\n    .then(handleErrors)\n    .then(function(){\n      dispatch(addFollowing(followed))\n      dispatch(addFriendship(friendship))\n    })\n  }\n}\nexport function findFriendship(currentUser,followed){\n  return fetch(FRIENDSHIPURL)\n  .then(res=>res.json())\n  .then(friendships=>{\n    friendships.find(\n      f=>{\n        return f.follower_id === currentUser.id && f.followed_id === followed.id\n      }\n    )\n  })\n\n\n\n}\n\nexport function unfollow(currentUser,followed,friendships){\n  return dispatch=>{\n \n\n\n    let friendship = friendships.find(f=>f.follower_id===currentUser.id && f.followed_id===followed.id)\n    if(friendship){\n      return fetch( FRIENDSHIPURL+friendship.id,{\n        method:\"DELETE\",\n        headers:{\n          'Content-Type':'application/json',\n          'Accepts':'application/json'\n        },\n        body:JSON.stringify(friendship)\n      })\n      .then(handleErrors)\n      .then(function(){\n        dispatch(removeFollowing(followed))\n        dispatch(removeFriendship(friendship))\n      })\n\n    }\n  }\n}\n\nexport function createUser (login_data) {\n  return dispatch =>{\n\n    fetch(USERURL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accepts\": \"application/json\",\n      },\n      body: JSON.stringify(login_data)\n    })\n    .then(res => res.json())\n    .then((response) => {\n\n      if (response.error){\n        alert(response.error)\n      } else {\n        localStorage.setItem('jwt', response.jwt)\n        dispatch (setLoggedInUser(response.user))\n      }\n    })\n  }\n}\nexport function userLoginFetch  (user,callback) {\n  return dispatch =>{\n    fetch(LOGINURL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accepts\": \"application/json\",\n      },\n      body: JSON.stringify(user)\n    })\n    .then(res => res.json())\n    .then((response) => {\n      if (response.errors) {\n        alert(response.errors)\n      } else {\n        // we need to login at the top level where we are holding our current user!\n        // setState in App to currentuse\n\n        localStorage.setItem('jwt', response.jwt)\n        dispatch(setLoggedInUser(response.user))\n\n      }\n    })\n\n  }\n\n\n}\n\n\nexport function getProfileFetch() {\n  return dispatch => {\n    const jwt = localStorage.getItem('jwt')\n\n    if (jwt){\n      fetch(AUTOLOGINURL, {\n        headers: {\n          \"Authorization\": `Bearer ${jwt}`\n        }\n      })\n      .then(res => res.json())\n      .then((response) => {\n        if (response.errors) {\n          alert(response.errors)\n          localStorage.removeItem('jwt')\n        } else {\n          dispatch(setLoggedInUser(response))\n        }\n      })\n    }\n\n  }\n}\n\n\nexport function setLogout ()  {\n  return function(dispatch) {\n    dispatch({ type: LOGOUT_USER });\n\n    localStorage.removeItem(\"jwt\")\n\n    dispatch(logoutUser())\n  }\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n","import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport {Navbar, Nav, NavItem} from 'react-bootstrap';\nimport {Link} from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { setLogout} from '../Actions';\n\n// import * from '../App.css'\n\n\n\nclass Header extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { navHeight: 50, navExpanded: false };\n      \n\n      this.handleResize = this.handleResize.bind(this);\n    }\n\n    handleResize(e = null) {\n      this.setState({ navHeight: ReactDOM.findDOMNode(this._navbar).offsetHeight });\n    }\n\n    componentDidMount() {\n      window.addEventListener('resize', this.handleResize);\n      this.handleResize();\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('resize', this.handleResize);\n    }\n\n    closeNav=()=> {\n      this.setState({ navExpanded: false });\n    };\n\n    setNavExpanded=(expanded)=> {\n      this.setState({ navExpanded: expanded });\n    };\n\n    logout = () => {\n\n     localStorage.removeItem(\"jwt\")\n     this.props.setLogout()\n   }\n\n  renderProfileLink = () => {\n\n    if(this.props.currentUser){\n        return <Link to={`/profile`}> Profile </Link>\n\n    }\n    else{\n      return <Link to={`/login`}> Profile </Link>\n    }\n  }\n  renderLogout =() =>{\n    return (\n      <>\n\n        <NavItem onClick={()=>this.props.history.push(`/users/${this.props.currentUser.id}`)} >\n\n        </NavItem>\n        <NavItem className='menu-item'>\n          <Link  to=\"/login\" onClick={this.logout} >\n            Logout\n          </Link>\n        </NavItem>\n\n      </>\n    )\n  }\n  renderLoginSignup = () =>{\n    return (\n      <>\n        <NavItem onClick={this.closeNav} className='menu-item'>\n          <Link  to=\"/login\">\n            Login\n          </Link>\n        </NavItem>\n\n        <NavItem onClick={this.closeNav} className='menu-item'>\n          <Link  to=\"/signup\">\n            Sign Up\n          </Link>\n        </NavItem>\n      </>\n    )\n\n  }\n\n\n  renderNav=()=>{\n    return(\n      <>\n\n\n          <Navbar bg=\"dark\" expand=\"md\" fixedtop=\"true\" ref={(e) => this._navbar = e} onToggle={this.setNavExpanded}   expanded={this.state.navExpanded} inverse=\"true\" fluid=\"true\">\n\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n\n              <Nav >\n                <NavItem  onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  {this.renderProfileLink()}\n                </NavItem>\n                <NavItem onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  <Link to=\"/rides\"> Rides </Link>\n                </NavItem>\n                <NavItem onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  <Link to=\"/forums\"> Forums </Link>\n                </NavItem>\n                <NavItem onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  <Link to=\"/discover\"> Discover </Link>\n                </NavItem>\n                  {this.props.currentUser ? this.renderLogout() : this.renderLoginSignup() }\n              </Nav>\n\n            </Navbar.Collapse>\n          </Navbar>\n      </>\n    )\n  }\n  renderHeader=()=>{\n    return (\n      <>\n      <header className=\"title\">\n        <div className=\"container col-11\" >\n          <b>RideShare</b>\n        </div>\n      </header>\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n      <div className=\"header\">\n        {this.renderHeader()}\n        {this.renderNav()}\n      </div>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setLogout: () => dispatch(setLogout())\n})\n\nfunction mapStateToProps(state) {\n\n\tconst { user } = state\n  return {\n\n    currentUser:user.currentUser\n  }\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Header);\n","import React from 'react'\n\nconst ProfileCard = (props) => {\n\n  let handleCompnaies = () => {\n    \n    //make these logos\n    return props.companies? props.companies.map(company => `${company.name} `) : \"nope\"\n  }\n\n  let handleHover = (e) => {\n  }\n\n  return(\n\n      <div className=\"profile-card\"  >\n        <img src={props.user.image_url} alt=\"No Profile\" className=\"card-img-top\"/>\n\n        <div className=\"card-header\">\n          <b>{props.user.name} </b>\n        </div>\n        <ul className=\"list-group list-group-flush\">\n          <li onMouseOver={handleHover} className=\"list-group-item\">Car: {props.user.car} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Experience: {props.user.experience} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Rating: {props.user.rating} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Companies: {handleCompnaies()} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Base Location: {props.user.location}</li>\n        </ul>\n      </div>\n\n\n  )\n}\n\n\nexport default ProfileCard\n","import React,{Fragment} from \"react\";\n\n\nclass Ride extends React.Component {\n   formatDate=(date)=> {\n     // debugger\n    let year = date.slice(0,4);\n    let month = date.slice(5,7);\n    let day = date.slice(8,10);\n    let hour = date.slice(11,13)\n    let min = date.slice(14,16)\n    let ampm =''\n    parseInt(hour) < 12 ? ampm ='AM' : ampm = 'PM'\n\n    if(hour >= 12){\n      hour = hour-12;\n    }\n    if(hour<10){\n      hour = parseInt(hour);\n    }\n\n    if(hour===0){\n      hour = 12\n    }\n\n    let retDate = `${month}/${day}/${year}@${hour}:${min}${ampm}`\n    return retDate;\n    // var ampm = hours >= 12 ? 'pm' : 'am';\n    // hours = hours % 12;\n    // hours = hours ? hours : 12; // the hour '0' should be '12'\n    // minutes = minutes < 10 ? '0'+minutes : minutes;\n    // var strTime = hours + ':' + minutes + ' ' + ampm;\n    // return date.getMonth()+1 + \"/\" + date.getDate() + \"/\" + date.getFullYear() + \"  \" + strTime;\n}\n\n// var d = new Date();\n// var e = formatDate(d);\n\n  render() {\n\n    return (\n      <Fragment>\n        <tr>\n          <th scope=\"row\">{this.props.idx}</th>\n          <td>{this.props.ride.distance}</td>\n          <td>{this.formatDate(this.props.ride.started_at)}</td>\n          <td>{this.formatDate(this.props.ride.end_at)}</td>\n          <td>{this.props.ride.price}</td>\n          <td>{this.props.ride.start_location}</td>\n          <td>{this.props.ride.end_location}</td>\n        </tr>\n      </Fragment>\n    )\n  }\n}\nexport default Ride\n","import React from \"react\"\nimport Ride from \"./Ride.js\"\n\nconst RideList = (props) => {\n\n  const renderRide=()=>{\n    if(props.rides.length>0){\n      \n      return props.rides.map((ride,key)=>\n        <Ride\n          key={key}\n          idx={key+1}\n          ride={ride}\n        />)\n    }\n    else{\n      return(\n        <>\n        <tr>\n          <td colspan='7'>No completed rides yet</td>\n        </tr></>\n      )\n    }\n  }\n  return (\n    <div className='ridestable'>\n    {props.displayDropdown? props.displayDropdown(): ''}\n    <table className=\"table table-striped\">\n      <thead className=\"thead-dark\">\n        <tr>\n          <th scope=\"col\">Num</th>\n          <th scope=\"col\">Distance</th>\n          <th scope=\"col\">Started At</th>\n          <th scope=\"col\">Ended At</th>\n          <th scope=\"col\">Price</th>\n          <th scope=\"col\">Starting Location</th>\n          <th scope=\"col\">Ending Location</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.displayAddRide ? props.displayAddRide():\n          null\n        }\n        {renderRide()}\n      </tbody>\n    </table>\n\n  </div>\n  )\n}\n\nexport default RideList\n","import React,{Fragment} from \"react\";\n\nclass Forum extends React.Component {\n\n// id={this.props.forum.topic}\n  render() {\n    return (\n      // <th scope=\"row\">{this.props.idx}</th>\n      <Fragment >\n\n\n          <tr  onClick={(e,topic)=>this.props.handleForumClick(e,this.props.forum.topic)}>\n            <td>  {this.props.forum.topic} </td>\n          </tr>\n\n      </Fragment>\n    )\n  }\n}\nexport default Forum\n","import React from \"react\"\nimport Forum from \"./Forum.js\"\n\nconst ForumList = (props) => {\n\n  const renderForum=()=>{\n    if(props.forums.length>0){\n\n      function uniqueForums(array) {\n       return array.filter((e, i) => array.findIndex(a => a.topic === e.topic) === i);\n      }\n\n      return uniqueForums(props.forums).map((forum,idx)=>{\n        return (\n            <Forum\n              handleForumClick={props.handleForumClick}\n              key={forum.id}\n              idx={idx+1}\n              forum={forum}\n              />\n\n\n        )\n\n        }\n      )\n    }\n    else{\n      return (<>\n        <tr>\n          <td colspan='1'>\n             <p style={{align:'center',justify:'centered',}}>\n               Not a member of any Forums\n             </p>\n          </td>\n        </tr>\n        </>)\n    }\n  }\n\n  // <th scope=\"col\">Num</th>\n  return (\n    <div className='forumstable' >\n      <table className=\"table table-striped\" >\n        <thead className=\"thead-dark\">\n          <tr>\n            <th scope=\"col\">Forum Topic</th>\n          </tr>\n        </thead>\n        <tbody>\n          {renderForum()}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default ForumList\n","import React,{Fragment} from \"react\";\nimport ReactModal from 'react-modal'\nimport {connect} from 'react-redux'\n\n//lib imports\nimport axios from 'axios'\nimport { Form } from 'semantic-ui-react'\nimport TextField from \"@material-ui/core/TextField\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\n\n\n\n//action imports\nimport {fetchCurrentUser} from '../Actions';\n\n//constants imports\nimport {USERURL} from '../Constants'\n\nclass Modal extends React.Component{\n\n  state=({\n    nameValue: this.props.props.user.name,\n    experienceValue: this.props.props.user.experience,\n    ratingValue: this.props.props.user.rating,\n    locationValue: this.props.props.user.location,\n    carValue: this.props.props.user.car,\n    userCompanies:this.props.currentUser.companies,\n    companiesValue: [],\n    options:[],\n    selectedFile:[],\n  })\n\n  componentDidMount(){\n    this.setState({\n      nameValue: this.props.currentUser.name,\n      experienceValue: this.props.currentUser.experience,\n      ratingValue: this.props.currentUser.rating,\n      locationValue: this.props.currentUser.location,\n      carValue: this.props.currentUser.car,\n      companiesValue: this.props.companiesValue,\n      allCompanies:this.props.companiesValue,\n      userCompanies:this.props.currentUser.companies\n    })\n  }\nhandleCheckBox =(company)=>{\n  if(this.state.userCompanies && this.state.allCompanies){\n    this.state.allCompanies.map(c=>\n      this.state.userCompanies.find(c)\n    )\n\n  }\n}\nfileUploadHandler=(event)=>{\n  event.preventDefault()\n  if(this.state.selectedFile){\n\n    let fd = new FormData();\n    fd.append('image',this.state.selectedFile,this.state.selectedFile.name)\n\n    axios.post(USERURL+this.props.currentUser.id+'/imageupload',fd)\n    // .then(res=>res.json())\n    .then(res=>{\n\n      this.props.fetchCurrentUser(res.data)\n    }\n    );\n  }\n}\n\nfileSelectedHandler=(event)=>{\n  this.setState({selectedFile:event.target.files[0]})\n  if(event.target.files[0]){\n    let fd = new FormData();\n    fd.append('image',event.target.files[0],event.target.files[0].name)\n\n    axios.post(USERURL+this.props.currentUser.id+'/imageupload',fd)\n    .then(res=>{\n\n      this.props.fetchCurrentUser(res.data)\n    }\n    );\n  }\n}\n\n\nonChange=(e,c)=> {\n   // current array of options\n   const options = this.state.options\n   if (e.target.checked) {\n     //add checked item to array of selecteed company options\n       options.push(c)\n\n   } else {\n     //remove the unchecked item from array of selected company options\n       options.pop(c)\n\n   }\n   // update the state with the new array of options\n   this.setState({ options: options })\n }\nrenderCheckBoxes = () => {\n\n  if(this.props.companiesValue){\n    // create a list of company ids in the option array\n    //  to use as keys to  distaguish if they are already in the array\n    let companyIds = this.state.options.map(company => company.id)\n    //map over list of all comapnies and create a checkbox for each\n\n    return this.props.companiesValue.map((company,key)=> {\n      return(\n        <>\n        <label>{company.name}\n          <Checkbox label={company.name} checked={companyIds.includes(company.id)}  onChange={(e) => this.onChange(e,company)}  />\n        </label>\n        </>\n      )\n    })\n  }\n}\n\n  handleEditFormChange=(e)=>{\n    let value = e.target.value;\n    let name = e.target.name;\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n\n\n  renderEditModal = () => {\n    //make modal smaller\n    if(this.props.state.modal){\n\n      return (\n        <div >\n          <ReactModal\n            id='editmodal'\n            isOpen={this.props.state.modal}\n            onAfterOpen={this.props.handleAfterOpen}\n            onRequestClose={this.props.handleAfterClose}\n            shouldCloseOnEsc={true}\n            shouldCloseOnOverlayClick={true}\n            ariaHideApp={false}\n            data={{\n              background: \"green\"\n            }}\n            contentLabel=\"example modal\"\n            >\n\n            <br/>\n            <Form>\n              <div className='row'>\n                <div className='col-4'>\n                  <div className=\"control\">\n                    <input type=\"file\" name=\"file\" id='file' className='inputfile' onChange={this.fileSelectedHandler}/>\n                    <label for=\"file\" className='btn-2'>Upload Profile Picture</label>\n                  </div>\n\n                  <br/>\n\n                  <Form.Field>\n                    <label><h4>Companies:</h4></label>\n                    <br/>\n                    {this.renderCheckBoxes()}\n                </Form.Field>\n\n\n\n              </div>\n\n                <div className='col-8'>\n                  <Form.Field>\n                    <TextField\n                      name=\"nameValue\"\n                      label=\"Name\"\n                      value={this.state.nameValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"experienceValue\"\n                      type=\"number\"\n                      label=\"Experience\"\n                      value={this.state.experienceValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"ratingValue\"\n                      type=\"number\"\n                      label=\"Rating\"\n                      value={this.state.ratingValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"carValue\"\n                      type=\"text\"\n                      label=\"Car\"\n                      value={this.state.carValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"locationValue\"\n                      type=\"text\"\n                      label=\"Base Location\"\n                      value={this.state.locationValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n\n                      />\n                  </Form.Field>\n                  <br/>\n                </div>\n\n\n              </div>\n\n\n\n              <button className='btn-primary savebutton' type=\"submit\" onClick={(e, state)=>this.props.handleSubmit(e, this.state)}>Save</button>\n            </Form>\n\n\n          </ReactModal>\n        </div>\n    )}\n  }\n\n  render(){\n\n    return(\n      <Fragment>\n        {this.renderEditModal()}\n      </Fragment>\n    )\n  }\n\n}\nconst mapDispatchToProps=dispatch=>({\n  fetchCurrentUser: u=>dispatch(fetchCurrentUser(u))\n})\n\nexport default connect(null,mapDispatchToProps)(Modal)\n","import React from \"react\";\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Button,Card} from 'react-bootstrap'\n\nimport '../App.css'\nimport {\n  UserCard,\n  ProductCard,\n  FlippingCard,\n  FlippingCardFront,\n  FlippingCardBack,\n\n\n} from 'react-ui-cards';\n\n\n// var randImg = 'http://lorempixel.com/400/200/sports/'\n// var randImg = 'https://sadanduseless.b-cdn.net/wp-content/uploads/2018/11/taxi-driver-calendar2.jpg'\n\nclass FollowerCard extends React.Component {\n  getProfileLink=()=>{\n    if(this.props.currentUser){\n      if(this.props.follower.id === this.props.currentUser.id){\n        return '/profile'\n      }\n      else{\n        return `/user/${this.props.follower.id}`\n      }\n\n    }\n    else{\n      return `/user/${this.props.follower.id}`\n    }\n  }\n  renderFollowCard=()=>{\n    // debugger\n    return(\n      <>\n      <div id=\"follower-card\" onClick={(e,user)=>this.props.handleUserClick(e,this.props.follower)} >\n          <Link to={this.getProfileLink()}>\n\n          <FlippingCard style={{height:'100%',width:'100%'}} >\n            <FlippingCardFront>\n              <div\n              style={{\n                width: '100%',\n                height: '100%',\n                backgroundSize: 'contain',\n                backgroundPosition: 'center',\n              }}>\n              <UserCard\n                float\n                header='https://loremflickr.com/320/240/car'\n                avatar='https://ptetutorials.com/images/user-profile.png'\n                name={this.props.follower.name}\n                positionName={this.props.follower.car}\n                stats={[\n                  {\n                    name: 'Car',\n                    value: this.props.follower.car\n                  },\n\n                ]}\n                />\n\n            </div>\n            </FlippingCardFront>\n            <FlippingCardBack>\n              <div\n              style={{\n                width: '100%',\n                height: '100%',\n                backgroundSize: 'contain',\n                backgroundPosition: 'center',\n              }}>\n\n              <ProductCard\n                photos={[this.props.follower.image_url]}\n                price={this.props.follower.ratingValue}\n                productName={this.props.follower.name}\n                description='Click to View Profile'\n                rating={this.props.follower.ratingValue}\n\n                />\n            </div>\n            </FlippingCardBack>\n          </FlippingCard>\n\n        </Link>\n\n      </div>\n      </>\n\n\n\n    )\n  }\n\n\n\n  renderCard=()=>{\n    return (\n      <>\n      <Card className=\"card mb-4 border-0\" id=\"following-card\">\n        <Card.Img variant=\"top\" className='followercardimg' src={this.props.follower.image_url} />\n        <Card.Body>\n          <Card.Title>Name: {this.props.follower.name}</Card.Title>\n          <Card.Text>\n            I drive a: {this.props.follower.car}\n          </Card.Text>\n          <div onClick={(e,user)=>this.props.handleUserClick(e,this.props.follower)}>\n            <Link to={`/user/${this.props.follower.id}`}>\n              <Button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                >\n                Check out my profile!</Button>\n            </Link>\n          </div>\n        </Card.Body>\n      </Card>\n      </>\n    )\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"card-container\" >\n        {this.renderFollowCard()}\n      </div>\n\n    )\n\n  }\n}\nfunction mapStateToProps(state){\n  const {user} = state\n  return {\n    currentUser:user.currentUser,\n  }\n}\nexport default connect (mapStateToProps)(FollowerCard)\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\n\nimport Profile from './Profile.js'\nimport FollowerCard from './FollowerCard.js'\n\nclass FriendsBox extends Component {\n\n  handleUserClick=(e,user)=>{\n    // if(user.id !== this.props.currentUser.id){\n      // debugger\n      return (\n        <Profile\n          {...this.props}\n          user={this.props.user}\n          />\n\n      )\n\n    \n  }//end of handle user click\n\n\n  followerCards = () => {\n\n    if (this.props.followers){\n       return this.props.followers.map((follower,idx) => {\n         // debugger\n        return (\n          <div key={idx} className=\"card-rows\">\n            <FollowerCard\n              handleUserClick={this.handleUserClick}\n              key={idx}\n              follower={follower}\n              />\n          </div>\n\n        )\n\n\n      })\n    }\n  }\n\n  render(){\n    return(\n      <div className=\"card-group col-12\" >\n        {this.followerCards()}\n      </div>\n    )\n  }\n\n}\nfunction mapStateToProps(state){\n  const {user} = state\n  return {\n    currentUser:user.currentUser,\n  }\n}\nexport default connect(mapStateToProps)(FriendsBox)\n","import React from \"react\"\nimport {Link} from 'react-router-dom'\n\nconst NotLoggedIn = () => {\n  return (\n  <div className=\"container\">\n    <div className='authBox'>\n        <h1 className='headerText'>Must be Logged in To View</h1>\n        <br/>\n        <Link to='/login' id=\"authbutton\" color='teal'>\n          Click here to navigate to the login page\n        </Link>\n    </div>\n\n  </div>\n  )\n}\n\nexport default NotLoggedIn\n","import React,{Fragment} from \"react\";\nimport {connect} from 'react-redux'\n\nimport {Button} from 'react-bootstrap'\n\n//import components\nimport ProfileCard from './ProfileCard'\nimport RideList from './RideList.js'\nimport ForumsList from './ForumsList.js'\nimport Modal from './Modal.js'\nimport FriendsBox from './friends-box'\nimport NotLoggedIn from './NotLoggedIn'\n\n\n//import actions\nimport {\n  fetchFollowing,fetchUser,fetchFriendships,\n  postNewFriendship,unfollow,fetchCompanies,\n  fetchCurrentUser,patchEditProfile,postNewRide,\n} from '../Actions.js'\n\n//library imports\nimport SlideToggle from \"react-slide-toggle\";\n\n//import constants\nimport {USERURL} from '../Constants'\n// const eases = window.eases;\n\n\n\nconst ProgressBar = ({ progress }) => {\n  return (\n    <span className=\"progress-bar\">\n      <span\n        className=\"progress-bar__inner\"\n        style={{\n          transform: `scaleX(${progress})`\n        }}\n      />\n    </span>\n  );\n};\n\nclass Profile extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n      modal: false,\n      user:this.props.user,\n      editedUser: this.props.user,\n      clickedForum: null,\n      openChat: false,\n      isCurrentUserProfile:null,\n      isFollowing:null,\n      currentUser:this.props.currentUser,\n      ride:{\n        started_at:'',\n        end_at:'',\n        price:'',\n        distance:'',\n        start_location:'',\n        end_location:'',\n        user_id:this.props.currentUser.id,\n        company_id: 21,\n      },\n\n    }\n  }\n  componentDidMount(){\n    this.props.fetchCompanies();\n    this.props.fetchFriendships();\n\n\n\n  }\n\n\nUNSAFE_componentWillReceiveProps(newProps){\n\n\n\n  if(newProps.user === newProps.currentUser){\n    //its the current users profile\n    this.setState({\n      isCurrentUserProfile:true,\n      user:newProps.currentUser,\n    })\n  }\n  else{\n\n    let followList=null;\n    if(newProps.currentUser.following){\n       followList = newProps.currentUser.following\n    }\n    //the page is not the current users profile\n    if(followList.find(u=>u.id ===newProps.user.id)){\n      // debugger\n      this.setState({\n        isCurrentUserProfile:newProps.isCurrentUserProfile,\n        user:newProps.user,\n        isFollowing:true\n      })\n    }else{\n      // debugger\n\n      this.setState({\n        isCurrentUserProfile:newProps.isCurrentUserProfile,\n        user:newProps.user,\n        isFollowing:false,\n      })\n    }\n\n\n\n  }\n\n\n}\n\n\n  handleEdit = (e) => {\n    this.setState({modal:true})\n  }\n\n  handleAfterOpen=()=>{\n  }\n  handleAfterClose=()=>{\n    this.setState({modal:false})\n  }\n\n  handleSubmit=(e, state)=>{\n    e.preventDefault()\n    this.patchEditProfile(e, state)\n    this.setState({\n      modal: false\n    })\n\n  }\n  handleDelete=(e)=>{\n  }\n  handleForumClick = (e) => {\n    this.setState({clickedForum: e.target.id})\n    this.setState({openChat: true})\n  }\n\n\n  renderModal = () => {\n    if(this.props.user) {\n      return(\n        <Modal\n          state={this.state}\n          props={this.props}\n          companiesValue={this.props.allCompanies}\n          currentUser={this.props.currentUser}\n          handleAfterOpen={this.handleAfterOpen}\n          handleAfterClose={this.handleAfterClose}\n          handleEditFormChange={this.handleEditFormChange}\n          handleSubmit={this.handleSubmit}\n        />\n      )\n    }\n  }\n\n  patchEditProfile = (e, userData) => {\n\n    e.preventDefault()\n    if(this.props.currentUser){\n      userData.id=this.props.currentUser.id;\n      fetch(`${USERURL}/${this.props.currentUser.id}`,{\n        headers:{\n          'accepts':'application/json',\n          'content-type':'application/json'\n        },\n        method:'PATCH',\n        body:JSON.stringify({\n          id:userData.id,\n          name:userData.nameValue,\n          experience:userData.experienceValue,\n          car:userData.carValue,\n          companies:userData.options,\n          location:userData.locationValue,\n          rating:userData.ratingValue,\n\n        })\n      })\n      .then(r => r.json())\n      .then(resUser => {\n        this.setState({\n          modal: false\n        }  ,this.props.fetchCurrentUser(resUser.user)  )\n      })\n    }\n  }\n\n  handleFollow = () => {\n    this.props.postNewFriendship(this.props.currentUser,this.props.user)\n    let tempUser = Object.assign({},this.props.currentUser)\n    if(!tempUser.following.includes(this.props.user)){\n\n\n      this.setState(prevState=>({\n        isFollowing:!prevState.isFollowing,\n\n      }))\n    }\n\n}\n\n\nhandleUnFollow = () => {\n  // debugger\n  this.props.fetchFriendships();\n\n  this.props.unfollow(this.props.currentUser,this.props.user,this.props.friendships)\n\n  this.setState(prevState=>({\n    isFollowing:!prevState.isFollowing,\n\n  })\n)\n\n}\n\n  renderProfileCard = () => {\n    if(this.state.user){\n      return(\n        <ProfileCard user={this.state.user} companies={this.state.user.companies}/>\n      )\n    }\n  }\n  renderEditButton=()=>{\n    //implement delete user functiion\n    // <button type=\"button\" className=\"btn btn-primary\"  id=\"edit-profile\" onClick={this.handleDelete}> Delete Profile </button>\n    if(this.props.user===this.props.currentUser){\n      return(\n        <div>\n        <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" id=\"edit-profile\" onClick={this.handleEdit}> Edit Profile </button>\n\n        </div>\n      )\n    }else{\n      return (\n        <>\n        {this.renderFollowButton()}\n        </>\n      )\n    }\n  }\n\nrenderFollowButton=()=>{\n\n  if(this.state.isFollowing===false)\n  {\n\n    return   (\n      <>\n        <Button className=\"btn btn-primary\"  id=\"follow-user\" onClick={() => this.handleFollow()}> Follow this user </Button>\n      </>\n  )\n  }\n  else if (this.state.isFollowing){\n    return (\n      <>\n        <Button className=\"btn btn-primary\"  id=\"follow-user\" onClick={() => this.handleUnFollow()}> Unfollow this user </Button>\n      </>\n    )\n  }\n}\nrenderUserRides=()=>{\n  // debugger\n  return (\n    <>\n      {this.props.userProfile?\n        <RideList displayAddRide={this.displayAddRide} rides={this.props.userProfile.rides}/>\n        : null\n      }\n    </>\n  )\n}\nrenderUserForums=()=>{\n  return (\n    <>\n    {this.state.user.forums ?\n      <ForumsList forums={this.state.user.forums} handleForumClick={this.handleForumClick}/>\n      :\n      <div >\n        <table className=\"table table-striped\" >\n          <thead className=\"thead-dark\">\n            <tr>\n              <th scope=\"col\">Num</th>\n              <th scope=\"col\">Forum Topics</th>\n            </tr>\n          </thead>\n          <tbody>\n\n          </tbody>\n        </table>\n      </div>\n    }\n\n    </>\n  )\n}\nhandleAddRideChange=(e)=>{\n  this.setState({\n    ride:{\n      ...this.state.ride,\n      [e.target.name]:e.target.value,\n    }\n  })\n}\nhandleAddRide=(e)=>{\n\n  if(\n    this.state.ride.company_id &&\n    this.state.ride.user_id &&\n    this.state.ride.distance &&\n    this.state.ride.price &&\n    this.state.ride.start_location &&\n    this.state.ride.end_location &&\n    this.state.ride.started_at &&\n    this.state.ride.end_at\n  ){\n    // post new ride then reset text inputs\n\n    this.state.ride.company_id = parseInt(this.state.ride.company_id)\n\n    this.props.postNewRide(this.state.ride)\n    this.setState({\n      ride:{\n        ...this.state.ride,\n\n        distance:'',\n        price:'',\n        start_location:'',\n        end_location:'',\n        started_at:'',\n        end_at:'',\n      }\n\n    })\n\n  }else{\n    alert(\"Please enter all fields before adding a new ride!\")\n  }\n}\nrenderAllCompanySelect=()=>{\n  if(this.props.allCompanies){\n    return (\n      this.props.allCompanies.map((c,idx)=>{\n        return (<option key={idx} value={c.id}> {c.name} </option>)\n      })\n    )\n\n  }\n}\ndisplayAddRide=()=>{\n  if(this.props.user===this.props.currentUser){\n    return (<>\n      <Fragment>\n\n        <tr>\n          <td colspan=\"7\">\n            <button className=\"btn btn-primary\" id=\"addridebutton\" onClick={this.handleAddRide}>Add Ride</button>\n          </td>\n        </tr>\n\n        <tr>\n          <th scope=\"row\">\n            <select className='addrideinput' value={this.state.ride.company_id} name=\"company_id\"\n            onChange={this.handleAddRideChange}\n            >\n              {this.renderAllCompanySelect()}\n\n\n            </select>\n          </th>\n          <td><input className=\"addrideinput\" type=\"number\" name=\"distance\" placeholder='Distance' value={this.state.ride.distance} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"datetime-local\" name=\"started_at\" value={this.state.ride.started_at} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"datetime-local\" name=\"end_at\" value={this.state.ride.end_at} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"number\" placeholder='Price' name=\"price\" value={this.state.ride.price} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"text\" name=\"start_location\" placeholder='Starting Location' value={this.state.ride.start_location} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"text\" name=\"end_location\" placeholder='Ending Location' value={this.state.ride.end_location} onChange={this.handleAddRideChange}></input></td>\n\n        </tr>\n\n\n\n      </Fragment>\n      </>\n\n    )\n\n  }\n\n}\nrenderFollowerFollowingBox=()=>{\n  return (\n    <>\n    <div className=\"col\" id=\"profile-following\">\n      {this.props.userProfile?(\n        <>\n        <SlideToggle\n          duration={800}\n          collapsed\n          whenReversedUseBackwardEase\n\n          render={({\n            toggle,\n            progress,\n            setCollapsibleElement,\n            range,\n            toggleState\n          }) => (\n            <div className=\"slide-toggle\">\n              <div className=\"slide-toggle__header\">\n                <button id=\"followingbutton\" className=\"slide-toggle__toggle\" onClick={toggle}>\n                  {this.props.userProfile.following.length} Following\n                </button>\n                <ProgressBar progress={progress} />\n              </div>\n              <div className=\"slide-toggle__box\" ref={setCollapsibleElement}>\n                <div className=\"slide-toggle__box-inner\">\n                  <FriendsBox followers={this.props.userProfile.following}/>\n                  <button id='followingbutton' onClick={toggle}>\n                    Hide Following\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n          />\n        </>\n    )\n    :\n    null\n  }\n  {this.props.userProfile?(\n    <>\n    <SlideToggle\n      duration={800}\n      collapsed\n      whenReversedUseBackwardEase\n\n      render={({\n        toggle,\n        progress,\n        setCollapsibleElement,\n        range,\n        toggleState\n      }) => (\n        <div className=\"slide-toggle\">\n          <div className=\"slide-toggle__header\">\n            <button id='followingbutton' className=\"slide-toggle__toggle\" onClick={toggle}>\n              {this.props.userProfile.followers.length} Followers\n            </button>\n            <ProgressBar progress={progress} />\n          </div>\n          <div className=\"slide-toggle__box\" ref={setCollapsibleElement}>\n            <div className=\"slide-toggle__box-inner\">\n              <FriendsBox followers={this.props.userProfile.followers}/>\n              <button id='followingbutton' onClick={toggle}>\n                Hide Followers\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      />\n    </>\n)\n:\nnull\n}\n</div>\n\n    </>\n  )\n\n}\n\n\nrenderPage=()=>{\n  return (\n\n    <Fragment>\n      <div className = \"container col-12\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col justify-content-center\" id=\"profile-card-container\">\n            {this.renderProfileCard()}\n            {this.renderEditButton()}\n            {this.renderModal()}\n\n          </div>\n          <div className=\"col-10\" id=\"profile-rides-list\">\n            {this.renderUserForums()}\n            {this.renderUserRides()}\n          </div>\n\n        </div>\n        {this.renderFollowerFollowingBox()}\n\n\n      </div>\n\n\n\n    </Fragment>\n  )\n\n}\n\n\n  render() {\n\n    return (\n      <div className='profilepage'>\n        {this.props.currentUser ? this.renderPage() :<NotLoggedIn/>}\n\n      </div>\n\n\n    )\n  }\n}\nfunction mapStateToProps(state) {\n  // maps the state from the store to the props\n\n\tconst { user } = state\n  const { forums } = state\n\n\n  return {\n    allCompanies:user.allCompanies,\n    rides:user.rides,\n    forums:forums.forums[0],\n    allForums:user.forums,\n    users:user.users,\n    currentUser:user.currentUser,\n    following:user.following,\n    friendships:user.friendships,\n    userProfile:user.userProfile,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  fetchUser:(u)=>dispatch(fetchUser(u)),\n  fetchCompanies:()=>dispatch(fetchCompanies()),\n  patchEditProfile:(d)=>dispatch(patchEditProfile(d)),\n  postNewFriendship:(user,follow)=>dispatch(postNewFriendship(user,follow)),\n  unfollow:(user,follow,friendships)=>dispatch(unfollow(user,follow,friendships)),\n  fetchCurrentUser:(u)=>dispatch(fetchCurrentUser(u)),\n  fetchFriendships:()=>dispatch(fetchFriendships()),\n  fetchFollowing:(u)=>dispatch(fetchFollowing(u)),\n  postNewRide:(r)=>dispatch(postNewRide(r)),\n})\n\nexport default connect(mapStateToProps,mapDispatchToProps) (Profile)\n","import React from \"react\";\nimport {Link} from 'react-router-dom'\n\nclass Leader extends React.Component {\n\n  render() {\n    if(this.props.getUser){\n      return (\n        <div onClick={(e,)=>this.props.handleClick(e,this.props.getUser)}\n        name={this.props.superlative}>\n\n          <Link to={`/user/${this.props.getUser.id}`}>\n\n          <div className={this.props.design}>\n            <h3 className=\"pull-right\">\n            <i className={this.props.icon}> </i>\n            </h3>\n            <h4 className=\"list-group-item-heading count\">{this.props.title}\n\n              {(this.props.getUser.name)}\n\n              </h4>\n\n              <p className=\"list-group-item-text\">\n                {this.props.getStat?this.props.getStat(this.props.getUser):null}\n                {this.props.superlative==='rating'?this.props.getUser.rating:null}\n                {this.props.superlative==='experience'?this.props.getUser.experience:null}</p>\n                </div>\n                </Link>\n\n            </div>\n            )\n    }else{\n      return (<h4>YOU ARE NOT LOGGED IN</h4>)\n    }\n  }\n}\nexport default Leader\n","import React,{Fragment} from \"react\"\nimport Profile from './Profile.js'\nimport Leader from './Leader.js'\n\nimport { connect } from 'react-redux';\nimport {fetchUsers,fetchRides} from '../Actions';\n\n\n\nclass Leaderboard extends React.Component {\n\n  constructor(props){\n    super(props)\n    this.state={\n      mostMiles:'',\n      mostRating:'',\n      mostEarned:'',\n      mostTime:'',\n      mostExperience:''\n    }\n  }\n  UNSAFE_componentWillReceiveProps(props){\n    let rating = this.getRatingLeader(props.leaders)\n    let miles = this.getMileLeader(props.leaders)\n    let earner = this.getEarnerLeader(props.leaders)\n    let experience= this.getExperienceLeader(props.leaders)\n    this.setState({\n      mostMiles:miles,\n      mostRating:rating,\n      mostEarned:earner,\n      mostExperience:experience\n    })\n\n  }\n  getTotalMiles=(user)=>{\n    let totalMiles=0;\n    if(user.rides){\n      user.rides.map(r=>totalMiles+=r.distance)\n\n      return totalMiles\n    }\n  }\n  getTotalEarned=(user)=>{\n    let totalEarned=0\n    if(user.rides){\n      user.rides.map(r=>totalEarned+=r.price)\n      return totalEarned\n    }\n  }\n\n  getTotalTimeDriving=(user)=>{\n    let totalTime =0\n    if(user.rides){\n      user.rides.map(r=>{\n        let rideTime = r.end_at-r.started_at\n        return totalTime+=rideTime\n      })\n      return totalTime\n    }\n  }\n  getMileLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return this.getTotalMiles(usera)-this.getTotalMiles(userb)\n      })\n\n      return newUsers.reverse()[0]\n    }\n  }\n  getRatingLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return usera.rating-userb.rating\n      })\n    }\n    return newUsers.reverse()[0]\n  }\n  getExperienceLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return usera.experience-userb.experience\n      })\n    }\n\n    return newUsers.reverse()[0]\n  }\n\n  getTimeLeader=(users)=>{\n    if(users!==[]){\n      return users.sort((usera,userb)=>{\n        return this.getTimeLeader(usera)-this.getTimeLeader(userb)\n      })\n\n    }\n\n  }\n  getEarnerLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return this.getTotalEarned(usera)-this.getTotalEarned(userb)\n      })\n\n      return newUsers.reverse()[0]\n    }\n  }\n  renderUserTotals=()=>{\n    if(this.props.leaders){\n      return this.props.leaders.map((leader,idx)=>{\n\n        return (\n          <div key={idx}>\n            <h1>User:{leader.name}</h1>\n            <p>Miles: {this.getTotalMiles(leader)}</p>\n            <p>Total Earned:{this.getTotalEarned(leader)}</p>\n            <p>Total Time:{this.getTotalTimeDriving(leader)}</p>\n          </div>\n        )\n\n      })\n    }\n  }\n  handleUserClick=(e,user)=>{\n    // debugger\n    if (!user===this.props.currentUser){\n      return (\n        <Profile\n          user={user}\n          rides={this.props.rides}\n          forum={this.props.forums}\n          isCurrentUserProfile={false}\n          currentUser={this.props.currentUser}\n          allCompanies={this.props.allCompanies}\n          />\n      )\n    }\n    else{\n      return (\n        <Profile\n          user={user}\n          rides={this.props.rides}\n          forum={this.props.forums}\n          isCurrentUserProfile={true}\n          currentUser={this.props.currentUser}\n          allCompanies={this.props.allCompanies}\n          />\n      )\n\n    }\n  }\n  renderLeaderBoard=()=>{\n\n    if(this.props.leaders){\n\n      return (\n        <Fragment>\n          <div id='leaderboard col-12'>\n            <div className=\"list-group\" >\n              <Leader\n                title={'Highest Rating: '}\n                design={'list-group-item google-plus'}\n                icon={'icon glyphicon glyphicon-star'}\n                getUser={this.getRatingLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                superlative={'rating'}\n                />\n              <Leader\n                title={'Most Miles: '}\n                design={'list-group-item twitter'}\n                icon={'icon glyphicon glyphicon-road'}\n                getUser={this.getMileLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                getStat={this.getTotalMiles}\n                />\n              <Leader\n                title={'Highest Earner: '}\n                design={'list-group-item youtube'}\n                icon={'icon glyphicon glyphicon-usd'}\n                getUser={this.getEarnerLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                superlative={'money'}\n                getStat={this.getTotalEarned}\n                />\n              <Leader\n                title={'Most Experience: '}\n                design={'list-group-item tumblr'}\n                icon={'icon glyphicon glyphicon-hourglass'}\n                getUser={this.getExperienceLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                superlative={'experience'}\n                />\n            </div>\n          </div>\n        </Fragment>\n      )\n    }\n\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderLeaderBoard()}\n      </div>\n    )\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n\n\tfetchRides:() => dispatch(fetchRides()),\n\tfetchUsers:()=>dispatch(fetchUsers())\n})\nfunction mapStateToProps(state) {\n\n\tconst { user } = state;\n  const { rides} = state.rides;\n  return {\n    allCompanies:user.allCompanies,\n    rides: rides[0],\n    users:user.users[2],\n    currentUser:user.currentUser\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps) (Leaderboard)\n","import React from \"react\";\nimport Leaderboard from './Leaderboard.js'\nimport RideList from './RideList'\nimport { connect } from 'react-redux';\nimport {fetchUsers,fetchRides} from '../Actions';\n\n\n\nclass Rides extends React.Component {\n\n\n  state = {\n      allRides: this.props.rides,\n      filteredRides: this.props.rides,\n      users:[],\n      textInput: ''\n    }\n\n  componentDidMount(){\n    this.props.fetchRides();\n    this.props.fetchUsers();\n  }\n\n  UNSAFE_componentWillReceiveProps(){\n    this.setState({\n      users: this.props.users,\n      allRides: this.props.rides,\n      filteredRides: this.props.rides\n    })\n  }\n\n  returnDropdown = () => {\n    return (\n      <div className=\"\">\n      <form action=\"/action_page.php\">\n      <select name=\"cars\"\n      onChange={this.handleSortSubmit}\n      >\n        <option value=\"recent\">Most Recent</option>\n        <option value=\"price\">Price</option>\n        <option value=\"distance\">Distance</option>\n      </select>\n      <select name=\"cars\"\n      onChange={this.handleFilterSubmit}\n      >\n        <option value=\"all\">All</option>\n        <option value=\"uber\">Uber</option>\n        <option value=\"lyft\">Lyft</option>\n\n      </select>\n        <input\n         type=\"text\"\n         onChange={this.handleSearch}\n         value={this.state.textInput}\n         placeholder=\"Search by location\"\n         />\n         <form action=\"/action_page.php\">\n          <input type=\"radio\" name=\"gender\" value=\"friends\" onChange={(e) =>this.handleFriendFilter(e)}/> Friends\n          <input type=\"radio\" name=\"gender\" value=\"all\" onChange={this.handleChangeBack}/> All\n        </form>\n      </form>\n      </div>\n    )\n  }\n\n  handleChangeBack = () => {\n    this.setState({filteredRides: this.state.allRides})\n  }\n//this function is super javascripty//\n  handleFriendFilter = (e) => {\n    if(this.props.currentUser){\n\n      e.preventDefault()\n      let myFriends = this.props.currentUser.followers.map(follower => follower.id)\n      let filtered =[]\n      this.state.allRides.map((ride) =>\n      {\n        for (let i = 0; i < myFriends.length; i ++){\n          if (ride.user_id === myFriends[i] ){\n            return filtered.push(ride)\n          }\n        }\n        \n      }\n    )\n    this.setState({filteredRides: filtered})\n    }\n  }\n\n  handleSearch = (e) => {\n    this.setState({textInput: e.target.value})\n    let filtered = this.state.allRides.filter(ride =>\n       ride.start_location.toLowerCase().includes(e.target.value.toLowerCase())\n    || ride.end_location.toLowerCase().includes(e.target.value.toLowerCase()) )\n    this.setState({filteredRides: filtered})\n  }\n\n  handleSortSubmit = (e) => {\n    e.preventDefault()\n    if (e.target.value === \"distance\"){\n      let filtered = this.state.filteredRides.sort((a, b) => (a.distance < b.distance)? 1 : -1)\n      this.setState({filteredRides: filtered})\n    }\n    else if (e.target.value === \"price\"){\n      let filtered = this.state.filteredRides.sort((a, b) => (a.price < b.price)? 1 : -1)\n      this.setState({filteredRides: filtered})\n    }\n    //DID NOT TEST THIS YET\n    else if (e.target.value === \"recent\"){\n      let filtered = this.state.filteredRides.sort((a, b) => (a.end_at > b.end_at)? 1 : -1)\n      this.setState({filteredRides: filtered})\n    }\n    ////////\n  }\n\n  handleFilterSubmit = (e) => {\n    e.preventDefault()\n\n    if (e.target.value === \"all\"){\n      this.setState({filteredRides: this.state.allRides})\n    }\n\n    else if (e.target.value === \"uber\"){\n      let filtered = this.state.allRides.filter(ride => ride.company_id === 1)\n      this.setState({filteredRides: filtered})\n    }\n\n    else if (e.target.value === \"lyft\"){\n      let filtered = this.state.allRides.filter(ride => ride.company_id === 2)\n      this.setState({filteredRides: filtered})\n    }\n  }\n\n  render() {\n\n    return (\n      <>\n\n      <div className = \"container col-11\" id=\"rides-page\">\n        {this.props.users?\n\n        <Leaderboard\n          leaders={this.props.users}\n          allUsers={this.props.users}\n          user={this.props.currentUser}\n          forum={this.props.forums}\n          rides={this.props.rides}\n          allCompanies={this.props.allCompanies}\n          />\n        :     <h4>LOADING</h4>}\n\n        <RideList rides={this.state.filteredRides} displayDropdown={this.returnDropdown}/>\n        \n      </div>\n      </>\n    )\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n\n\tfetchRides:() => dispatch(fetchRides()),\n\tfetchUsers:()=>dispatch(fetchUsers())\n})\nfunction mapStateToProps(state) {\n\tconst { user } = state;\n  const { rides} = state.rides;\n  const {forums}= state.forums;\n  return {\n    allCompanies:user.allCompanies,\n    rides: rides,\n    forums:user.forums,\n    allForums: forums[0],\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps) (Rides)\n","import React from \"react\";\n\nimport { Link} from 'react-router-dom'\n\n\nimport { MDBContainer, MDBRow, MDBCol } from 'mdbreact';\nimport TextField from \"@material-ui/core/TextField\";\nimport { connect } from 'react-redux';\nimport {userLoginFetch} from '../Actions';\nimport { Form, Button } from 'semantic-ui-react'\nimport '../App.css';\n\n\nclass LoginForm extends React.Component {\n\n  state = {\n    username: \"\",\n    password: \"\",\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    if(newProps.currentUser){\n      this.props.history.push(`/profile`)\n    }\n  }\n\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleSubmit = () => {\n    this.props.userLoginFetch(this.state)\n\n\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"authBox\">\n\n          <MDBContainer  >\n            <MDBRow >\n              <MDBCol >\n                <Form onSubmit={this.handleSubmit}>\n                  <h1>Sign in</h1>\n\n                  <Form.Field>\n      \t\t\t\t\t\t\t<TextField\n      \t\t\t\t\t\t\t\tname=\"username\"\n      \t\t\t\t\t\t\t\tlabel=\"Username\"\n      \t\t\t\t\t\t\t\tvalue={this.state.username}\n      \t\t\t\t\t\t\t\tonChange={this.handleChange}\n                      style={{width:'50%'}}\n\n      \t\t\t\t\t\t\t\t/>\n      \t\t\t\t\t\t</Form.Field>\n\n                  <br />\n                    <Form.Field>\n        \t\t\t\t\t\t\t<TextField\n        \t\t\t          type='password'\n        \t\t\t          name=\"password\"\n        \t\t\t          label=\"Password\"\n        \t\t\t          value={this.state.password}\n        \t\t\t          onChange={this.handleChange}\n                        style={{width:'50%'}}\n\n        \t\t\t        />\n        \t\t\t\t\t\t</Form.Field>\n\n                  <div className=\"col text-center mt-4\" >\n                      <Button styel={{width:'60%'}} id=\"authbutton\" color=\"teal\" className='btn btn-primary' type=\"submit\">\n                        Login\n                      </Button>\n                      <Link to='/signup' id=\"authbutton\" className='btn btn-primary' color='teal'>\n                        Sign Up\n                      </Link>\n                  </div>\n                </Form>\n                <div className='text-center mt-4'>\n                  <p className='h5 text-center mb-4'>  </p>\n                </div>\n              </MDBCol>\n            </MDBRow>\n          </MDBContainer>\n\n        </div>\n\n      </div>\n    )\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n  userLoginFetch: userInfo => dispatch(userLoginFetch(userInfo))\n})\nfunction mapStateToProps(state) {\n  const {user} = state\n  return {\n    currentUser: user.currentUser\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n","import React from 'react';\n\nconst PasswordStr = props => {\n  var strColor;\n  var strWidth;\n\n  switch (props.score) {\n    case 1:\n      strColor = 'red';\n      strWidth = '20%';\n      break;\n    case 2:\n      strColor = 'orange';\n      strWidth = '40%';\n      break;\n    case 3:\n      strColor = 'yellow';\n      strWidth = '60%';\n      break;\n    case 4:\n      strColor = '#5cff47';\n      strWidth = '80%';\n      break;\n    case 5:\n      strColor = 'green';\n      strWidth = '100%';\n      break;\n    default:\n  }\n\n  var style = { backgroundColor: strColor, height: '5px', width: strWidth, transition: 'all 300ms ease-in-out' }\n\n  return (\n  <div>\n    <p className=\"pwStrWeak\">weak</p>\n    <p className=\"pwStrStrong\">strong</p>\n    <div style={style} />\n  </div>\n  );\n\n}\n\nexport default PasswordStr;\n","import React from 'react'\nimport { connect } from 'react-redux';\nimport {Link} from 'react-router-dom'\n\n\n//library imports\nimport TextField from \"@material-ui/core/TextField\";\nimport { Form, Button } from 'semantic-ui-react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEye } from '@fortawesome/free-solid-svg-icons'\n\n\nimport {createUser} from '../Actions';\n\nimport PasswordStr from \"./PasswordStr\";\nconst zxcvbn = require(\"zxcvbn\");\n\n\n\n\nclass SignupForm extends React.Component {\n\tstate = {\n\t\tname: \"\",\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\tpasswordConfirmation: \"\",\n\t\tbtnTxt: \"show\",\n    type: \"password\",\n    score: \"0\",\n\t\terrors:{},\n\t}\n\n\tUNSAFE_componentWillReceiveProps(newProps) {\n\t\tif(newProps.currentUser){\n\t\t\tthis.props.history.push(`/profile`)\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n\t}\n\n\tpwHandleChange=(event)=> {\n\n\n\t\tthis.setState({\n\t\t\tpassword:event.target.value\n\t\t});\n\n\t\tif (event.target.value === \"\") {\n\t\t\tthis.setState(state =>\n\t\t\t\tObject.assign({}, state, {\n\t\t\t\t\tscore: \"null\"\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\n\t\t\tlet pw = zxcvbn(event.target.value);\n\t\t\tthis.setState(state =>\n\t\t\t\tObject.assign({}, state, {\n\t\t\t\t\tscore: pw.score + 1\n\t\t\t\t})\n\t\t\t);\n\t\t}\n}\n\n\n\thandleSubmit = () => {\n\t\tif(this.state.password === this.state.passwordConfirmation){\n\t\t\tthis.props.createUser(this.state)\n\t\t} else {\n\t\t\talert(\"Passwords don't match!\")\n\t\t}\n\t}\n\n\tpwMask=(event) =>{\n\t event.preventDefault();\n\t this.setState(state =>\n\t\t Object.assign({}, state, {\n\t\t\t type: this.state.type === \"password\" ? \"input\" : \"password\",\n\t\t\t btnTxt: this.state.btnTxt === \"show\" ? \"hide\" : \"show\"\n\t\t })\n\t );\n }\n\n\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"container\">\n\n\t\t\t\t<div className=\"authBox\">\n\t\t\t\t\t<h1>Sign Up</h1>\n\n\t\t\t\t\t<Form className='col' onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\tvalue={this.state.username}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t          type={this.state.type}\n\t\t\t          name=\"password\"\n\t\t\t          label=\"Password\"\n\t\t\t          value={this.state.password}\n\t\t\t          onChange={this.pwHandleChange}\n\t\t\t          errorText={this.state.errors.password}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\n\t\t\t        />\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<FontAwesomeIcon id=\"pwShowHideBtn\" onClick={this.pwMask} icon={faEye} />\n\n\n\t\t\t\t\t\t<div className=\"pwStrRow\">\n\t\t          {this.state.score >= 1 ? (\n\t\t            <div>\n\t\t              <PasswordStr score={this.state.score} />\n\n\n\t\t            </div>\n\t\t\t\t\t\t\t):null}\n\t\t        </div>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\ttype={this.state.type}\n\t\t\t\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\t\t\t\tlabel=\"Confirm Pssword\"\n\t\t\t\t\t\t\t\tvalue={this.state.passwordConfirmation}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\terrorText={this.state.errors.pwconfirm}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<Button className='btn btn-primary' color=\"teal\" style={{width:'60%',}} type='submit'>Submit</Button>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t</Form>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<p> Aleady have an account? <br />\n\t\t\t\t\t\t<Link to='/login'>\n\t\t\t\t\t\t\tLogin Here!\n\n\t\t\t\t\t\t</Link>\n\t\t      </p>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n// <input type=\"file\" onChange={this.fileSelectedHandler}/>\n// <button onClick={this.fileUploadHandler}></button>\nfunction mapStateToProps(state) {\n  // maps the state from the store to the props\n  const {user} = state\n  return {\n    currentUser: user.currentUser\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  createUser: userInfo => dispatch(createUser(userInfo))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupForm);\n","import React, {Component, Fragment} from 'react'\nimport {connect} from 'react-redux'\n\nimport {postNewMessage,fetchUsers,fetchForumMessages,resetMessages} from '../Actions.js'\n\n\nclass ChatBox extends Component{\n\n  constructor(props){\n\n    super(props)\n\n    this.state = {\n      formInput: '',\n      currentUser: this.props.currentUser,\n      currentChat: this.props.currentChat,\n      messages:[],\n    }\n  }\n\n  componentDidMount(){\n    this.props.fetchUsers();\n\n    this.setState({messages:this.props.messages})\n\n\n\n  }\n\n\n  UNSAFE_componentWillReceiveProps(newProps){\n\n\n      // nextProps.myProp has a different value than our current prop\n      // so we can perform some calculations based on the new value\n      this.setState({messages:newProps.messages})\n\n  }\n\n  renderMessages = (messages) => {\n    if (this.props.users){\n\n      return messages.map((m,idx)=>{\n\n        let messageName =this.props.users.find(user=> user.id === m.user_id).name\n        return (\n            <div key={idx} className=\"incoming_msg\">\n              <div className=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> </div>\n              <div className=\"received_msg\">\n                <div className=\"received_withd_msg\">\n                  <p>\n                    {m.content}\n                  </p>\n                  <span className=\"time_date\">  {messageName ? messageName : 'NotFound'}   |  {m.created_at}  </span></div>\n                </div>\n              </div>\n          )\n        })\n\n    }\n\n\n\n\n  }\n\n  handleClose = () => {\n    this.props.resetMessages()\n    this.props.closeChat()\n  }\n\n  handleInput = (e) => {\n    this.setState({formInput: e.target.value})\n  }\n\n  handleMessageSubmit = () => {\n\n    this.props.postNewMessage(this.props.currentUser,this.state.formInput,this.state.currentChat)\n    this.setState({formInput: ''})\n\n  }\n\n  addNewMessage = (r) => {\n    let copy = [...this.state.messages, r]\n    this.setState({messages: copy,formInput:''})\n\n  }\n\n  render(){\n    // debugger\n    return (\n      <Fragment>\n      <div id=\"chatbox\">\n      <h3 className=\" text-center\">{this.props.currentChat? this.props.currentChat.topic:null} Messaging</h3>\n      <div className=\"messaging\">\n            <div className=\"inbox_msg\">\n              <div >\n              <button onClick={() => this.handleClose()}>Close Chat</button>\n                <div className=\"headind_srch\">\n                </div>\n              </div>\n              <div className=\"mesgs\">\n                <div className=\"msg_history\">\n                {this.renderMessages(this.props.messages)}\n                </div>\n                <div className=\"type_msg\">\n                  <div className=\"input_msg_write\">\n                    <input type=\"text\" className=\"write_msg\" placeholder=\"Type a message\" value={this.state.formInput} onChange={(e) => this.handleInput(e)}/>\n                    <button className=\"msg_send_btn\" type=\"button\" onClick={() => this.handleMessageSubmit()}><i className=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i>Send!</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <p className=\"text-center top_spac\"> Design by <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://brianjmurillo.com\">Brian Murillo</a></p>\n          </div></div>\n      </Fragment>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  fetchUsers:()=>dispatch(fetchUsers()),\n  fetchForumMessages:(forum)=>dispatch(fetchForumMessages(forum)),\n  postNewMessage:(user,forum,message)=>dispatch(postNewMessage(user,forum,message)),\n  resetMessages:()=>dispatch(resetMessages()),\n\n})\n\nfunction mapStateToProps(state){\n  const {user}= state;\n  const {forums} = state\n\n  return {\n    users:user.users,\n    messages:forums.messages\n\n  }\n}\n\nexport default connect (mapStateToProps,mapDispatchToProps)(ChatBox)\n","//import react\nimport React from \"react\";\nimport { connect } from 'react-redux';\n\n// import libraries\n\n//import components\nimport ForumsList from './ForumsList.js'\nimport ChatBox from './ChatBox.js'\nimport NotLoggedIn from './NotLoggedIn.js'\n\n\n//import actions\nimport {fetchForums,fetchUsers,fetchForumMessages}from '../Actions.js'\n\n\n\nclass ForumsPage extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      allForums: null,\n      clickedForum: null,\n      openChat: false\n    }\n  }\n\n  componentDidMount(){\n\n    this.props.fetchForums();\n    this.props.fetchUsers();\n  }\n\n  handleForumClick = (e,topic) => {\n\n\n    let forum = this.props.forums.find(f => f.topic === topic)\n    // debugger\n    if(forum){\n\n      this.props.fetchForumMessages(forum)\n    }\n\n    this.setState({clickedForum: topic,openChat:true})\n  }\n\n  closeChat = () => {\n    this.setState({openChat: false})\n  }\n  renderPage = ()=>{\n    return (\n      <>\n      <div id=\"forum-list\">\n        <h3>Click on a Forum To Chat</h3>\n      {!this.state.openChat ? <ForumsList handleForumClick={this.handleForumClick} forums={this.props.allForums}/> :\n       <ChatBox\n      currentUser={this.props.currentUser}\n      closeChat={this.closeChat}\n      currentChat={this.props.forums.find(forum => forum.topic === this.state.clickedForum)}\n      />\n  }\n    </div>\n    </>\n\n    )\n  }\n\n\n  render(){\n    return (\n      <div className=\"container\">\n        {this.props.currentUser ? this.renderPage() : <NotLoggedIn/>}\n      </div>\n\n    )\n  }\n\n}\nconst mapDispatchToProps = dispatch => ({\n\tfetchUsers:()=>dispatch(fetchUsers()),\n  fetchForums:()=>dispatch(fetchForums()),\n  fetchForumMessages:(f)=>dispatch(fetchForumMessages(f)),\n\n})\n\nfunction mapStateToProps(state) {\n\tconst { user } = state;\n  const {forums}=state.forums;\n\n\n  return {\n    allCompanies:user.allCompanies,\n    rides:user.rides,\n    forums:forums[0],\n    allForums:forums[0],\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps) (ForumsPage)\n","import React from \"react\";\nimport {connect} from 'react-redux'\nimport FriendsBox from './friends-box.js'\nimport {fetchUsers} from '../Actions.js'\n\n\nclass DiscoverPage extends React.Component {\n  componentDidMount(){\n    this.props.fetchUsers()\n  }\n  renderFriendsBox(){\n    //if logged in dont render the logged in user to the DiscoverPage\n    // so you cant see yourself on page\n    //if not logged in render all the users\n    if(this.props.currentUser){\n      return (<>\n        <FriendsBox followers={\n            this.props.users.filter(u=>u.id!==this.props.currentUser.id)\n          }/>\n          </>)\n\n    }else{\n      return (<>\n        <FriendsBox followers={\n            this.props.users\n          }/>\n          </>)\n\n\n    }\n  }\n  render() {\n    return (\n      <div className=\"container\">\n\n        <div id=\"discoverpage\">\n          {this.props.users?this.renderFriendsBox():\n            <div className='authBox'>\n              <h3>Loading..</h3>\n            </div>\n            }\n        </div>\n\n      </div>\n\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n\n\tconst { user } = state;\n\n\n  return {\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\n\nconst mapDispatchToProps=dispatch=>({\n  fetchUsers:()=>dispatch(fetchUsers()),\n\n})\n\n\nexport default connect(mapStateToProps,mapDispatchToProps) (DiscoverPage)\n","import React from 'react';\nimport {  Route,Switch, Redirect} from 'react-router-dom'\n\nimport { connect } from 'react-redux';\n\nimport {Grid} from 'semantic-ui-react'\n\nimport Header from './Components/Header.js'\nimport Rides from './Components/Rides.js'\nimport LoginForm from './Components/LoginForm.js'\nimport SignupForm from './Components/SignupForm.js'\nimport ForumsPage from './Components/ForumsPage.js'\nimport DiscoverPage from './Components/DiscoverPage.js'\nimport NotLoggedIn from './Components/NotLoggedIn.js'\n\nimport Profile from './Components/Profile.js'\nimport {fetchUser,getProfileFetch, setLogout,fetchUsers,fetchRides,fetchForums,fetchCompanies} from './Actions';\n\nimport './App.css';\n\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n    this.props.getProfileFetch();\n\t\tthis.props.fetchRides();\n\t\tthis.props.fetchUsers();\n\t\tthis.props.fetchForums();\n\n\t}\n\trenderUserPage=()=>{\n\t\treturn (\n\t\t <>\n\t\t <Route path=\"/users/:id\" exact render={(props) => {\n\t\t\t\t debugger\n\n\t\t\t\t let paramid = parseInt(props.match.params.id)\n\t\t\t\t if(this.props.currentUser){\n\n\t\t\t\t\t  // debugger\n\t\t\t\t\t\tif(paramid !== this.props.currentUser.id){\n\t\t\t\t\t\t\tlet userFromParams = this.props.users.find(u => u.id === paramid )\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t <Profile\n\t\t\t\t\t\t\t\t {...props}\n\t\t\t\t\t\t\t\t allCompanies={this.props.allCompanies}\n\t\t\t\t\t\t\t\t currentUser={this.props.currentUser}\n\t\t\t\t\t\t\t\t user={userFromParams}\n\t\t\t\t\t\t\t />)\n\t\t\t\t\t }else{\n\n\t\t\t\t\t }\n\t\t\t\t }\t}} />\n\t\t\t </>\n\t )\n }\n renderPage=(rout)=>{\n\t let paramid = parseInt(rout.match.params.id)\n\t if(this.props.currentUser){\n\n\n\t\t\tif(paramid !== this.props.currentUser.id){\n\t\t\t\tif(this.props.users){\n\n\t\t\t\t\tlet userFromParams = this.props.users.find(u => u.id === paramid )\n\t\t\t\t\t\n\t\t\t\t\tthis.props.fetchUser(userFromParams)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\t{...rout}\n\t\t\t\t\t\t\tallCompanies={this.props.allCompanies}\n\t\t\t\t\t\t\tisCurrentUserProfile={false}\n\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\n\t\t\t\t\t\t\tuser={userFromParams}\n\t\t\t\t\t\t\t/>)\n\t\t\t\t}\n\t\t }\n\t }\n\t else{\n\n\t\t if(this.props.users){\n\t\t\t//  let userFromParams = this.props.users.find(u => u.id === paramid )\n\t\t\t // this.props.fetchUser(userFromParams)\n\t\t\t // <Profile\n\t\t\t\t//  {...rout}\n\t\t\t\t//  isCurrentUserProfile={false}\n\t\t\t\t//  user={userFromParams}\n\t\t\t\t//  />\n\t\t\t return (\n\t\t\t\t <NotLoggedIn/>\n\t\t\t )\n\n\t\t }\n\t }\n\n }\n\trenderProfileRoute=()=>{\n\t  return (\n\t\t\t<>\n\t    <Route path=\"/users/:id\" exact render={(props) => {\n\t        let id = parseInt(props.match.params.id)\n\t      if(this.props.currentUser){\n\t        // debugger\n\t        if(id !== this.props.currentUser.id){\n\t          let ourUser = this.props.users.find(u => u.id === id )\n\t          return (\n\t            <Profile\n\t              {...props}\n\t              allCompanies={this.props.allCompanies}\n\t              currentUser={this.props.currentUser}\n\t              user={ourUser}\n\t            />\n\t          )\n\t        }\n\t        else {\n\n\t          return (\n\t            <Profile\n\t              {...props}\n\t              allCompanies={this.props.allCompanies}\n\t              currentUser={this.props.currentUser}\n\t              user={this.props.currentUser}\n\n\t            />\n\t          )\n\t        }}\n\t    }}/>\n\t\t</>\n\n\t  )\n\n\t}\n\n\n\n  render() {\n\n    return (\n      <>\n      <Grid>\n        <Header history={this.props.history}  currentUser={this.props.currentUser} />\n        <Grid.Row centered>\n          <Switch>\n\t\t\t\t\t\t<Route path=\"/login\" render={routerProps => <LoginForm {...routerProps} setCurrentUser={this.props.setCurrentUser} />} />\n\t\t\t\t\t\t<Route path=\"/profile\" render={routerProps =>{\n\t\t\t\t\t\t\t\tif(this.props.currentUser){\n\t\t\t\t\t\t\t\t\tthis.props.fetchUser(this.props.currentUser)\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Profile {...routerProps} allCompanies={this.props.allCompanies}\t isCurrentUserProfile={false} currentUser={this.props.currentUser} user={this.props.currentUser} />\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\t\treturn (\n\n\t\t\t\t\t\t\t\t\t\t<Route path=\"/\" />\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path=\"/user/:id\" render={(routerProps) =>\n\t\t\t\t\t\t\t\t\tthis.renderPage(routerProps)\t\t\t\t\t\t} />\n\n\t\t\t\t\t\t<Route path=\"/discover\" component={DiscoverPage} />\n\n            <Route path=\"/forums\" component={ForumsPage} />\n            <Route path=\"/rides\" component={Rides} />\n\t\t\t\t\t\t<Route path=\"/signup\" render={routerProps => <SignupForm {...routerProps} setCurrentUser={this.props.setCurrentUser} />} />\n\n\t\t\t\t\t\t{!this.props.currentUser ?\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/login\" />\n\t\t\t\t\t\t\t:<>\n\t\t\t\t\t\t\t<Redirect from={'/user/'+this.props.currentUser.id} to=\"/profile\"/>\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/profile\" /></>\n\n\t\t\t\t\t\t }\n\n\n\n          </Switch>\n        </Grid.Row>\n      </Grid>\n      </>\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  getProfileFetch: () => dispatch(getProfileFetch()),\n  setLogout: () => dispatch(setLogout()),\n\tfetchRides:() => dispatch(fetchRides()),\n\tfetchForums:() => dispatch(fetchForums()),\n\tfetchUsers:()=>dispatch(fetchUsers()),\n\tfetchCompanies:()=>dispatch(fetchCompanies()),\n\tfetchUser:(u)=>dispatch(fetchUser(u)),\n\n})\nfunction mapStateToProps(state) {\n  // maps the state from the store to the props\n\t// debugger\n\tconst { user } = state;\n  const { rides} = state.rides;\n  const {forums}= state.forums;\n\n  return {\n    allCompanies:user.allCompanies,\n    rides: rides,\n    forums:forums[0],\n    allForums: forums[0],\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// import {push} from 'react-router-redux';\n\nimport {\n   SET_ALL_FOLLOWING,ADD_FOLLOWING,\n  REMOVE_FOLLOWING,FETCH_ALL_FRIENDSHIPS,ADD_USER,\n  LOGIN_USER,ADD_FOLLOWER,REMOVE_FOLLOWER,SET_USER,\n  FETCH_ALL_USERS,FETCH_ALL_COMPANIES,LOGOUT_USER,\n  ADD_FRIENDSHIP,REMOVE_FRIENDSHIP} from '../Constants';\n\n\nconst initialUserState = {\n  users: [],\n  allCompanies:[],\n  forums:[],\n  rides: [],\n  allForums:[],\n  friendships: [],\n  followers:[],\n  following:[],\n  userProfile:null,\n  currentUser: null\n\n};\n\nexport default function userReducer(state = initialUserState, action) {\n  switch(action.type) {\n    case ADD_USER:\n      return { ...state, users: [...state.users, action.payload] };\n    case \"RESET\":\n      return initialUserState;\n    case FETCH_ALL_COMPANIES:\n      return {...state,allCompanies:action.payload}\n    case LOGIN_USER:\n\n      return {...state,currentUser:action.payload};\n    case FETCH_ALL_USERS:\n      return{...state,users:action.payload}\n\n    case ADD_FOLLOWER:\n      return {...state,\n        currentUser:{\n          ...state.currentUser,\n          followers:[...state.currentUser.followers,\n            action.payload]\n          }\n        }\n\n    case REMOVE_FOLLOWER:\n    let removeFollowers = state.currentUser.followers.filter(val => val.id !== action.payload.id);\n    return {...state,currentUser:{...state.currentUser,followers:removeFollowers}}\n\n    case SET_ALL_FOLLOWING:\n      return {...state,following:action.payload}\n    case ADD_FOLLOWING:\n\n      return {...state,\n        currentUser:{\n          ...state.currentUser,\n          following:[...state.currentUser.following,\n            action.payload]\n          }\n        }\n\n    case REMOVE_FOLLOWING:\n      let removeFollowing = state.currentUser.following.filter(val => val.id !== action.payload.id);\n      return {...state,currentUser:{...state.currentUser,following:removeFollowing}}\n    case LOGOUT_USER:\n      return {...state, currentUser: null }\n    case SET_USER:\n\n      return {...state,userProfile:action.payload}\n    case FETCH_ALL_FRIENDSHIPS:\n      return {...state,friendships:action.payload}\n    case ADD_FRIENDSHIP:\n      return {...state,friendships:[...state.friendships,action.payload]}\n    case REMOVE_FRIENDSHIP:\n      let removeFriendship = state.friendships.filter(val=>val.id!==action.payload.id)\n      return {...state,friendships:removeFriendship}\n\n    default:\n      return state;\n  }\n}\n","\n\nimport {RESET_MESSAGES,FETCH_ALL_FORUMS,FETCH_ALL_FORUM_MESSAGES,ADD_FORUM_MESSAGE} from '../Constants';\n\n\nconst initialForumsState = {\n\n  forums: [],\n  messages:[]\n\n\n};\n\nexport default function forumsReducer(state = initialForumsState, action) {\n  switch(action.type) {\n    case FETCH_ALL_FORUMS:\n      return { ...state, forums: [...state.forums, action.payload] };\n    case ADD_FORUM_MESSAGE:\n      return {...state,messages:[...state.messages,action.payload]};\n    case FETCH_ALL_FORUM_MESSAGES:\n   \n      return {...state,messages:action.payload}\n    case RESET_MESSAGES:\n      return {...state,messages:[]}\n\n\n\n\n    default:\n      return state;\n  }\n}\n","\n\nimport {FETCH_ALL_RIDES,ADD_RIDE} from '../Constants';\n\n\nconst initialRidesState = {\n\n  rides: [],\n\n\n};\n\nexport default function ridesReducer(state = initialRidesState, action) {\n  switch(action.type) {\n    case FETCH_ALL_RIDES:\n      return { ...state, rides:action.payload };\n\n    case ADD_RIDE:\n      return {...state, rides:[...state.rides,action.payload]}\n\n\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport {  routerReducer } from 'react-router-redux'\nimport userReducer from './userReducer';\nimport forumsReducer from './forumsReducer';\nimport ridesReducer from './ridesReducer';\n\nexport default combineReducers({\n  // currentUser:userReducer.currentUser,\n  user: userReducer,\n  rides: ridesReducer,\n  forums: forumsReducer,\n   routing: routerReducer,\n})\n","import rootReducer from './Reducers'; // trick with imports\nimport thunk from 'redux-thunk';\n\nimport { createStore, applyMiddleware } from 'redux';\n// import { routerMiddleware } from 'react-router-redux'\n// import {  browserHistory } from 'react-router'\n\n// const middleware = routerMiddleware(browserHistory)\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { Provider } from 'react-redux';\nimport store from './store'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <Route path=\"/\" component={App} />\n    </Router>\n  </Provider>, document.getElementById('root')\n);\n\n\n//\n// ReactDOM.render(\n//     <Provider store={store}>\n//       <Router  history={history}>\n//         <App/>\n//       </Router>\n//     </Provider>,\n//   document.getElementById('root'));\n\n// ReactDOM.render(\n//     <Provider store={store}>\n//       <Router history={history}>\n//         <Route path=\"/\" component={App}>\n//           <Route path=\"login\" component={LoginForm}/>\n//         </Route>\n//       </Router>\n//     </Provider>,\n//     document.querySelector('#root')\n//   )\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}