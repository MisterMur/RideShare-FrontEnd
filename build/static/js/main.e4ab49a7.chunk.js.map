{"version":3,"sources":["Constants.js","Actions.js","Components/Header.js","Components/ProfileCard.js","Components/Ride.js","Components/RideList.js","Components/Forum.js","Components/ForumsList.js","Components/Modal.js","Components/FollowerCard.js","Components/friends-box.js","Components/NotLoggedIn.js","Components/Profile.js","Components/Leader.js","Components/Leaderboard.js","Components/Rides.js","Components/LoginForm.js","Components/PasswordStr.js","Components/SignupForm.js","Components/ChatBox.js","Components/ForumsPage.js","Components/DiscoverPage.js","App.js","serviceWorker.js","Reducers/userReducer.js","Reducers/forumsReducer.js","Reducers/ridesReducer.js","Reducers/index.js","store.js","index.js"],"names":["prodURL","USERURL","COMPANYURL","RIDEURL","FRIENDSHIPURL","FORUMSURL","LOGINURL","AUTOLOGINURL","MESSAGEURL","ADD_USER","LOGIN_USER","LOGOUT_USER","REMOVE_FOLLOWER","ADD_FOLLOWER","ADD_FOLLOWING","REMOVE_FOLLOWING","FETCH_ALL_RIDES","ADD_RIDE","FETCH_ALL_FORUMS","FETCH_ALL_USERS","FETCH_ALL_COMPANIES","FETCH_CURRENT_USER","FETCH_ALL_FORUM_MESSAGES","SET_USER","FETCH_ALL_FRIENDSHIPS","REMOVE_FRIENDSHIP","ADD_FRIENDSHIP","SET_ALL_FOLLOWING","ADD_FORUM_MESSAGE","RESET_MESSAGES","setLoggedInUser","src","type","payload","fetchCurrentUser","user","dispatch","fetch","concat","id","then","res","json","current","fetchUsers","handleErrors","users","fetchUser","resUser","fetchCompanies","companies","fetchRides","rides","fetchForumMessages","forum","f","messages","fetchForums","forums","fetchFollowing","following","fetchFriendships","friendships","postNewRide","ride","method","headers","Content-Type","Accepts","body","JSON","stringify","r","postNewMessage","currentUser","content","user_id","forum_id","mes","postNewFriendship","follower","followed","friendship","follower_id","followed_id","addFriendship","unfollow","find","removeFriendship","setLogout","localStorage","removeItem","response","ok","Error","statusText","Header","_React$Component","Object","inherits","_super","_createSuper","props","_this","classCallCheck","this","call","closeNav","setState","navExpanded","setNavExpanded","expanded","logout","renderProfileLink","react_default","a","createElement","react_router_dom","to","renderLogout","Fragment","NavItem","onClick","history","push","className","renderLoginSignup","renderNav","Navbar","bg","expand","fixedtop","ref","e","_navbar","onToggle","state","inverse","fluid","Toggle","aria-controls","Collapse","Nav","data-bs-toggle","renderHeader","navHeight","handleResize","bind","assertThisInitialized","createClass","key","value","arguments","length","undefined","ReactDOM","findDOMNode","offsetHeight","window","addEventListener","removeEventListener","React","Component","connect","ProfileCard","handleHover","image_url","alt","name","onMouseOver","car","experience","rating","map","company","location","Ride","Ride_createSuper","_len","args","Array","_key","apply","formatDate","date","year","slice","month","day","hour","min","ampm","parseInt","react","scope","idx","distance","started_at","end_at","price","start_location","end_location","RideList","displayDropdown","displayAddRide","Components_Ride","colspan","Forum","Forum_createSuper","topic","handleForumClick","ForumList","array","filter","i","findIndex","Components_Forum","style","align","justify","renderForum","Modal","Modal_createSuper","nameValue","experienceValue","ratingValue","locationValue","carValue","userCompanies","companiesValue","options","selectedFile","handleCheckBox","allCompanies","c","fileUploadHandler","event","preventDefault","fd","FormData","append","axios","post","data","fileSelectedHandler","target","files","onChange","checked","pop","renderCheckBoxes","companyIds","Checkbox","label","includes","handleEditFormChange","defineProperty","renderEditModal","modal","lib_default","isOpen","onAfterOpen","handleAfterOpen","onRequestClose","handleAfterClose","shouldCloseOnEsc","shouldCloseOnOverlayClick","ariaHideApp","background","contentLabel","Form","for","Field","TextField","width","handleSubmit","u","FollowerCard","FollowerCard_createSuper","getProfileLink","renderFollowCard","handleUserClick","react_ui_cards","height","backgroundSize","backgroundPosition","float","header","avatar","positionName","stats","photos","productName","description","renderCard","Card","Img","variant","Body","Title","Text","Button","FriendsBox","_Component","friends_box_createSuper","Components_Profile","assign","followerCards","followers","Components_FollowerCard","NotLoggedIn","color","ProgressBar","_ref","progress","transform","Profile","Profile_createSuper","handleEdit","patchEditProfile","handleDelete","clickedForum","openChat","renderModal","Components_Modal","userData","accepts","content-type","handleFollow","prevState","isFollowing","handleUnFollow","renderProfileCard","Components_ProfileCard","renderEditButton","data-toggle","data-target","renderFollowButton","renderUserRides","userProfile","Components_RideList","renderUserForums","ForumsList","handleAddRideChange","objectSpread","handleAddRide","company_id","alert","renderAllCompanySelect","placeholder","renderFollowerFollowingBox","ReactSlideToggle_esm_es2015","duration","collapsed","whenReversedUseBackwardEase","render","_ref2","toggle","setCollapsibleElement","range","toggleState","Profile_ProgressBar","friends_box","_ref3","renderPage","editedUser","isCurrentUserProfile","newProps","followList","Components_NotLoggedIn","allForums","d","follow","Leader","Leader_createSuper","getUser","handleClick","superlative","design","icon","title","getStat","Leaderboard","Leaderboard_createSuper","getTotalMiles","totalMiles","getTotalEarned","totalEarned","getTotalTimeDriving","totalTime","rideTime","getMileLeader","newUsers","toConsumableArray","sort","usera","userb","reverse","getRatingLeader","getExperienceLeader","getTimeLeader","getEarnerLeader","renderUserTotals","leaders","leader","renderLeaderBoard","Components_Leader","mostMiles","mostRating","mostEarned","mostTime","mostExperience","miles","earner","Rides","Rides_createSuper","allRides","filteredRides","textInput","returnDropdown","action","handleSortSubmit","handleFilterSubmit","handleSearch","handleFriendFilter","handleChangeBack","myFriends","filtered","toLowerCase","b","Components_Leaderboard","allUsers","LoginForm","LoginForm_createSuper","username","password","handleChange","userLoginFetch","mdbreact_esm","onSubmit","Button_Button","styel","userInfo","errors","setItem","jwt","PasswordStr","strColor","strWidth","score","backgroundColor","transition","zxcvbn","require","SignupForm","SignupForm_createSuper","passwordConfirmation","btnTxt","pwHandleChange","pw","createUser","pwMask","errorText","index_es","faEye","Components_PasswordStr","pwconfirm","login_data","error","ChatBox","ChatBox_createSuper","renderMessages","m","messageName","created_at","handleClose","resetMessages","closeChat","handleInput","formInput","handleMessageSubmit","currentChat","addNewMessage","copy","_this2","aria-hidden","rel","href","message","ForumsPage","ForumsPage_createSuper","Components_ChatBox","DiscoverPage","DiscoverPage_createSuper","renderFriendsBox","App","App_createSuper","renderUserPage","react_router","path","exact","paramid","match","params","userFromParams","rout","renderProfileRoute","ourUser","getProfileFetch","Grid","Components_Header","Row","centered","routerProps","Components_LoginForm","setCurrentUser","component","Components_SignupForm","from","getItem","Authorization","Boolean","hostname","initialUserState","initialForumsState","initialRidesState","combineReducers","removeFollowers","val","removeFollowing","routing","routerReducer","store","createStore","rootReducer","applyMiddleware","thunk","es","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e4ab49a7.chunk.js","sourcesContent":["//development vals\nexport const prodURL = 'https://ride-share-api.herokuapp.com/api/v1/'\n// export const prodURL = 'http://localhost:3000/api/v1/'\n\n\nexport const USERURL=prodURL+'users/'\nexport const COMPANYURL=prodURL+'companies/'\nexport const RIDEURL=prodURL+'rides/'\nexport const FRIENDSHIPURL=prodURL+'friendships/'\nexport const FORUMSURL = prodURL+'forums/'\nexport const LOGINURL = prodURL+'login/'\nexport const AUTOLOGINURL = prodURL+'auto_login/'\nexport const MESSAGEURL = prodURL+'messages/'\n\n\n// export  const COMPANYURL = 'http://ride-share-api.herokuapp.com/api/v1/companies/'\n// export  const RIDEURL = 'http://ride-share-api.herokuapp.com/api/v1/rides/'\n// export const FRIENDSHIPURL = 'http://ride-share-api.herokuapp.com/api/v1/friendships'\n\nexport const ADD_USER='ADD_USER'\nexport const LOGIN_USER='LOGIN_USER'\nexport const LOGOUT_USER='LOGOUT_USER'\nexport const REMOVE_FOLLOWER='REMOVE_FOLLOWER'\nexport const ADD_FOLLOWER='ADD_FOLLOWER'\nexport const ADD_FOLLOWING='ADD_FOLLOWING'\nexport const REMOVE_FOLLOWING='REMOVE_FOLLOWING'\nexport const FETCH_ALL_RIDES='FETCH_ALL_RIDES'\nexport const ADD_RIDE='ADD_RIDE'\nexport const FETCH_ALL_FORUMS='FETCH_ALL_FORUMS'\nexport const FETCH_ALL_USERS='FETCH_ALL_USERS'\nexport const FETCH_ALL_COMPANIES='FETCH_ALL_COMAPNIES'\nexport const FETCH_CURRENT_USER='FETCH_CURRENT_USER'\nexport const FETCH_ALL_FORUM_MESSAGES='FETCH_ALL_FORUM_MESSAGES'\nexport const SET_USER='SET_USER'\nexport const FETCH_ALL_FRIENDSHIPS='FETCH_ALL_FRIENDSHIPS'\nexport const REMOVE_FRIENDSHIP='REMOVE_FRIENDSHIP'\nexport const ADD_FRIENDSHIP='ADD_FRIENDSHIP'\nexport const SET_ALL_FOLLOWING='SET_ALL_FOLLOWING'\nexport const ADD_FORUM_MESSAGE='ADD_FORUM_MESSAGE'\nexport const RESET_MESSAGES='RESET_MESSAGES'\n","import UUID from 'uuid';\nimport {ADD_FORUM_MESSAGE,SET_ALL_FOLLOWING,ADD_FOLLOWING,ADD_RIDE,\n  REMOVE_FOLLOWING,FETCH_ALL_FRIENDSHIPS,AUTOLOGINURL,MESSAGEURL,\n  SET_USER,FORUMSURL,COMPANYURL, RIDEURL,FRIENDSHIPURL ,\n  FETCH_ALL_FORUM_MESSAGES,FETCH_CURRENT_USER,FETCH_ALL_COMPANIES,\n  ADD_USER,USERURL ,LOGIN_USER,LOGINURL,\n  LOGOUT_USER,FETCH_ALL_RIDES,FETCH_ALL_FORUMS,FETCH_ALL_USERS,\n  RESET_MESSAGES,ADD_FRIENDSHIP,REMOVE_FRIENDSHIP,\n} from './Constants';\n// import AnimalAdapter from './apis/AnimalAdapter';\n\nexport function addUser(name, email) {\n  return {\n    type: ADD_USER,\n    payload: { id: UUID(), name, email }\n  }\n}\n\n\nexport function logoutUser()  {\n  return {\n\n    type: LOGOUT_USER\n  }\n}\nexport function addRide(src){\n  return {\n    type:ADD_RIDE,\n    payload:src\n  }\n}\nexport function setAllRides(src) {\n  return {\n    type: FETCH_ALL_RIDES,\n    payload: src\n  }\n}\nexport function setAllForums(src){\n  return {\n    type: FETCH_ALL_FORUMS,\n    payload:src\n  }\n}\nexport function setAllUsers(src){\n  return {\n    type: FETCH_ALL_USERS,\n    payload:src\n  }\n}\nexport function setUser(src){\n  return {\n    type: SET_USER,\n    payload:src\n  }\n}\nexport function setAllCompanies(src){\n  return {\n    type: FETCH_ALL_COMPANIES,\n    payload:src\n  }\n}\nexport function setAllForumMessages(src){\n  return {\n    type:FETCH_ALL_FORUM_MESSAGES,\n    payload:src\n  }\n}\nexport function setAllFriendships(src){\n  return {\n    type:FETCH_ALL_FRIENDSHIPS,\n    payload:src\n  }\n}\nexport function addFriendship(src){\n  return {\n    type:ADD_FRIENDSHIP,\n    payload:src\n  }\n}\nexport function removeFriendship(src){\n  return {\n    type:REMOVE_FRIENDSHIP,\n    payload:src\n  }\n}\n\n\n\nexport function setLoggedInUser(src) {\n  return {\n    type: LOGIN_USER,\n    payload: src,\n  }\n}\nexport function setAllFollowing(src){\n  return{\n    type:SET_ALL_FOLLOWING,\n    payload:src\n  }\n}\nexport function addForumMessage(src){\n  return{\n    type:ADD_FORUM_MESSAGE,\n    payload:src\n  }\n}\n\nexport function addFollowing(src){\n  return{\n    type:ADD_FOLLOWING,\n    payload:src\n  }\n}\nexport function resetMessages(src){\n  return{\n    type:RESET_MESSAGES,\n    payload:src\n  }\n}\n\nexport function removeFollowing(src){\n  return{\n    type:REMOVE_FOLLOWING,\n    payload:src\n  }\n}\n\nexport function patchEditProfile  ( data)  {\n\n  return function (dispatch){\n\n    let id = this.state.currentUser.id\n \n    fetch(`${USERURL}/${id}`,{\n      headers:{\n        'accepts':'application/json',\n        'content-type':'application/json'\n      },\n      method:'PATCH',\n      body:JSON.stringify({\n        name:data.nameValue,\n        experience:data.experienceValue,\n        car:data.carValue,\n        companies:data.companiesValue,\n        location:data.locationValue,\n        rating:data.ratingValue,\n      })\n    }).then(handleErrors)\n    .then(res => {\n      dispatch(fetchUsers())\n\n    })\n  }\n}\n\nexport function fetchCurrentUser(user) {\n  return function(dispatch) {\n    dispatch({ type: FETCH_CURRENT_USER });\n    fetch(`${USERURL}/${user.id}`)\n    .then(res=>res.json())\n    .then(current=>{\n        dispatch(setLoggedInUser(current))\n\n    })\n  }\n}\n\nexport function fetchUsers() {\n  return function(dispatch) {\n    dispatch({ type: FETCH_ALL_USERS });\n    fetch(USERURL).then(handleErrors)\n    .then(res=>res.json())\n    .then(users=>{\n        dispatch(setAllUsers(users))\n\n    })\n  }\n}\nexport function fetchUser(user){\n  return function (dispatch){\n    fetch(USERURL+user.id)\n    .then(res=>res.json())\n    .then(resUser=>{\n      dispatch(setUser(resUser))\n\n    })\n  }\n}\nexport function fetchCompanies() {\n  return function(dispatch) {\n    dispatch({ type: FETCH_ALL_COMPANIES });\n    fetch(COMPANYURL)\n    .then(res=>res.json())\n    .then(companies=>{\n        dispatch(setAllCompanies(companies))\n\n    })\n  }\n}\nexport function fetchRides(){\n  return function (dispatch){\n\n    fetch(RIDEURL)\n    .then(res=>res.json())\n    .then(rides=>{\n      dispatch(setAllRides(rides))\n\n    })\n  }\n}\nexport function fetchForumMessages(forum){\n  return function (dispatch){\n    fetch(FORUMSURL+forum.id)\n    .then(res=>res.json())\n    .then(f=>{dispatch(setAllForumMessages(f.messages))})\n  }\n}\nexport function fetchForums(){\n  return function (dispatch){\n    fetch(FORUMSURL)\n    .then(res=>res.json())\n    .then(forums=>{dispatch(setAllForums(forums))})\n  }\n}\nexport function fetchFollowing(user){\n  return function (dispatch){\n    fetch(USERURL+user.id+'/following')\n    .then(res=>res.json())\n    .then(following=>{dispatch(setAllFollowing(following))})\n  }\n}\nexport function fetchFriendships(){\n  return function (dispatch){\n    fetch(FRIENDSHIPURL)\n    .then(res=>res.json())\n    .then(friendships=>{dispatch(setAllFriendships(friendships))})\n  }\n}\nexport function postNewRide(ride){\n  // debugger\n  return dispatch=>{\n    return fetch(RIDEURL,{\n      method:'POST',\n      headers:{\n        'Content-Type':'application/json',\n        \"Accepts\":'application/json'\n      },\n      body:JSON.stringify({\n        ride\n      })\n    })\n    .then(handleErrors).then(res=>res.json())\n    .then(r=>dispatch(addRide(r)))\n  }\n}\nexport function postNewMessage(currentUser,content,forum){\n  return dispatch=>{\n    return fetch ( MESSAGEURL,{\n      method:\"POST\",\n      headers:{\n        'Content-Type':'application/json',\n        'Accepts':'application/json'\n      },\n      body:JSON.stringify({\n        user_id: currentUser.id,\n        forum_id: forum.id,\n        content: content\n      })\n    }\n  ).then(handleErrors).then(res=>res.json())\n  .then(mes=>dispatch(addForumMessage(mes)))\n  }\n}\n\nexport function postNewFriendship(follower,followed){\n  return dispatch=>{\n    const friendship = {\n      follower_id:follower.id,\n      followed_id:followed.id\n    }\n\n    return fetch( FRIENDSHIPURL ,{\n      method:\"POST\",\n      headers:{\n        'Content-Type':'application/json',\n        'Accepts':'application/json'\n      },\n      body:JSON.stringify(friendship)\n    })\n    .then(handleErrors)\n    .then(function(){\n      dispatch(addFollowing(followed))\n      dispatch(addFriendship(friendship))\n    })\n  }\n}\nexport function findFriendship(currentUser,followed){\n  return fetch(FRIENDSHIPURL)\n  .then(res=>res.json())\n  .then(friendships=>{\n    friendships.find(\n      f=>{\n        return f.follower_id === currentUser.id && f.followed_id === followed.id\n      }\n    )\n  })\n\n\n\n}\n\nexport function unfollow(currentUser,followed,friendships){\n  return dispatch=>{\n \n\n\n    let friendship = friendships.find(f=>f.follower_id===currentUser.id && f.followed_id===followed.id)\n    if(friendship){\n      return fetch( FRIENDSHIPURL+friendship.id,{\n        method:\"DELETE\",\n        headers:{\n          'Content-Type':'application/json',\n          'Accepts':'application/json'\n        },\n        body:JSON.stringify(friendship)\n      })\n      .then(handleErrors)\n      .then(function(){\n        dispatch(removeFollowing(followed))\n        dispatch(removeFriendship(friendship))\n      })\n\n    }\n  }\n}\n\nexport function createUser (login_data) {\n  return dispatch =>{\n\n    fetch(USERURL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accepts\": \"application/json\",\n      },\n      body: JSON.stringify(login_data)\n    })\n    .then(res => res.json())\n    .then((response) => {\n\n      if (response.error){\n        alert(response.error)\n      } else {\n        localStorage.setItem('jwt', response.jwt)\n        dispatch (setLoggedInUser(response.user))\n      }\n    })\n  }\n}\nexport function userLoginFetch  (user,callback) {\n  return dispatch =>{\n    fetch(LOGINURL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accepts\": \"application/json\",\n      },\n      body: JSON.stringify(user)\n    })\n    .then(res => res.json())\n    .then((response) => {\n      if (response.errors) {\n        alert(response.errors)\n      } else {\n        // we need to login at the top level where we are holding our current user!\n        // setState in App to currentuse\n\n        localStorage.setItem('jwt', response.jwt)\n        dispatch(setLoggedInUser(response.user))\n\n      }\n    })\n\n  }\n\n\n}\n\n\nexport function getProfileFetch() {\n  return dispatch => {\n    const jwt = localStorage.getItem('jwt')\n\n    if (jwt){\n      fetch(AUTOLOGINURL, {\n        headers: {\n          \"Authorization\": `Bearer ${jwt}`\n        }\n      })\n      .then(res => res.json())\n      .then((response) => {\n        if (response.errors) {\n          alert(response.errors)\n          localStorage.removeItem('jwt')\n        } else {\n          dispatch(setLoggedInUser(response))\n        }\n      })\n    }\n\n  }\n}\n\n\nexport function setLogout ()  {\n  return function(dispatch) {\n    dispatch({ type: LOGOUT_USER });\n\n    localStorage.removeItem(\"jwt\")\n\n    dispatch(logoutUser())\n  }\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n","import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport {Navbar, Nav, NavItem} from 'react-bootstrap';\nimport {Link} from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { setLogout} from '../Actions';\n\n// import * from '../App.css'\n\n\n\nclass Header extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { navHeight: 50, navExpanded: false };\n      \n\n      this.handleResize = this.handleResize.bind(this);\n    }\n\n    handleResize(e = null) {\n      this.setState({ navHeight: ReactDOM.findDOMNode(this._navbar).offsetHeight });\n    }\n\n    componentDidMount() {\n      window.addEventListener('resize', this.handleResize);\n      this.handleResize();\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('resize', this.handleResize);\n    }\n\n    closeNav=()=> {\n      this.setState({ navExpanded: false });\n    };\n\n    setNavExpanded=(expanded)=> {\n      this.setState({ navExpanded: expanded });\n    };\n\n    logout = () => {\n\n     localStorage.removeItem(\"jwt\")\n     this.props.setLogout()\n   }\n\n  renderProfileLink = () => {\n\n    if(this.props.currentUser){\n        return <Link to={`/profile`}> Profile </Link>\n\n    }\n    else{\n      return <Link to={`/login`}> Profile </Link>\n    }\n  }\n  renderLogout =() =>{\n    return (\n      <>\n\n        <NavItem onClick={()=>this.props.history.push(`/users/${this.props.currentUser.id}`)} >\n\n        </NavItem>\n        <NavItem className='menu-item'>\n          <Link  to=\"/login\" onClick={this.logout} >\n            Logout\n          </Link>\n        </NavItem>\n\n      </>\n    )\n  }\n  renderLoginSignup = () =>{\n    return (\n      <>\n        <NavItem onClick={this.closeNav} className='menu-item'>\n          <Link  to=\"/login\">\n            Login\n          </Link>\n        </NavItem>\n\n        <NavItem onClick={this.closeNav} className='menu-item'>\n          <Link  to=\"/signup\">\n            Sign Up\n          </Link>\n        </NavItem>\n      </>\n    )\n\n  }\n\n\n  renderNav=()=>{\n    return(\n      <>\n\n\n          <Navbar bg=\"dark\" expand=\"md\" fixedtop=\"true\" ref={(e) => this._navbar = e} onToggle={this.setNavExpanded}   expanded={this.state.navExpanded} inverse=\"true\" fluid=\"true\">\n\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n\n              <Nav >\n                <NavItem  onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  {this.renderProfileLink()}\n                </NavItem>\n                <NavItem onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  <Link to=\"/rides\"> Rides </Link>\n                </NavItem>\n                <NavItem onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  <Link to=\"/forums\"> Forums </Link>\n                </NavItem>\n                <NavItem onClick={this.closeNav} data-bs-toggle=\"collapse\" className='menu-item'>\n                  <Link to=\"/discover\"> Discover </Link>\n                </NavItem>\n                  {this.props.currentUser ? this.renderLogout() : this.renderLoginSignup() }\n              </Nav>\n\n            </Navbar.Collapse>\n          </Navbar>\n      </>\n    )\n  }\n  renderHeader=()=>{\n    return (\n      <>\n      <header className=\"title\">\n        <div className=\"container col-11\" >\n          <b>RideShare</b>\n        </div>\n      </header>\n      </>\n    )\n  }\n\n  render() {\n    return (\n      <>\n      <div className=\"header\">\n        {this.renderHeader()}\n        {this.renderNav()}\n      </div>\n      </>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  setLogout: () => dispatch(setLogout())\n})\n\nfunction mapStateToProps(state) {\n\n\tconst { user } = state\n  return {\n\n    currentUser:user.currentUser\n  }\n}\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Header);\n","import React from 'react'\n\nconst ProfileCard = (props) => {\n\n  let handleCompnaies = () => {\n    \n    //make these logos\n    return props.companies? props.companies.map(company => `${company.name} `) : \"nope\"\n  }\n\n  let handleHover = (e) => {\n  }\n\n  return(\n\n      <div className=\"profile-card\"  >\n        <img src={props.user.image_url} alt=\"No Profile\" className=\"card-img-top\"/>\n\n        <div className=\"card-header\">\n          <b>{props.user.name} </b>\n        </div>\n        <ul className=\"list-group list-group-flush\">\n          <li onMouseOver={handleHover} className=\"list-group-item\">Car: {props.user.car} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Experience: {props.user.experience} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Rating: {props.user.rating} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Companies: {handleCompnaies()} </li>\n          <li onMouseOver={handleHover} className=\"list-group-item\">Base Location: {props.user.location}</li>\n        </ul>\n      </div>\n\n\n  )\n}\n\n\nexport default ProfileCard\n","import React,{Fragment} from \"react\";\n\n\nclass Ride extends React.Component {\n   formatDate=(date)=> {\n     // debugger\n    let year = date.slice(0,4);\n    let month = date.slice(5,7);\n    let day = date.slice(8,10);\n    let hour = date.slice(11,13)\n    let min = date.slice(14,16)\n    let ampm =''\n    parseInt(hour) < 12 ? ampm ='AM' : ampm = 'PM'\n\n    if(hour >= 12){\n      hour = hour-12;\n    }\n    if(hour<10){\n      hour = parseInt(hour);\n    }\n\n    if(hour===0){\n      hour = 12\n    }\n\n    let retDate = `${month}/${day}/${year}@${hour}:${min}${ampm}`\n    return retDate;\n    // var ampm = hours >= 12 ? 'pm' : 'am';\n    // hours = hours % 12;\n    // hours = hours ? hours : 12; // the hour '0' should be '12'\n    // minutes = minutes < 10 ? '0'+minutes : minutes;\n    // var strTime = hours + ':' + minutes + ' ' + ampm;\n    // return date.getMonth()+1 + \"/\" + date.getDate() + \"/\" + date.getFullYear() + \"  \" + strTime;\n}\n\n// var d = new Date();\n// var e = formatDate(d);\n\n  render() {\n\n    return (\n      <Fragment>\n        <tr>\n          <th scope=\"row\">{this.props.idx}</th>\n          <td>{this.props.ride.distance}</td>\n          <td>{this.formatDate(this.props.ride.started_at)}</td>\n          <td>{this.formatDate(this.props.ride.end_at)}</td>\n          <td>{this.props.ride.price}</td>\n          <td>{this.props.ride.start_location}</td>\n          <td>{this.props.ride.end_location}</td>\n        </tr>\n      </Fragment>\n    )\n  }\n}\nexport default Ride\n","import React from \"react\"\nimport Ride from \"./Ride.js\"\n\nconst RideList = (props) => {\n\n  const renderRide=()=>{\n    if(props.rides.length>0){\n      \n      return props.rides.map((ride,key)=>\n        <Ride\n          key={key}\n          idx={key+1}\n          ride={ride}\n        />)\n    }\n    else{\n      return(\n        <>\n        <tr>\n          <td colspan='7'>No completed rides yet</td>\n        </tr></>\n      )\n    }\n  }\n  return (\n    <div className='ridestable'>\n    {props.displayDropdown? props.displayDropdown(): ''}\n    <table className=\"table table-striped\">\n      <thead className=\"thead-dark\">\n        <tr>\n          <th scope=\"col\">Num</th>\n          <th scope=\"col\">Distance</th>\n          <th scope=\"col\">Started At</th>\n          <th scope=\"col\">Ended At</th>\n          <th scope=\"col\">Price</th>\n          <th scope=\"col\">Starting Location</th>\n          <th scope=\"col\">Ending Location</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.displayAddRide ? props.displayAddRide():\n          null\n        }\n        {renderRide()}\n      </tbody>\n    </table>\n\n  </div>\n  )\n}\n\nexport default RideList\n","import React,{Fragment} from \"react\";\n\nclass Forum extends React.Component {\n\n// id={this.props.forum.topic}\n  render() {\n    return (\n      // <th scope=\"row\">{this.props.idx}</th>\n      <Fragment >\n\n\n          <tr  onClick={(e,topic)=>this.props.handleForumClick(e,this.props.forum.topic)}>\n            <td>  {this.props.forum.topic} </td>\n          </tr>\n\n      </Fragment>\n    )\n  }\n}\nexport default Forum\n","import React from \"react\"\nimport Forum from \"./Forum.js\"\n\nconst ForumList = (props) => {\n\n  const renderForum=()=>{\n    if(props.forums.length>0){\n\n      function uniqueForums(array) {\n       return array.filter((e, i) => array.findIndex(a => a.topic === e.topic) === i);\n      }\n\n      return uniqueForums(props.forums).map((forum,idx)=>{\n        return (\n            <Forum\n              handleForumClick={props.handleForumClick}\n              key={forum.id}\n              idx={idx+1}\n              forum={forum}\n              />\n\n\n        )\n\n        }\n      )\n    }\n    else{\n      return (<>\n        <tr>\n          <td colspan='1'>\n             <p style={{align:'center',justify:'centered',}}>\n               Not a member of any Forums\n             </p>\n          </td>\n        </tr>\n        </>)\n    }\n  }\n\n  // <th scope=\"col\">Num</th>\n  return (\n    <div className='forumstable' >\n      <table className=\"table table-striped\" >\n        <thead className=\"thead-dark\">\n          <tr>\n            <th scope=\"col\">Forum Topic</th>\n          </tr>\n        </thead>\n        <tbody>\n          {renderForum()}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default ForumList\n","import React,{Fragment} from \"react\";\nimport ReactModal from 'react-modal'\nimport {connect} from 'react-redux'\n\n//lib imports\nimport axios from 'axios'\nimport { Form } from 'semantic-ui-react'\nimport TextField from \"@material-ui/core/TextField\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\n\n\n\n//action imports\nimport {fetchCurrentUser} from '../Actions';\n\n//constants imports\nimport {USERURL} from '../Constants'\n\nclass Modal extends React.Component{\n\n  state=({\n    nameValue: this.props.props.user.name,\n    experienceValue: this.props.props.user.experience,\n    ratingValue: this.props.props.user.rating,\n    locationValue: this.props.props.user.location,\n    carValue: this.props.props.user.car,\n    userCompanies:this.props.currentUser.companies,\n    companiesValue: [],\n    options:[],\n    selectedFile:[],\n  })\n\n  componentDidMount(){\n    this.setState({\n      nameValue: this.props.currentUser.name,\n      experienceValue: this.props.currentUser.experience,\n      ratingValue: this.props.currentUser.rating,\n      locationValue: this.props.currentUser.location,\n      carValue: this.props.currentUser.car,\n      companiesValue: this.props.companiesValue,\n      allCompanies:this.props.companiesValue,\n      userCompanies:this.props.currentUser.companies\n    })\n  }\nhandleCheckBox =(company)=>{\n  if(this.state.userCompanies && this.state.allCompanies){\n    this.state.allCompanies.map(c=>\n      this.state.userCompanies.find(c)\n    )\n\n  }\n}\nfileUploadHandler=(event)=>{\n  event.preventDefault()\n  if(this.state.selectedFile){\n\n    let fd = new FormData();\n    fd.append('image',this.state.selectedFile,this.state.selectedFile.name)\n\n    axios.post(USERURL+this.props.currentUser.id+'/imageupload',fd)\n    // .then(res=>res.json())\n    .then(res=>{\n\n      this.props.fetchCurrentUser(res.data)\n    }\n    );\n  }\n}\n\nfileSelectedHandler=(event)=>{\n  this.setState({selectedFile:event.target.files[0]})\n  if(event.target.files[0]){\n    let fd = new FormData();\n    fd.append('image',event.target.files[0],event.target.files[0].name)\n\n    axios.post(USERURL+this.props.currentUser.id+'/imageupload',fd)\n    .then(res=>{\n\n      this.props.fetchCurrentUser(res.data)\n    }\n    );\n  }\n}\n\n\nonChange=(e,c)=> {\n   // current array of options\n   const options = this.state.options\n   if (e.target.checked) {\n     //add checked item to array of selecteed company options\n       options.push(c)\n\n   } else {\n     //remove the unchecked item from array of selected company options\n       options.pop(c)\n\n   }\n   // update the state with the new array of options\n   this.setState({ options: options })\n }\nrenderCheckBoxes = () => {\n\n  if(this.props.companiesValue){\n    // create a list of company ids in the option array\n    //  to use as keys to  distaguish if they are already in the array\n    let companyIds = this.state.options.map(company => company.id)\n    //map over list of all comapnies and create a checkbox for each\n\n    return this.props.companiesValue.map((company,key)=> {\n      return(\n        <>\n        <label>{company.name}\n          <Checkbox label={company.name} checked={companyIds.includes(company.id)}  onChange={(e) => this.onChange(e,company)}  />\n        </label>\n        </>\n      )\n    })\n  }\n}\n\n  handleEditFormChange=(e)=>{\n    let value = e.target.value;\n    let name = e.target.name;\n\n    this.setState({\n      [name]: value\n    })\n  }\n\n\n\n  renderEditModal = () => {\n    //make modal smaller\n    if(this.props.state.modal){\n\n      return (\n        <div >\n          <ReactModal\n            id='editmodal'\n            isOpen={this.props.state.modal}\n            onAfterOpen={this.props.handleAfterOpen}\n            onRequestClose={this.props.handleAfterClose}\n            shouldCloseOnEsc={true}\n            shouldCloseOnOverlayClick={true}\n            ariaHideApp={false}\n            data={{\n              background: \"green\"\n            }}\n            contentLabel=\"example modal\"\n            >\n\n            <br/>\n            <Form>\n              <div className='row'>\n                <div className='col-4'>\n                  <div className=\"control\">\n                    <input type=\"file\" name=\"file\" id='file' className='inputfile' onChange={this.fileSelectedHandler}/>\n                    <label for=\"file\" className='btn-2'>Upload Profile Picture</label>\n                  </div>\n\n                  <br/>\n\n                  <Form.Field>\n                    <label><h4>Companies:</h4></label>\n                    <br/>\n                    {this.renderCheckBoxes()}\n                </Form.Field>\n\n\n\n              </div>\n\n                <div className='col-8'>\n                  <Form.Field>\n                    <TextField\n                      name=\"nameValue\"\n                      label=\"Name\"\n                      value={this.state.nameValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"experienceValue\"\n                      type=\"number\"\n                      label=\"Experience\"\n                      value={this.state.experienceValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"ratingValue\"\n                      type=\"number\"\n                      label=\"Rating\"\n                      value={this.state.ratingValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"carValue\"\n                      type=\"text\"\n                      label=\"Car\"\n                      value={this.state.carValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n                      />\n                  </Form.Field>\n                  <br/>\n\n                  <Form.Field>\n                    <TextField\n                      name=\"locationValue\"\n                      type=\"text\"\n                      label=\"Base Location\"\n                      value={this.state.locationValue}\n                      onChange={(e)=>this.handleEditFormChange(e)}\n                      style={{width:'50%'}}\n\n                      />\n                  </Form.Field>\n                  <br/>\n                </div>\n\n\n              </div>\n\n\n\n              <button className='btn-primary savebutton' type=\"submit\" onClick={(e, state)=>this.props.handleSubmit(e, this.state)}>Save</button>\n            </Form>\n\n\n          </ReactModal>\n        </div>\n    )}\n  }\n\n  render(){\n\n    return(\n      <Fragment>\n        {this.renderEditModal()}\n      </Fragment>\n    )\n  }\n\n}\nconst mapDispatchToProps=dispatch=>({\n  fetchCurrentUser: u=>dispatch(fetchCurrentUser(u))\n})\n\nexport default connect(null,mapDispatchToProps)(Modal)\n","import React from \"react\";\nimport {Link} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Button,Card} from 'react-bootstrap'\n\nimport '../App.css'\nimport {\n  UserCard,\n  ProductCard,\n  FlippingCard,\n  FlippingCardFront,\n  FlippingCardBack,\n\n\n} from 'react-ui-cards';\n\n\n// var randImg = 'http://lorempixel.com/400/200/sports/'\n// var randImg = 'https://sadanduseless.b-cdn.net/wp-content/uploads/2018/11/taxi-driver-calendar2.jpg'\n\nclass FollowerCard extends React.Component {\n  getProfileLink=()=>{\n    if(this.props.currentUser){\n      if(this.props.follower.id === this.props.currentUser.id){\n        return '/profile'\n      }\n      else{\n        return `/user/${this.props.follower.id}`\n      }\n\n    }\n    else{\n      return `/user/${this.props.follower.id}`\n    }\n  }\n  renderFollowCard=()=>{\n    // debugger\n    return(\n      <>\n      <div id=\"follower-card\" onClick={(e,user)=>this.props.handleUserClick(e,this.props.follower)} >\n          <Link to={this.getProfileLink()}>\n\n          <FlippingCard style={{height:'100%',width:'100%'}} >\n            <FlippingCardFront>\n              <div\n              style={{\n                width: '100%',\n                height: '100%',\n                backgroundSize: 'contain',\n                backgroundPosition: 'center',\n              }}>\n              <UserCard\n                float\n                header='https://loremflickr.com/320/240/car'\n                avatar='https://ptetutorials.com/images/user-profile.png'\n                name={this.props.follower.name}\n                positionName={this.props.follower.car}\n                stats={[\n                  {\n                    name: 'Car',\n                    value: this.props.follower.car\n                  },\n\n                ]}\n                />\n\n            </div>\n            </FlippingCardFront>\n            <FlippingCardBack>\n              <div\n              style={{\n                width: '100%',\n                height: '100%',\n                backgroundSize: 'contain',\n                backgroundPosition: 'center',\n              }}>\n\n              <ProductCard\n                photos={[this.props.follower.image_url]}\n                price={this.props.follower.ratingValue}\n                productName={this.props.follower.name}\n                description='Click to View Profile'\n                rating={this.props.follower.ratingValue}\n\n                />\n            </div>\n            </FlippingCardBack>\n          </FlippingCard>\n\n        </Link>\n\n      </div>\n      </>\n\n\n\n    )\n  }\n\n\n\n  renderCard=()=>{\n    return (\n      <>\n      <Card className=\"card mb-4 border-0\" id=\"following-card\">\n        <Card.Img variant=\"top\" className='followercardimg' src={this.props.follower.image_url} />\n        <Card.Body>\n          <Card.Title>Name: {this.props.follower.name}</Card.Title>\n          <Card.Text>\n            I drive a: {this.props.follower.car}\n          </Card.Text>\n          <div onClick={(e,user)=>this.props.handleUserClick(e,this.props.follower)}>\n            <Link to={`/user/${this.props.follower.id}`}>\n              <Button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                >\n                Check out my profile!</Button>\n            </Link>\n          </div>\n        </Card.Body>\n      </Card>\n      </>\n    )\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"card-container\" >\n        {this.renderFollowCard()}\n      </div>\n\n    )\n\n  }\n}\nfunction mapStateToProps(state){\n  const {user} = state\n  return {\n    currentUser:user.currentUser,\n  }\n}\nexport default connect (mapStateToProps)(FollowerCard)\n","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\n\nimport Profile from './Profile.js'\nimport FollowerCard from './FollowerCard.js'\n\nclass FriendsBox extends Component {\n\n  handleUserClick=(e,user)=>{\n    // if(user.id !== this.props.currentUser.id){\n      // debugger\n      return (\n        <Profile\n          {...this.props}\n          user={this.props.user}\n          />\n\n      )\n\n    \n  }//end of handle user click\n\n\n  followerCards = () => {\n\n    if (this.props.followers){\n       return this.props.followers.map((follower,idx) => {\n         // debugger\n        return (\n          <div key={idx} className=\"card-rows\">\n            <FollowerCard\n              handleUserClick={this.handleUserClick}\n              key={idx}\n              follower={follower}\n              />\n          </div>\n\n        )\n\n\n      })\n    }\n  }\n\n  render(){\n    return(\n      <div className=\"card-group col-12\" >\n        {this.followerCards()}\n      </div>\n    )\n  }\n\n}\nfunction mapStateToProps(state){\n  const {user} = state\n  return {\n    currentUser:user.currentUser,\n  }\n}\nexport default connect(mapStateToProps)(FriendsBox)\n","import React from \"react\"\nimport {Link} from 'react-router-dom'\n\nconst NotLoggedIn = () => {\n  return (\n  <div className=\"container\">\n    <div className='authBox'>\n        <h1 className='headerText'>Must be Logged in To View</h1>\n        <br/>\n        <Link to='/login' id=\"authbutton\" color='teal'>\n          Click here to navigate to the login page\n        </Link>\n    </div>\n\n  </div>\n  )\n}\n\nexport default NotLoggedIn\n","import React,{Fragment} from \"react\";\nimport {connect} from 'react-redux'\n\nimport {Button} from 'react-bootstrap'\n\n//import components\nimport ProfileCard from './ProfileCard'\nimport RideList from './RideList.js'\nimport ForumsList from './ForumsList.js'\nimport Modal from './Modal.js'\nimport FriendsBox from './friends-box'\nimport NotLoggedIn from './NotLoggedIn'\n\n\n//import actions\nimport {\n  fetchFollowing,fetchUser,fetchFriendships,\n  postNewFriendship,unfollow,fetchCompanies,\n  fetchCurrentUser,patchEditProfile,postNewRide,\n} from '../Actions.js'\n\n//library imports\nimport SlideToggle from \"react-slide-toggle\";\n\n//import constants\nimport {USERURL} from '../Constants'\n// const eases = window.eases;\n\n\n\nconst ProgressBar = ({ progress }) => {\n  return (\n    <span className=\"progress-bar\">\n      <span\n        className=\"progress-bar__inner\"\n        style={{\n          transform: `scaleX(${progress})`\n        }}\n      />\n    </span>\n  );\n};\n\nclass Profile extends React.Component {\n  constructor(props){\n    super(props)\n    this.state={\n      modal: false,\n      user:this.props.user,\n      editedUser: this.props.user,\n      clickedForum: null,\n      openChat: false,\n      isCurrentUserProfile:null,\n      isFollowing:null,\n      currentUser:this.props.currentUser,\n      ride:{\n        started_at:'',\n        end_at:'',\n        price:'',\n        distance:'',\n        start_location:'',\n        end_location:'',\n        user_id:this.props.currentUser.id,\n        company_id: 21,\n      },\n\n    }\n  }\n  componentDidMount(){\n    this.props.fetchCompanies();\n    this.props.fetchFriendships();\n\n\n\n  }\n\n\nUNSAFE_componentWillReceiveProps(newProps){\n\n\n\n  if(newProps.user === newProps.currentUser){\n    //its the current users profile\n    this.setState({\n      isCurrentUserProfile:true,\n      user:newProps.currentUser,\n    })\n  }\n  else{\n\n    let followList=null;\n    if(newProps.currentUser.following){\n       followList = newProps.currentUser.following\n    }\n    //the page is not the current users profile\n    if(followList.find(u=>u.id ===newProps.user.id)){\n      // debugger\n      this.setState({\n        isCurrentUserProfile:newProps.isCurrentUserProfile,\n        user:newProps.user,\n        isFollowing:true\n      })\n    }else{\n      // debugger\n\n      this.setState({\n        isCurrentUserProfile:newProps.isCurrentUserProfile,\n        user:newProps.user,\n        isFollowing:false,\n      })\n    }\n\n\n\n  }\n\n\n}\n\n\n  handleEdit = (e) => {\n    this.setState({modal:true})\n  }\n\n  handleAfterOpen=()=>{\n  }\n  handleAfterClose=()=>{\n    this.setState({modal:false})\n  }\n\n  handleSubmit=(e, state)=>{\n    e.preventDefault()\n    this.patchEditProfile(e, state)\n    this.setState({\n      modal: false\n    })\n\n  }\n  handleDelete=(e)=>{\n  }\n  handleForumClick = (e) => {\n    this.setState({clickedForum: e.target.id})\n    this.setState({openChat: true})\n  }\n\n\n  renderModal = () => {\n    if(this.props.user) {\n      return(\n        <Modal\n          state={this.state}\n          props={this.props}\n          companiesValue={this.props.allCompanies}\n          currentUser={this.props.currentUser}\n          handleAfterOpen={this.handleAfterOpen}\n          handleAfterClose={this.handleAfterClose}\n          handleEditFormChange={this.handleEditFormChange}\n          handleSubmit={this.handleSubmit}\n        />\n      )\n    }\n  }\n\n  patchEditProfile = (e, userData) => {\n\n    e.preventDefault()\n    if(this.props.currentUser){\n      userData.id=this.props.currentUser.id;\n      fetch(`${USERURL}/${this.props.currentUser.id}`,{\n        headers:{\n          'accepts':'application/json',\n          'content-type':'application/json'\n        },\n        method:'PATCH',\n        body:JSON.stringify({\n          id:userData.id,\n          name:userData.nameValue,\n          experience:userData.experienceValue,\n          car:userData.carValue,\n          companies:userData.options,\n          location:userData.locationValue,\n          rating:userData.ratingValue,\n\n        })\n      })\n      .then(r => r.json())\n      .then(resUser => {\n        this.setState({\n          modal: false\n        }  ,this.props.fetchCurrentUser(resUser.user)  )\n      })\n    }\n  }\n\n  handleFollow = () => {\n    this.props.postNewFriendship(this.props.currentUser,this.props.user)\n    let tempUser = Object.assign({},this.props.currentUser)\n    if(!tempUser.following.includes(this.props.user)){\n\n\n      this.setState(prevState=>({\n        isFollowing:!prevState.isFollowing,\n\n      }))\n    }\n\n}\n\n\nhandleUnFollow = () => {\n  // debugger\n  this.props.fetchFriendships();\n\n  this.props.unfollow(this.props.currentUser,this.props.user,this.props.friendships)\n\n  this.setState(prevState=>({\n    isFollowing:!prevState.isFollowing,\n\n  })\n)\n\n}\n\n  renderProfileCard = () => {\n    if(this.state.user){\n      return(\n        <ProfileCard user={this.state.user} companies={this.state.user.companies}/>\n      )\n    }\n  }\n  renderEditButton=()=>{\n    //implement delete user functiion\n    // <button type=\"button\" className=\"btn btn-primary\"  id=\"edit-profile\" onClick={this.handleDelete}> Delete Profile </button>\n    if(this.props.user===this.props.currentUser){\n      return(\n        <div>\n        <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" id=\"edit-profile\" onClick={this.handleEdit}> Edit Profile </button>\n\n        </div>\n      )\n    }else{\n      return (\n        <>\n        {this.renderFollowButton()}\n        </>\n      )\n    }\n  }\n\nrenderFollowButton=()=>{\n\n  if(this.state.isFollowing===false)\n  {\n\n    return   (\n      <>\n        <Button className=\"btn btn-primary\"  id=\"follow-user\" onClick={() => this.handleFollow()}> Follow this user </Button>\n      </>\n  )\n  }\n  else if (this.state.isFollowing){\n    return (\n      <>\n        <Button className=\"btn btn-primary\"  id=\"follow-user\" onClick={() => this.handleUnFollow()}> Unfollow this user </Button>\n      </>\n    )\n  }\n}\nrenderUserRides=()=>{\n  // debugger\n  return (\n    <>\n      {this.props.userProfile?\n        <RideList displayAddRide={this.displayAddRide} rides={this.props.userProfile.rides}/>\n        : null\n      }\n    </>\n  )\n}\nrenderUserForums=()=>{\n  return (\n    <>\n    {this.state.user.forums ?\n      <ForumsList forums={this.state.user.forums} handleForumClick={this.handleForumClick}/>\n      :\n      <div >\n        <table className=\"table table-striped\" >\n          <thead className=\"thead-dark\">\n            <tr>\n              <th scope=\"col\">Num</th>\n              <th scope=\"col\">Forum Topics</th>\n            </tr>\n          </thead>\n          <tbody>\n\n          </tbody>\n        </table>\n      </div>\n    }\n\n    </>\n  )\n}\nhandleAddRideChange=(e)=>{\n  this.setState({\n    ride:{\n      ...this.state.ride,\n      [e.target.name]:e.target.value,\n    }\n  })\n}\nhandleAddRide=(e)=>{\n\n  if(\n    this.state.ride.company_id &&\n    this.state.ride.user_id &&\n    this.state.ride.distance &&\n    this.state.ride.price &&\n    this.state.ride.start_location &&\n    this.state.ride.end_location &&\n    this.state.ride.started_at &&\n    this.state.ride.end_at\n  ){\n    // post new ride then reset text inputs\n\n    this.state.ride.company_id = parseInt(this.state.ride.company_id)\n\n    this.props.postNewRide(this.state.ride)\n    this.setState({\n      ride:{\n        ...this.state.ride,\n\n        distance:'',\n        price:'',\n        start_location:'',\n        end_location:'',\n        started_at:'',\n        end_at:'',\n      }\n\n    })\n\n  }else{\n    alert(\"Please enter all fields before adding a new ride!\")\n  }\n}\nrenderAllCompanySelect=()=>{\n  if(this.props.allCompanies){\n    return (\n      this.props.allCompanies.map((c,idx)=>{\n        return (<option key={idx} value={c.id}> {c.name} </option>)\n      })\n    )\n\n  }\n}\ndisplayAddRide=()=>{\n  if(this.props.user===this.props.currentUser){\n    return (<>\n      <Fragment>\n\n        <tr>\n          <td colspan=\"7\">\n            <button className=\"btn btn-primary\" id=\"addridebutton\" onClick={this.handleAddRide}>Add Ride</button>\n          </td>\n        </tr>\n\n        <tr>\n          <th scope=\"row\">\n            <select className='addrideinput' value={this.state.ride.company_id} name=\"company_id\"\n            onChange={this.handleAddRideChange}\n            >\n              {this.renderAllCompanySelect()}\n\n\n            </select>\n          </th>\n          <td><input className=\"addrideinput\" type=\"number\" name=\"distance\" placeholder='Distance' value={this.state.ride.distance} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"datetime-local\" name=\"started_at\" value={this.state.ride.started_at} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"datetime-local\" name=\"end_at\" value={this.state.ride.end_at} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"number\" placeholder='Price' name=\"price\" value={this.state.ride.price} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"text\" name=\"start_location\" placeholder='Starting Location' value={this.state.ride.start_location} onChange={this.handleAddRideChange}></input></td>\n          <td><input className=\"addrideinput\" type=\"text\" name=\"end_location\" placeholder='Ending Location' value={this.state.ride.end_location} onChange={this.handleAddRideChange}></input></td>\n\n        </tr>\n\n\n\n      </Fragment>\n      </>\n\n    )\n\n  }\n\n}\nrenderFollowerFollowingBox=()=>{\n  return (\n    <>\n    <div className=\"col\" id=\"profile-following\">\n      {this.props.userProfile?(\n        <>\n        <SlideToggle\n          duration={800}\n          collapsed\n          whenReversedUseBackwardEase\n\n          render={({\n            toggle,\n            progress,\n            setCollapsibleElement,\n            range,\n            toggleState\n          }) => (\n            <div className=\"slide-toggle\">\n              <div className=\"slide-toggle__header\">\n                <button id=\"followingbutton\" className=\"slide-toggle__toggle\" onClick={toggle}>\n                  {this.props.userProfile.following.length} Following\n                </button>\n                <ProgressBar progress={progress} />\n              </div>\n              <div className=\"slide-toggle__box\" ref={setCollapsibleElement}>\n                <div className=\"slide-toggle__box-inner\">\n                  <FriendsBox followers={this.props.userProfile.following}/>\n                  <button id='followingbutton' onClick={toggle}>\n                    Hide Following\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n          />\n        </>\n    )\n    :\n    null\n  }\n  {this.props.userProfile?(\n    <>\n    <SlideToggle\n      duration={800}\n      collapsed\n      whenReversedUseBackwardEase\n\n      render={({\n        toggle,\n        progress,\n        setCollapsibleElement,\n        range,\n        toggleState\n      }) => (\n        <div className=\"slide-toggle\">\n          <div className=\"slide-toggle__header\">\n            <button id='followingbutton' className=\"slide-toggle__toggle\" onClick={toggle}>\n              {this.props.userProfile.followers.length} Followers\n            </button>\n            <ProgressBar progress={progress} />\n          </div>\n          <div className=\"slide-toggle__box\" ref={setCollapsibleElement}>\n            <div className=\"slide-toggle__box-inner\">\n              <FriendsBox followers={this.props.userProfile.followers}/>\n              <button id='followingbutton' onClick={toggle}>\n                Hide Followers\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n      />\n    </>\n)\n:\nnull\n}\n</div>\n\n    </>\n  )\n\n}\n\n\nrenderPage=()=>{\n  return (\n\n    <Fragment>\n      <div className = \"container col-12\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col justify-content-center\" id=\"profile-card-container\">\n            {this.renderProfileCard()}\n            {this.renderEditButton()}\n            {this.renderModal()}\n\n          </div>\n          <div className=\"col-10\" id=\"profile-rides-list\">\n            {this.renderUserForums()}\n            {this.renderUserRides()}\n          </div>\n\n        </div>\n        {this.renderFollowerFollowingBox()}\n\n\n      </div>\n\n\n\n    </Fragment>\n  )\n\n}\n\n\n  render() {\n\n    return (\n      <div className='profilepage'>\n        {this.props.currentUser ? this.renderPage() :<NotLoggedIn/>}\n\n      </div>\n\n\n    )\n  }\n}\nfunction mapStateToProps(state) {\n  // maps the state from the store to the props\n\n\tconst { user } = state\n  const { forums } = state\n\n\n  return {\n    allCompanies:user.allCompanies,\n    rides:user.rides,\n    forums:forums.forums[0],\n    allForums:user.forums,\n    users:user.users,\n    currentUser:user.currentUser,\n    following:user.following,\n    friendships:user.friendships,\n    userProfile:user.userProfile,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  fetchUser:(u)=>dispatch(fetchUser(u)),\n  fetchCompanies:()=>dispatch(fetchCompanies()),\n  patchEditProfile:(d)=>dispatch(patchEditProfile(d)),\n  postNewFriendship:(user,follow)=>dispatch(postNewFriendship(user,follow)),\n  unfollow:(user,follow,friendships)=>dispatch(unfollow(user,follow,friendships)),\n  fetchCurrentUser:(u)=>dispatch(fetchCurrentUser(u)),\n  fetchFriendships:()=>dispatch(fetchFriendships()),\n  fetchFollowing:(u)=>dispatch(fetchFollowing(u)),\n  postNewRide:(r)=>dispatch(postNewRide(r)),\n})\n\nexport default connect(mapStateToProps,mapDispatchToProps) (Profile)\n","import React from \"react\";\nimport {Link} from 'react-router-dom'\n\nclass Leader extends React.Component {\n\n  render() {\n    if(this.props.getUser){\n      return (\n        <div onClick={(e,)=>this.props.handleClick(e,this.props.getUser)}\n        name={this.props.superlative}>\n\n          <Link to={`/user/${this.props.getUser.id}`}>\n\n          <div className={this.props.design}>\n            <h3 className=\"pull-right\">\n            <i className={this.props.icon}> </i>\n            </h3>\n            <h4 className=\"list-group-item-heading count\">{this.props.title}\n\n              {(this.props.getUser.name)}\n\n              </h4>\n\n              <p className=\"list-group-item-text\">\n                {this.props.getStat?this.props.getStat(this.props.getUser):null}\n                {this.props.superlative==='rating'?this.props.getUser.rating:null}\n                {this.props.superlative==='experience'?this.props.getUser.experience:null}</p>\n                </div>\n                </Link>\n\n            </div>\n            )\n    }else{\n      return (<h4>YOU ARE NOT LOGGED IN</h4>)\n    }\n  }\n}\nexport default Leader\n","import React,{Fragment} from \"react\"\nimport Profile from './Profile.js'\nimport Leader from './Leader.js'\n\nimport { connect } from 'react-redux';\nimport {fetchUsers,fetchRides} from '../Actions';\n\n\n\nclass Leaderboard extends React.Component {\n\n  constructor(props){\n    super(props)\n    this.state={\n      mostMiles:'',\n      mostRating:'',\n      mostEarned:'',\n      mostTime:'',\n      mostExperience:''\n    }\n  }\n  UNSAFE_componentWillReceiveProps(props){\n    let rating = this.getRatingLeader(props.leaders)\n    let miles = this.getMileLeader(props.leaders)\n    let earner = this.getEarnerLeader(props.leaders)\n    let experience= this.getExperienceLeader(props.leaders)\n    this.setState({\n      mostMiles:miles,\n      mostRating:rating,\n      mostEarned:earner,\n      mostExperience:experience\n    })\n\n  }\n  getTotalMiles=(user)=>{\n    let totalMiles=0;\n    if(user.rides){\n      user.rides.map(r=>totalMiles+=r.distance)\n\n      return totalMiles\n    }\n  }\n  getTotalEarned=(user)=>{\n    let totalEarned=0\n    if(user.rides){\n      user.rides.map(r=>totalEarned+=r.price)\n      return totalEarned\n    }\n  }\n\n  getTotalTimeDriving=(user)=>{\n    let totalTime =0\n    if(user.rides){\n      user.rides.map(r=>{\n        let rideTime = r.end_at-r.started_at\n        return totalTime+=rideTime\n      })\n      return totalTime\n    }\n  }\n  getMileLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return this.getTotalMiles(usera)-this.getTotalMiles(userb)\n      })\n\n      return newUsers.reverse()[0]\n    }\n  }\n  getRatingLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return usera.rating-userb.rating\n      })\n    }\n    return newUsers.reverse()[0]\n  }\n  getExperienceLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return usera.experience-userb.experience\n      })\n    }\n\n    return newUsers.reverse()[0]\n  }\n\n  getTimeLeader=(users)=>{\n    if(users!==[]){\n      return users.sort((usera,userb)=>{\n        return this.getTimeLeader(usera)-this.getTimeLeader(userb)\n      })\n\n    }\n\n  }\n  getEarnerLeader=(users)=>{\n    let newUsers=[...users]\n    if(newUsers!==[]){\n      newUsers.sort((usera,userb)=>{\n        return this.getTotalEarned(usera)-this.getTotalEarned(userb)\n      })\n\n      return newUsers.reverse()[0]\n    }\n  }\n  renderUserTotals=()=>{\n    if(this.props.leaders){\n      return this.props.leaders.map((leader,idx)=>{\n\n        return (\n          <div key={idx}>\n            <h1>User:{leader.name}</h1>\n            <p>Miles: {this.getTotalMiles(leader)}</p>\n            <p>Total Earned:{this.getTotalEarned(leader)}</p>\n            <p>Total Time:{this.getTotalTimeDriving(leader)}</p>\n          </div>\n        )\n\n      })\n    }\n  }\n  handleUserClick=(e,user)=>{\n    // debugger\n    if (!user===this.props.currentUser){\n      return (\n        <Profile\n          user={user}\n          rides={this.props.rides}\n          forum={this.props.forums}\n          isCurrentUserProfile={false}\n          currentUser={this.props.currentUser}\n          allCompanies={this.props.allCompanies}\n          />\n      )\n    }\n    else{\n      return (\n        <Profile\n          user={user}\n          rides={this.props.rides}\n          forum={this.props.forums}\n          isCurrentUserProfile={true}\n          currentUser={this.props.currentUser}\n          allCompanies={this.props.allCompanies}\n          />\n      )\n\n    }\n  }\n  renderLeaderBoard=()=>{\n\n    if(this.props.leaders){\n\n      return (\n        <Fragment>\n          <div id='leaderboard col-12'>\n            <div className=\"list-group\" >\n              <Leader\n                title={'Highest Rating: '}\n                design={'list-group-item google-plus'}\n                icon={'icon glyphicon glyphicon-star'}\n                getUser={this.getRatingLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                superlative={'rating'}\n                />\n              <Leader\n                title={'Most Miles: '}\n                design={'list-group-item twitter'}\n                icon={'icon glyphicon glyphicon-road'}\n                getUser={this.getMileLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                getStat={this.getTotalMiles}\n                />\n              <Leader\n                title={'Highest Earner: '}\n                design={'list-group-item youtube'}\n                icon={'icon glyphicon glyphicon-usd'}\n                getUser={this.getEarnerLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                superlative={'money'}\n                getStat={this.getTotalEarned}\n                />\n              <Leader\n                title={'Most Experience: '}\n                design={'list-group-item tumblr'}\n                icon={'icon glyphicon glyphicon-hourglass'}\n                getUser={this.getExperienceLeader(this.props.leaders)}\n                handleClick={this.handleUserClick}\n                superlative={'experience'}\n                />\n            </div>\n          </div>\n        </Fragment>\n      )\n    }\n\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderLeaderBoard()}\n      </div>\n    )\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n\n\tfetchRides:() => dispatch(fetchRides()),\n\tfetchUsers:()=>dispatch(fetchUsers())\n})\nfunction mapStateToProps(state) {\n\n\tconst { user } = state;\n  const { rides} = state.rides;\n  return {\n    allCompanies:user.allCompanies,\n    rides: rides[0],\n    users:user.users[2],\n    currentUser:user.currentUser\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps) (Leaderboard)\n","import React from \"react\";\nimport Leaderboard from './Leaderboard.js'\nimport RideList from './RideList'\nimport { connect } from 'react-redux';\nimport {fetchUsers,fetchRides} from '../Actions';\n\n\n\nclass Rides extends React.Component {\n\n\n  state = {\n      allRides: this.props.rides,\n      filteredRides: this.props.rides,\n      users:[],\n      textInput: ''\n    }\n\n  componentDidMount(){\n    this.props.fetchRides();\n    this.props.fetchUsers();\n  }\n\n  UNSAFE_componentWillReceiveProps(){\n    this.setState({\n      users: this.props.users,\n      allRides: this.props.rides,\n      filteredRides: this.props.rides\n    })\n  }\n\n  returnDropdown = () => {\n    return (\n      <div className=\"\">\n      <form action=\"/action_page.php\">\n      <select name=\"cars\"\n      onChange={this.handleSortSubmit}\n      >\n        <option value=\"recent\">Most Recent</option>\n        <option value=\"price\">Price</option>\n        <option value=\"distance\">Distance</option>\n      </select>\n      <select name=\"cars\"\n      onChange={this.handleFilterSubmit}\n      >\n        <option value=\"all\">All</option>\n        <option value=\"uber\">Uber</option>\n        <option value=\"lyft\">Lyft</option>\n\n      </select>\n        <input\n         type=\"text\"\n         onChange={this.handleSearch}\n         value={this.state.textInput}\n         placeholder=\"Search by location\"\n         />\n         <form action=\"/action_page.php\">\n          <input type=\"radio\" name=\"gender\" value=\"friends\" onChange={(e) =>this.handleFriendFilter(e)}/> Friends\n          <input type=\"radio\" name=\"gender\" value=\"all\" onChange={this.handleChangeBack}/> All\n        </form>\n      </form>\n      </div>\n    )\n  }\n\n  handleChangeBack = () => {\n    this.setState({filteredRides: this.state.allRides})\n  }\n//this function is super javascripty//\n  handleFriendFilter = (e) => {\n    if(this.props.currentUser){\n\n      e.preventDefault()\n      let myFriends = this.props.currentUser.followers.map(follower => follower.id)\n      let filtered =[]\n      this.state.allRides.map((ride) =>\n      {\n        for (let i = 0; i < myFriends.length; i ++){\n          if (ride.user_id === myFriends[i] ){\n            return filtered.push(ride)\n          }\n        }\n        \n      }\n    )\n    this.setState({filteredRides: filtered})\n    }\n  }\n\n  handleSearch = (e) => {\n    this.setState({textInput: e.target.value})\n    let filtered = this.state.allRides.filter(ride =>\n       ride.start_location.toLowerCase().includes(e.target.value.toLowerCase())\n    || ride.end_location.toLowerCase().includes(e.target.value.toLowerCase()) )\n    this.setState({filteredRides: filtered})\n  }\n\n  handleSortSubmit = (e) => {\n    e.preventDefault()\n    if (e.target.value === \"distance\"){\n      let filtered = this.state.filteredRides.sort((a, b) => (a.distance < b.distance)? 1 : -1)\n      this.setState({filteredRides: filtered})\n    }\n    else if (e.target.value === \"price\"){\n      let filtered = this.state.filteredRides.sort((a, b) => (a.price < b.price)? 1 : -1)\n      this.setState({filteredRides: filtered})\n    }\n    //DID NOT TEST THIS YET\n    else if (e.target.value === \"recent\"){\n      let filtered = this.state.filteredRides.sort((a, b) => (a.end_at > b.end_at)? 1 : -1)\n      this.setState({filteredRides: filtered})\n    }\n    ////////\n  }\n\n  handleFilterSubmit = (e) => {\n    e.preventDefault()\n\n    if (e.target.value === \"all\"){\n      this.setState({filteredRides: this.state.allRides})\n    }\n\n    else if (e.target.value === \"uber\"){\n      let filtered = this.state.allRides.filter(ride => ride.company_id === 1)\n      this.setState({filteredRides: filtered})\n    }\n\n    else if (e.target.value === \"lyft\"){\n      let filtered = this.state.allRides.filter(ride => ride.company_id === 2)\n      this.setState({filteredRides: filtered})\n    }\n  }\n\n  render() {\n\n    return (\n      <>\n\n      <div className = \"container col-11\" id=\"rides-page\">\n        {this.props.users?\n\n        <Leaderboard\n          leaders={this.props.users}\n          allUsers={this.props.users}\n          user={this.props.currentUser}\n          forum={this.props.forums}\n          rides={this.props.rides}\n          allCompanies={this.props.allCompanies}\n          />\n        :     <h4>LOADING</h4>}\n\n        <RideList rides={this.state.filteredRides} displayDropdown={this.returnDropdown}/>\n        \n      </div>\n      </>\n    )\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n\n\tfetchRides:() => dispatch(fetchRides()),\n\tfetchUsers:()=>dispatch(fetchUsers())\n})\nfunction mapStateToProps(state) {\n\tconst { user } = state;\n  const { rides} = state.rides;\n  const {forums}= state.forums;\n  return {\n    allCompanies:user.allCompanies,\n    rides: rides,\n    forums:user.forums,\n    allForums: forums[0],\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\nexport default connect(mapStateToProps,mapDispatchToProps) (Rides)\n","import React from \"react\";\n\nimport { Link} from 'react-router-dom'\n\n\nimport { MDBContainer, MDBRow, MDBCol } from 'mdbreact';\nimport TextField from \"@material-ui/core/TextField\";\nimport { connect } from 'react-redux';\nimport {userLoginFetch} from '../Actions';\nimport { Form, Button } from 'semantic-ui-react'\nimport '../App.css';\n\n\nclass LoginForm extends React.Component {\n\n  state = {\n    username: \"\",\n    password: \"\",\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps) {\n    if(newProps.currentUser){\n      this.props.history.push(`/profile`)\n    }\n  }\n\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleSubmit = () => {\n    this.props.userLoginFetch(this.state)\n\n\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"authBox\">\n\n          <MDBContainer  >\n            <MDBRow >\n              <MDBCol >\n                <Form onSubmit={this.handleSubmit}>\n                  <h1>Sign in</h1>\n\n                  <Form.Field>\n      \t\t\t\t\t\t\t<TextField\n      \t\t\t\t\t\t\t\tname=\"username\"\n      \t\t\t\t\t\t\t\tlabel=\"Username\"\n      \t\t\t\t\t\t\t\tvalue={this.state.username}\n      \t\t\t\t\t\t\t\tonChange={this.handleChange}\n                      style={{width:'50%'}}\n\n      \t\t\t\t\t\t\t\t/>\n      \t\t\t\t\t\t</Form.Field>\n\n                  <br />\n                    <Form.Field>\n        \t\t\t\t\t\t\t<TextField\n        \t\t\t          type='password'\n        \t\t\t          name=\"password\"\n        \t\t\t          label=\"Password\"\n        \t\t\t          value={this.state.password}\n        \t\t\t          onChange={this.handleChange}\n                        style={{width:'50%'}}\n\n        \t\t\t        />\n        \t\t\t\t\t\t</Form.Field>\n\n                  <div className=\"col text-center mt-4\" >\n                      <Button styel={{width:'60%'}} id=\"authbutton\" color=\"teal\" className='btn btn-primary' type=\"submit\">\n                        Login\n                      </Button>\n                      <Link to='/signup' id=\"authbutton\" className='btn btn-primary' color='teal'>\n                        Sign Up\n                      </Link>\n                  </div>\n                </Form>\n                <div className='text-center mt-4'>\n                  <p className='h5 text-center mb-4'>  </p>\n                </div>\n              </MDBCol>\n            </MDBRow>\n          </MDBContainer>\n\n        </div>\n\n      </div>\n    )\n  }\n}\nconst mapDispatchToProps = dispatch => ({\n  userLoginFetch: userInfo => dispatch(userLoginFetch(userInfo))\n})\nfunction mapStateToProps(state) {\n  const {user} = state\n  return {\n    currentUser: user.currentUser\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n","import React from 'react';\n\nconst PasswordStr = props => {\n  var strColor;\n  var strWidth;\n\n  switch (props.score) {\n    case 1:\n      strColor = 'red';\n      strWidth = '20%';\n      break;\n    case 2:\n      strColor = 'orange';\n      strWidth = '40%';\n      break;\n    case 3:\n      strColor = 'yellow';\n      strWidth = '60%';\n      break;\n    case 4:\n      strColor = '#5cff47';\n      strWidth = '80%';\n      break;\n    case 5:\n      strColor = 'green';\n      strWidth = '100%';\n      break;\n    default:\n  }\n\n  var style = { backgroundColor: strColor, height: '5px', width: strWidth, transition: 'all 300ms ease-in-out' }\n\n  return (\n  <div>\n    <p className=\"pwStrWeak\">weak</p>\n    <p className=\"pwStrStrong\">strong</p>\n    <div style={style} />\n  </div>\n  );\n\n}\n\nexport default PasswordStr;\n","import React from 'react'\nimport { connect } from 'react-redux';\nimport {Link} from 'react-router-dom'\n\n\n//library imports\nimport TextField from \"@material-ui/core/TextField\";\nimport { Form, Button } from 'semantic-ui-react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEye } from '@fortawesome/free-solid-svg-icons'\n\n\nimport {createUser} from '../Actions';\n\nimport PasswordStr from \"./PasswordStr\";\nconst zxcvbn = require(\"zxcvbn\");\n\n\n\n\nclass SignupForm extends React.Component {\n\tstate = {\n\t\tname: \"\",\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\tpasswordConfirmation: \"\",\n\t\tbtnTxt: \"show\",\n    type: \"password\",\n    score: \"0\",\n\t\terrors:{},\n\t}\n\n\tUNSAFE_componentWillReceiveProps(newProps) {\n\t\tif(newProps.currentUser){\n\t\t\tthis.props.history.push(`/profile`)\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n\t}\n\n\tpwHandleChange=(event)=> {\n\n\n\t\tthis.setState({\n\t\t\tpassword:event.target.value\n\t\t});\n\n\t\tif (event.target.value === \"\") {\n\t\t\tthis.setState(state =>\n\t\t\t\tObject.assign({}, state, {\n\t\t\t\t\tscore: \"null\"\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\n\t\t\tlet pw = zxcvbn(event.target.value);\n\t\t\tthis.setState(state =>\n\t\t\t\tObject.assign({}, state, {\n\t\t\t\t\tscore: pw.score + 1\n\t\t\t\t})\n\t\t\t);\n\t\t}\n}\n\n\n\thandleSubmit = () => {\n\t\tif(this.state.password === this.state.passwordConfirmation){\n\t\t\tthis.props.createUser(this.state)\n\t\t} else {\n\t\t\talert(\"Passwords don't match!\")\n\t\t}\n\t}\n\n\tpwMask=(event) =>{\n\t event.preventDefault();\n\t this.setState(state =>\n\t\t Object.assign({}, state, {\n\t\t\t type: this.state.type === \"password\" ? \"input\" : \"password\",\n\t\t\t btnTxt: this.state.btnTxt === \"show\" ? \"hide\" : \"show\"\n\t\t })\n\t );\n }\n\n\n\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"container\">\n\n\t\t\t\t<div className=\"authBox\">\n\t\t\t\t\t<h1>Sign Up</h1>\n\n\t\t\t\t\t<Form className='col' onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\tvalue={this.state.username}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\tvalue={this.state.name}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t          type={this.state.type}\n\t\t\t          name=\"password\"\n\t\t\t          label=\"Password\"\n\t\t\t          value={this.state.password}\n\t\t\t          onChange={this.pwHandleChange}\n\t\t\t          errorText={this.state.errors.password}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\n\t\t\t        />\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t\t<FontAwesomeIcon id=\"pwShowHideBtn\" onClick={this.pwMask} icon={faEye} />\n\n\n\t\t\t\t\t\t<div className=\"pwStrRow\">\n\t\t          {this.state.score >= 1 ? (\n\t\t            <div>\n\t\t              <PasswordStr score={this.state.score} />\n\n\n\t\t            </div>\n\t\t\t\t\t\t\t):null}\n\t\t        </div>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\ttype={this.state.type}\n\t\t\t\t\t\t\t\tname=\"passwordConfirmation\"\n\t\t\t\t\t\t\t\tlabel=\"Confirm Pssword\"\n\t\t\t\t\t\t\t\tvalue={this.state.passwordConfirmation}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\terrorText={this.state.errors.pwconfirm}\n\t\t\t\t\t\t\t\tstyle={{width:'50%'}}\n\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<Form.Field>\n\t\t\t\t\t\t\t<Button className='btn btn-primary' color=\"teal\" style={{width:'60%',}} type='submit'>Submit</Button>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t</Form>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<p> Aleady have an account? <br />\n\t\t\t\t\t\t<Link to='/login'>\n\t\t\t\t\t\t\tLogin Here!\n\n\t\t\t\t\t\t</Link>\n\t\t      </p>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n// <input type=\"file\" onChange={this.fileSelectedHandler}/>\n// <button onClick={this.fileUploadHandler}></button>\nfunction mapStateToProps(state) {\n  // maps the state from the store to the props\n  const {user} = state\n  return {\n    currentUser: user.currentUser\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  createUser: userInfo => dispatch(createUser(userInfo))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupForm);\n","import React, {Component, Fragment} from 'react'\nimport {connect} from 'react-redux'\n\nimport {postNewMessage,fetchUsers,fetchForumMessages,resetMessages} from '../Actions.js'\n\n\nclass ChatBox extends Component{\n\n  constructor(props){\n\n    super(props)\n\n    this.state = {\n      formInput: '',\n      currentUser: this.props.currentUser,\n      currentChat: this.props.currentChat,\n      messages:[],\n    }\n  }\n\n  componentDidMount(){\n    this.props.fetchUsers();\n\n    this.setState({messages:this.props.messages})\n\n\n\n  }\n\n\n  UNSAFE_componentWillReceiveProps(newProps){\n\n\n      // nextProps.myProp has a different value than our current prop\n      // so we can perform some calculations based on the new value\n      this.setState({messages:newProps.messages})\n\n  }\n\n  renderMessages = (messages) => {\n    if (this.props.users){\n\n      return messages.map((m,idx)=>{\n\n        let messageName =this.props.users.find(user=> user.id === m.user_id).name\n        return (\n            <div key={idx} className=\"incoming_msg\">\n              <div className=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\"/> </div>\n              <div className=\"received_msg\">\n                <div className=\"received_withd_msg\">\n                  <p>\n                    {m.content}\n                  </p>\n                  <span className=\"time_date\">  {messageName ? messageName : 'NotFound'}   |  {m.created_at}  </span></div>\n                </div>\n              </div>\n          )\n        })\n\n    }\n\n\n\n\n  }\n\n  handleClose = () => {\n    this.props.resetMessages()\n    this.props.closeChat()\n  }\n\n  handleInput = (e) => {\n    this.setState({formInput: e.target.value})\n  }\n\n  handleMessageSubmit = () => {\n\n    this.props.postNewMessage(this.props.currentUser,this.state.formInput,this.state.currentChat)\n    this.setState({formInput: ''})\n\n  }\n\n  addNewMessage = (r) => {\n    let copy = [...this.state.messages, r]\n    this.setState({messages: copy,formInput:''})\n\n  }\n\n  render(){\n    // debugger\n    return (\n      <Fragment>\n      <div id=\"chatbox\">\n      <h3 className=\" text-center\">{this.props.currentChat? this.props.currentChat.topic:null} Messaging</h3>\n      <div className=\"messaging\">\n            <div className=\"inbox_msg\">\n              <div >\n              <button onClick={() => this.handleClose()}>Close Chat</button>\n                <div className=\"headind_srch\">\n                </div>\n              </div>\n              <div className=\"mesgs\">\n                <div className=\"msg_history\">\n                {this.renderMessages(this.props.messages)}\n                </div>\n                <div className=\"type_msg\">\n                  <div className=\"input_msg_write\">\n                    <input type=\"text\" className=\"write_msg\" placeholder=\"Type a message\" value={this.state.formInput} onChange={(e) => this.handleInput(e)}/>\n                    <button className=\"msg_send_btn\" type=\"button\" onClick={() => this.handleMessageSubmit()}><i className=\"fa fa-paper-plane-o\" aria-hidden=\"true\"></i>Send!</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <p className=\"text-center top_spac\"> Design by <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://brianjmurillo.com\">Brian Murillo</a></p>\n          </div></div>\n      </Fragment>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  fetchUsers:()=>dispatch(fetchUsers()),\n  fetchForumMessages:(forum)=>dispatch(fetchForumMessages(forum)),\n  postNewMessage:(user,forum,message)=>dispatch(postNewMessage(user,forum,message)),\n  resetMessages:()=>dispatch(resetMessages()),\n\n})\n\nfunction mapStateToProps(state){\n  const {user}= state;\n  const {forums} = state\n\n  return {\n    users:user.users,\n    messages:forums.messages\n\n  }\n}\n\nexport default connect (mapStateToProps,mapDispatchToProps)(ChatBox)\n","//import react\nimport React from \"react\";\nimport { connect } from 'react-redux';\n\n// import libraries\n\n//import components\nimport ForumsList from './ForumsList.js'\nimport ChatBox from './ChatBox.js'\nimport NotLoggedIn from './NotLoggedIn.js'\n\n\n//import actions\nimport {fetchForums,fetchUsers,fetchForumMessages}from '../Actions.js'\n\n\n\nclass ForumsPage extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      allForums: null,\n      clickedForum: null,\n      openChat: false\n    }\n  }\n\n  componentDidMount(){\n\n    this.props.fetchForums();\n    this.props.fetchUsers();\n  }\n\n  handleForumClick = (e,topic) => {\n\n\n    let forum = this.props.forums.find(f => f.topic === topic)\n    // debugger\n    if(forum){\n\n      this.props.fetchForumMessages(forum)\n    }\n\n    this.setState({clickedForum: topic,openChat:true})\n  }\n\n  closeChat = () => {\n    this.setState({openChat: false})\n  }\n  renderPage = ()=>{\n    return (\n      <>\n      <div id=\"forum-list\">\n        <h3>Click on a Forum To Chat</h3>\n      {!this.state.openChat ? <ForumsList handleForumClick={this.handleForumClick} forums={this.props.allForums}/> :\n       <ChatBox\n      currentUser={this.props.currentUser}\n      closeChat={this.closeChat}\n      currentChat={this.props.forums.find(forum => forum.topic === this.state.clickedForum)}\n      />\n  }\n    </div>\n    </>\n\n    )\n  }\n\n\n  render(){\n    return (\n      <div className=\"container\">\n        {this.props.currentUser ? this.renderPage() : <NotLoggedIn/>}\n      </div>\n\n    )\n  }\n\n}\nconst mapDispatchToProps = dispatch => ({\n\tfetchUsers:()=>dispatch(fetchUsers()),\n  fetchForums:()=>dispatch(fetchForums()),\n  fetchForumMessages:(f)=>dispatch(fetchForumMessages(f)),\n\n})\n\nfunction mapStateToProps(state) {\n\tconst { user } = state;\n  const {forums}=state.forums;\n\n\n  return {\n    allCompanies:user.allCompanies,\n    rides:user.rides,\n    forums:forums[0],\n    allForums:forums[0],\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps) (ForumsPage)\n","import React from \"react\";\nimport {connect} from 'react-redux'\nimport FriendsBox from './friends-box.js'\nimport {fetchUsers} from '../Actions.js'\n\n\nclass DiscoverPage extends React.Component {\n  componentDidMount(){\n    this.props.fetchUsers()\n  }\n  renderFriendsBox(){\n    //if logged in dont render the logged in user to the DiscoverPage\n    // so you cant see yourself on page\n    //if not logged in render all the users\n    if(this.props.currentUser){\n      return (<>\n        <FriendsBox followers={\n            this.props.users.filter(u=>u.id!==this.props.currentUser.id)\n          }/>\n          </>)\n\n    }else{\n      return (<>\n        <FriendsBox followers={\n            this.props.users\n          }/>\n          </>)\n\n\n    }\n  }\n  render() {\n    return (\n      <div className=\"container\">\n\n        <div id=\"discoverpage\">\n          {this.props.users?this.renderFriendsBox():\n            <div className='authBox'>\n              <h3>Loading..</h3>\n            </div>\n            }\n        </div>\n\n      </div>\n\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n\n\tconst { user } = state;\n\n\n  return {\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\n\nconst mapDispatchToProps=dispatch=>({\n  fetchUsers:()=>dispatch(fetchUsers()),\n\n})\n\n\nexport default connect(mapStateToProps,mapDispatchToProps) (DiscoverPage)\n","import React from 'react';\nimport {  Route,Switch, Redirect} from 'react-router-dom'\n\nimport { connect } from 'react-redux';\n\nimport {Grid} from 'semantic-ui-react'\n\nimport Header from './Components/Header.js'\nimport Rides from './Components/Rides.js'\nimport LoginForm from './Components/LoginForm.js'\nimport SignupForm from './Components/SignupForm.js'\nimport ForumsPage from './Components/ForumsPage.js'\nimport DiscoverPage from './Components/DiscoverPage.js'\nimport NotLoggedIn from './Components/NotLoggedIn.js'\n\nimport Profile from './Components/Profile.js'\nimport {fetchUser,getProfileFetch, setLogout,fetchUsers,fetchRides,fetchForums,fetchCompanies} from './Actions';\n\nimport './App.css';\n\n\n\nclass App extends React.Component {\n\n\tcomponentDidMount() {\n    this.props.getProfileFetch();\n\t\tthis.props.fetchRides();\n\t\tthis.props.fetchUsers();\n\t\tthis.props.fetchForums();\n\n\t}\n\trenderUserPage=()=>{\n\t\treturn (\n\t\t <>\n\t\t <Route path=\"/users/:id\" exact render={(props) => {\n\t\t\t\t debugger\n\n\t\t\t\t let paramid = parseInt(props.match.params.id)\n\t\t\t\t if(this.props.currentUser){\n\n\t\t\t\t\t  // debugger\n\t\t\t\t\t\tif(paramid !== this.props.currentUser.id){\n\t\t\t\t\t\t\tlet userFromParams = this.props.users.find(u => u.id === paramid )\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t <Profile\n\t\t\t\t\t\t\t\t {...props}\n\t\t\t\t\t\t\t\t allCompanies={this.props.allCompanies}\n\t\t\t\t\t\t\t\t currentUser={this.props.currentUser}\n\t\t\t\t\t\t\t\t user={userFromParams}\n\t\t\t\t\t\t\t />)\n\t\t\t\t\t }else{\n\n\t\t\t\t\t }\n\t\t\t\t }\t}} />\n\t\t\t </>\n\t )\n }\n renderPage=(rout)=>{\n\t let paramid = parseInt(rout.match.params.id)\n\t if(this.props.currentUser){\n\n\n\t\t\tif(paramid !== this.props.currentUser.id){\n\t\t\t\tif(this.props.users){\n\n\t\t\t\t\tlet userFromParams = this.props.users.find(u => u.id === paramid )\n\t\t\t\t\t\n\t\t\t\t\tthis.props.fetchUser(userFromParams)\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\t{...rout}\n\t\t\t\t\t\t\tallCompanies={this.props.allCompanies}\n\t\t\t\t\t\t\tisCurrentUserProfile={false}\n\t\t\t\t\t\t\tcurrentUser={this.props.currentUser}\n\t\t\t\t\t\t\tuser={userFromParams}\n\t\t\t\t\t\t\t/>)\n\t\t\t\t}\n\t\t }\n\t }\n\t else{\n\n\t\t if(this.props.users){\n\t\t\t//  let userFromParams = this.props.users.find(u => u.id === paramid )\n\t\t\t // this.props.fetchUser(userFromParams)\n\t\t\t // <Profile\n\t\t\t\t//  {...rout}\n\t\t\t\t//  isCurrentUserProfile={false}\n\t\t\t\t//  user={userFromParams}\n\t\t\t\t//  />\n\t\t\t return (\n\t\t\t\t <NotLoggedIn/>\n\t\t\t )\n\n\t\t }\n\t }\n\n }\n\trenderProfileRoute=()=>{\n\t  return (\n\t\t\t<>\n\t    <Route path=\"/users/:id\" exact render={(props) => {\n\t        let id = parseInt(props.match.params.id)\n\t      if(this.props.currentUser){\n\t        if(id !== this.props.currentUser.id){\n\t          let ourUser = this.props.users.find(u => u.id === id )\n\t          return (\n\t            <Profile\n\t              {...props}\n\t              allCompanies={this.props.allCompanies}\n\t              currentUser={this.props.currentUser}\n\t              user={ourUser}\n\t            />\n\t          )\n\t        }\n\t        else {\n\n\t          return (\n\t            <Profile\n\t              {...props}\n\t              allCompanies={this.props.allCompanies}\n\t              currentUser={this.props.currentUser}\n\t              user={this.props.currentUser}\n\n\t            />\n\t          )\n\t        }}\n\t    }}/>\n\t\t</>\n\n\t  )\n\n\t}\n\n\n\n  render() {\n\n    return (\n      <>\n      <Grid>\n        <Header history={this.props.history}  currentUser={this.props.currentUser} />\n        <Grid.Row centered>\n          <Switch>\n\t\t\t\t\t\t<Route path=\"/login\" render={routerProps => <LoginForm {...routerProps} setCurrentUser={this.props.setCurrentUser} />} />\n\t\t\t\t\t\t<Route path=\"/profile\" render={routerProps =>{\n\t\t\t\t\t\t\t\tif(this.props.currentUser){\n\t\t\t\t\t\t\t\t\tthis.props.fetchUser(this.props.currentUser)\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Profile {...routerProps} allCompanies={this.props.allCompanies}\t isCurrentUserProfile={false} currentUser={this.props.currentUser} user={this.props.currentUser} />\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\t\treturn (\n\n\t\t\t\t\t\t\t\t\t\t<Route path=\"/\" />\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route path=\"/user/:id\" render={(routerProps) =>\n\t\t\t\t\t\t\t\t\tthis.renderPage(routerProps)\t\t\t\t\t\t} />\n\n\t\t\t\t\t\t<Route path=\"/discover\" component={DiscoverPage} />\n\n            <Route path=\"/forums\" component={ForumsPage} />\n            <Route path=\"/rides\" component={Rides} />\n\t\t\t\t\t\t<Route path=\"/signup\" render={routerProps => <SignupForm {...routerProps} setCurrentUser={this.props.setCurrentUser} />} />\n\n\t\t\t\t\t\t{!this.props.currentUser ?\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/login\" />\n\t\t\t\t\t\t\t:<>\n\t\t\t\t\t\t\t<Redirect from={'/user/'+this.props.currentUser.id} to=\"/profile\"/>\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/profile\" /></>\n\n\t\t\t\t\t\t }\n\n\n\n          </Switch>\n        </Grid.Row>\n      </Grid>\n      </>\n    )\n  }\n}\n\n\nconst mapDispatchToProps = dispatch => ({\n  getProfileFetch: () => dispatch(getProfileFetch()),\n  setLogout: () => dispatch(setLogout()),\n\tfetchRides:() => dispatch(fetchRides()),\n\tfetchForums:() => dispatch(fetchForums()),\n\tfetchUsers:()=>dispatch(fetchUsers()),\n\tfetchCompanies:()=>dispatch(fetchCompanies()),\n\tfetchUser:(u)=>dispatch(fetchUser(u)),\n\n})\nfunction mapStateToProps(state) {\n  // maps the state from the store to the props\n\t// debugger\n\tconst { user } = state;\n  const { rides} = state.rides;\n  const {forums}= state.forums;\n\n  return {\n    allCompanies:user.allCompanies,\n    rides: rides,\n    forums:forums[0],\n    allForums: forums[0],\n    users:user.users,\n    currentUser:user.currentUser\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// import {push} from 'react-router-redux';\n\nimport {\n   SET_ALL_FOLLOWING,ADD_FOLLOWING,\n  REMOVE_FOLLOWING,FETCH_ALL_FRIENDSHIPS,ADD_USER,\n  LOGIN_USER,ADD_FOLLOWER,REMOVE_FOLLOWER,SET_USER,\n  FETCH_ALL_USERS,FETCH_ALL_COMPANIES,LOGOUT_USER,\n  ADD_FRIENDSHIP,REMOVE_FRIENDSHIP} from '../Constants';\n\n\nconst initialUserState = {\n  users: [],\n  allCompanies:[],\n  forums:[],\n  rides: [],\n  allForums:[],\n  friendships: [],\n  followers:[],\n  following:[],\n  userProfile:null,\n  currentUser: null\n\n};\n\nexport default function userReducer(state = initialUserState, action) {\n  switch(action.type) {\n    case ADD_USER:\n      return { ...state, users: [...state.users, action.payload] };\n    case \"RESET\":\n      return initialUserState;\n    case FETCH_ALL_COMPANIES:\n      return {...state,allCompanies:action.payload}\n    case LOGIN_USER:\n\n      return {...state,currentUser:action.payload};\n    case FETCH_ALL_USERS:\n      return{...state,users:action.payload}\n\n    case ADD_FOLLOWER:\n      return {...state,\n        currentUser:{\n          ...state.currentUser,\n          followers:[...state.currentUser.followers,\n            action.payload]\n          }\n        }\n\n    case REMOVE_FOLLOWER:\n    let removeFollowers = state.currentUser.followers.filter(val => val.id !== action.payload.id);\n    return {...state,currentUser:{...state.currentUser,followers:removeFollowers}}\n\n    case SET_ALL_FOLLOWING:\n      return {...state,following:action.payload}\n    case ADD_FOLLOWING:\n\n      return {...state,\n        currentUser:{\n          ...state.currentUser,\n          following:[...state.currentUser.following,\n            action.payload]\n          }\n        }\n\n    case REMOVE_FOLLOWING:\n      let removeFollowing = state.currentUser.following.filter(val => val.id !== action.payload.id);\n      return {...state,currentUser:{...state.currentUser,following:removeFollowing}}\n    case LOGOUT_USER:\n      return {...state, currentUser: null }\n    case SET_USER:\n\n      return {...state,userProfile:action.payload}\n    case FETCH_ALL_FRIENDSHIPS:\n      return {...state,friendships:action.payload}\n    case ADD_FRIENDSHIP:\n      return {...state,friendships:[...state.friendships,action.payload]}\n    case REMOVE_FRIENDSHIP:\n      let removeFriendship = state.friendships.filter(val=>val.id!==action.payload.id)\n      return {...state,friendships:removeFriendship}\n\n    default:\n      return state;\n  }\n}\n","\n\nimport {RESET_MESSAGES,FETCH_ALL_FORUMS,FETCH_ALL_FORUM_MESSAGES,ADD_FORUM_MESSAGE} from '../Constants';\n\n\nconst initialForumsState = {\n\n  forums: [],\n  messages:[]\n\n\n};\n\nexport default function forumsReducer(state = initialForumsState, action) {\n  switch(action.type) {\n    case FETCH_ALL_FORUMS:\n      return { ...state, forums: [...state.forums, action.payload] };\n    case ADD_FORUM_MESSAGE:\n      return {...state,messages:[...state.messages,action.payload]};\n    case FETCH_ALL_FORUM_MESSAGES:\n   \n      return {...state,messages:action.payload}\n    case RESET_MESSAGES:\n      return {...state,messages:[]}\n\n\n\n\n    default:\n      return state;\n  }\n}\n","\n\nimport {FETCH_ALL_RIDES,ADD_RIDE} from '../Constants';\n\n\nconst initialRidesState = {\n\n  rides: [],\n\n\n};\n\nexport default function ridesReducer(state = initialRidesState, action) {\n  switch(action.type) {\n    case FETCH_ALL_RIDES:\n      return { ...state, rides:action.payload };\n\n    case ADD_RIDE:\n      return {...state, rides:[...state.rides,action.payload]}\n\n\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport {  routerReducer } from 'react-router-redux'\nimport userReducer from './userReducer';\nimport forumsReducer from './forumsReducer';\nimport ridesReducer from './ridesReducer';\n\nexport default combineReducers({\n  // currentUser:userReducer.currentUser,\n  user: userReducer,\n  rides: ridesReducer,\n  forums: forumsReducer,\n   routing: routerReducer,\n})\n","import rootReducer from './Reducers'; // trick with imports\nimport thunk from 'redux-thunk';\n\nimport { createStore, applyMiddleware } from 'redux';\n// import { routerMiddleware } from 'react-router-redux'\n// import {  browserHistory } from 'react-router'\n\n// const middleware = routerMiddleware(browserHistory)\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { Provider } from 'react-redux';\nimport store from './store'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <Route path=\"/\" component={App} />\n    </Router>\n  </Provider>, document.getElementById('root')\n);\n\n\n//\n// ReactDOM.render(\n//     <Provider store={store}>\n//       <Router  history={history}>\n//         <App/>\n//       </Router>\n//     </Provider>,\n//   document.getElementById('root'));\n\n// ReactDOM.render(\n//     <Provider store={store}>\n//       <Router history={history}>\n//         <Route path=\"/\" component={App}>\n//           <Route path=\"login\" component={LoginForm}/>\n//         </Route>\n//       </Router>\n//     </Provider>,\n//     document.querySelector('#root')\n//   )\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}